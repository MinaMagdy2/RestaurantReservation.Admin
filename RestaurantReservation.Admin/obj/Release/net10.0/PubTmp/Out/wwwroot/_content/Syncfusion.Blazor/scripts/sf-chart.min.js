/*!*  filename: sf-chart.min.js 
*     version : 31.2.12 
*     Copyright Syncfusion Inc. 2001 - 2025. All rights reserved. 
*     Use of this code is subject to the terms of our license.
*     A copy of the current license can be obtained at any time by e-mailing 
*     licensing@syncfusion.com. Any infringement will be prosecuted under 
*     applicable laws. 
*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"./bundles/sf-chart.js":function(e,t,i){"use strict";i.r(t);i("./modules/sf-chart.js")},"./modules/sf-chart.js":function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.sfBlazor=window.sfBlazor||{},window.sfBlazor.Chart=function(){"use strict";var e,t=(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)},function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),o=function(e,t,i,o){return new(i||(i=Promise))((function(s,r){function n(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,a)}l((o=o.apply(e,t||[])).next())}))},s=function(e,t){var i,o,s,r,n={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(s=2&r[0]?o.return:r[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,r[1])).done)return s;switch(o=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return n.label++,{value:r[1],done:!1};case 5:n.label++,o=r[1],r=[0];continue;case 7:r=n.ops.pop(),n.trys.pop();continue;default:if(!(s=n.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){n=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){n.label=r[1];break}if(6===r[0]&&n.label<s[1]){n.label=s[1],s=r;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(r);break}s[2]&&n.ops.pop(),n.trys.pop();continue}r=t.call(e,n)}catch(e){r=[6,e],o=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},r=function(){function e(e,t,i,o,s,r,n,a){void 0===s&&(s=!1),void 0===r&&(r=!1),window.sfBlazor=window.sfBlazor,this.mouseY=0,this.mouseX=0,this.isTouch=!1,this.eventInterval=80,this.mouseMoveRef=null,this.mouseMoveThreshold=null,this.chartOnMouseClickRef=null,this.chartRightClickRef=null,this.mouseLeaveRef=null,this.chartKeyDownRef=null,this.chartKeyUpRef=null,this.chartMouseWheelRef=null,this.chartOnMouseDownRef=null,this.mouseEndRef=null,this.chartMouseWheelThreshold=null,this.domMouseMoveRef=null,this.domMouseMoveThreshold=null,this.scrollbarMouseMoveThreshold=null,this.scrollbarMouseWheelThreshold=null,this.domMouseUpRef=null,this.longPressBound=null,this.touchObject=null,this.pinchZoomingEnable=!1,this.crosshairEnable=!1,this.toggleVisibility=!0,this.enableHighlight=!0,this.highlightMode="None",this.selectionMode="None",this.rectSeries=!0,this.isSeriesMode=!1,this.seriesTypes=[],this.redraw=!1,this.selectedDataIndexes=[],this.highlightDataIndexes=[],this.previousSelectedEle=[],this.highlightColor="",this.highlightPattern="None",this.selectionPattern="None",this.legendModule=[],this.allowMultiSelection=!1,this.drawType=[],this.previousHighlightedIndex=-1,this.tooltipBase=new h,this.markerExplodeBase=new d,this.crosshairBase=new c,this.userInteractionBase=new u,this.zoomBase=new b,this.zoomToolkitBase=new f,this.isChartPanning=!1,this.axes=[],this.scrollDownRef=null,this.wheelEventEndTimeout=null,this.isWheelScrolling=!1,this.isDragSelection=!1,this.crosshairLocationX=0,this.crosshairLocationY=0,this.isHighlightRemoved=!1,this.isChartKeyDown=!1,this.isDisposed=!1,this.disabledLegendIndexes=[],this.currentToggledBackLegendIndex=-1,this.isTouchLegendClick=!1,this.isLegendHighlighting=!1,this.prevHighlightedSeriesIndex=-1,this.isDoubleTap=!1,this.scaleX=0,this.scaleY=0,this.scrollBarsId=[],this.pinchStyle="opacity: 0; position: absolute; display: block; width: 100px; height: 100px; background: transparent; border: 2px solid blue;",this.pinchtarget=null,this.id=t,this.element=i,this.dotnetref=o,this.isZooming=s,this.isScrollbar=r,this.options=n,this.currentLegendIndex=0,this.currentPointIndex=0,this.currentSeriesIndex=0,this.currentAnnotationIndex=0,this.seriesPathElement=null,this.previousTargetId="",this.isZoomed=!1,this.selectionHighlightOptions(a),this.selectedDataIndexes=a.selectedDataIndexes||[],this.unSelected=t+"_ej2_deselected",this.dataId=e,window.sfBlazor.setCompInstance(this),this.isDisposed=!1,this.getTooltipData(),this.userInteractionBase.svgRenderer=new sf.svgbase.SvgRenderer(this.element.id),this.removeTooltipData()}return e.prototype.render=function(){this.unWireEvents(this.id,this.dotnetref),this.wireEvents(this.id,this.dotnetref)},e.prototype.destroy=function(){this.isDisposed=!0,this.unWireEvents(this.id,this.dotnetref),this.dotnetref.invokeMethodAsync("DisposeDotNetReference")},e.prototype.selectionHighlightOptions=function(e){this.enableHighlight=e.enableHighlight,this.pinchZoomingEnable=e.pinchZoomingEnable,this.toggleVisibility=e.toggleVisibility,this.highlightMode=e.highlightMode,this.selectionMode=e.selectionMode,this.seriesTypes=e.seriesTypes,this.highlightColor=e.highlightColor,this.highlightPattern=e.highlightPattern,this.selectionPattern=e.selectionPattern,this.allowMultiSelection=e.allowMultiSelection,this.drawType=e.drawType,this.oldMode=this.currentMode},e.prototype.getTooltipData=function(e,t,i,o){var s=document.getElementById(this.element.id+"_tooltip_data");if(s){this.userInteractionBase.chartData=s.getAttributeNames().map((function(e){return s.getAttribute(e)})),this.userInteractionBase.chartData.shift();var r=this.userInteractionBase.chartData.indexOf("display: block;");if(r>-1&&this.userInteractionBase.chartData.splice(r,1),this.userInteractionBase.isStockChart)for(var n=this.userInteractionBase.chartData.indexOf("");n>-1;)this.userInteractionBase.chartData.splice(n,1),n=this.userInteractionBase.chartData.indexOf("");sf.base.isNullOrUndefined(this.userInteractionBase.visibleSeries)||this.userInteractionBase.visibleSeries.forEach((function(e){var t=document.getElementById(e.id);e.visible=!sf.base.isNullOrUndefined(t)&&(!sf.base.isNullOrUndefined(t.getAttribute("data-point"))&&"True"===t.getAttribute("data-point").split(/(?![^(]*\)),/)[8])})),this.userInteractionBase.chartData.length>0&&e&&t&&i&&o&&(this.getVisibleSeries(this,e,t,i,o),this.isDataLoaded=!0),sf.base.isNullOrUndefined(this.tooltipBase.tooltipElementSize)&&this.tooltipBase.tooltipModule&&this.tooltipBase.tooltipModule.template&&this.getElementSize(this.element.id+"_tooltip")}},e.prototype.removeTooltipData=function(){var e=document.getElementById(this.element.id+"_tooltip_data");e&&e.getAttributeNames().length>1&&this.dotnetref&&!this.isDisposed&&this.dotnetref.invokeMethodAsync("RemoveTooltipData")},e.prototype.tooltipOptions=function(e,t){this.userInteractionBase.availableSize=t.availableSize,this.userInteractionBase.chartBorderWidth=t.borderWidth,this.userInteractionBase.disableTrackTooltip=t.disableTrackTooltip,this.userInteractionBase.axisClipRect=t.axisClipRect,this.userInteractionBase.isPointMouseDown=t.isPointMouseDown,this.userInteractionBase.isPointDragging=t.isPointDragging,this.userInteractionBase.isInverted=t.isInverted,this.userInteractionBase.chartAreaType=t.chartAreaType,this.tooltipBase.isTooltipMarker=t.isMarkerEnable,this.tooltipBase.tooltipModule=e,this.tooltipBase.tooltipFormat=sf.base.isNullOrUndefined(t.tooltipFormat)?t.tooltipFormat:this.getTooltipFormat(t.tooltipFormat),this.userInteractionBase.enableRTL=t.enableRTL,this.tooltipBase.enableHighlight=t.enableHighlight,this.crosshairBase.crosshair=t.crosshair,this.crosshairEnable=t.crosshair.enable,this.markerExplodeBase.markerExploded=t.markerExplode,this.userInteractionBase.chartRadius=t.chartRadius,this.userInteractionBase.theme=t.theme,this.crosshairBase.themeStyleCrosshairLine=t.themeStyleCrosshairLine,this.crosshairBase.themeStyleCrosshairBackground=t.themeStyleCrosshairBackground,this.crosshairBase.themeStyleCrosshairFill=t.themeStyleCrosshairFill,this.crosshairBase.themeStyleCrosshairLabel=t.themeStyleCrosshairLabel,this.crosshairBase.themeStyleCrosshairTextSize=t.themeStyleCrosshairTextSize,this.crosshairBase.themeStyleCrosshairFontFamily=t.themeStyleCrosshairFontFamily,this.crosshairBase.themeStyleCrosshairFontWeight=t.themeStyleCrosshairFontWeight,this.tooltipBase.tooltipModule.template=t.templateString?t.templateString:this.tooltipBase.tooltipModule.template,this.userInteractionBase.initialRect=t.initialRect,this.userInteractionBase.secondaryElementOffset=t.secondaryElementOffset,sf.base.isNullOrUndefined(this.tooltipBase.tooltipElementSize)&&this.tooltipBase.tooltipModule.template&&this.getElementSize(this.element.id+"_tooltip"),this.userInteractionBase.isStockChart=this.element.id.indexOf("_stockChart")>-1,this.tooltipBase.tooltipEventCalled=t.tooltipEventCalled,this.tooltipBase.sharedTooltipEventCalled=t.sharedTooltipEventCalled,this.tooltipBase.crosshairMouseMoveEventCalled=t.crosshairMouseMoveEventCalled,this.tooltipBase.seriesTooltipTop=t.seriesTooltipTop,this.userInteractionBase.useGrouping=t.useGrouping,this.userInteractionBase.focusable=t.focusable,this.tooltipBase.tooltipDuration=0!==this.tooltipBase.tooltipModule.duration?this.tooltipBase.tooltipModule.duration:this.tooltipBase.tooltipModule.shared?100:300,this.crosshairEnable?this.togglePointerEvents(this.element.id,!1):this.pinchZoomingEnable&&this.togglePointerEvents(this.element.id,!0)},e.prototype.getElementSize=function(e){var t=document.getElementById(e);if(t){var i=document.getElementById("tooltip_template");i&&(t.innerHTML="",t.appendChild(i),this.tooltipBase.tooltipElementSize={width:t.offsetWidth,height:t.offsetHeight},t.removeChild(t.firstChild))}},e.prototype.clipPathID=function(e){return this.element.id+"_ChartSeriesClipRect_"+e},e.prototype.markerClipPathId=function(e){return this.element.id+"_ChartMarkerClipRect_"+e},e.prototype.getVisibleSeries=function(e,t,i,o,s){e.userInteractionBase.visibleSeries=[],e.userInteractionBase.axes=s;var r=document.getElementById(e.element.id+"SeriesCollection").querySelectorAll('[id*="SeriesGroup"]'),n=document.getElementById(e.element.id+"IndicatorCollection").querySelectorAll('[id*="_Group"]'),a=document.getElementById(e.element.id+"TrendLineCollection").querySelectorAll('[id*="TrendLineSeriesGroup"]'),l=[];r.length>0&&r.forEach((function(e){e.lastElementChild&&-1===e.lastElementChild.id.indexOf("NDLine")&&l.push(e)})),n.length>0&&n.forEach((function(e){l.push(e)})),a.length>0&&a.forEach((function(e){l.push(e)})),!sf.base.isNullOrUndefined(l)&&l.length>0&&(l=l.filter((function(e){return!sf.base.isNullOrUndefined(e)&&!sf.base.isNullOrUndefined(e.getAttribute("data-point"))&&"True"===e.getAttribute("data-point").split(/(?![^(]*\)),/)[8]})));for(var h=function(s){var r=l[parseInt(s.toString(),10)].id,n=document.getElementById(r),a=r.indexOf("Series")>-1?document.getElementById(r.replace("Series","Symbol")):null,h=sf.base.isNullOrUndefined(n)?null:n.getAttribute("data-point"),c=sf.base.isNullOrUndefined(h)?null:d.parseDataPoint(h),u=a&&a.childNodes.length>1&&!sf.base.isNullOrUndefined(a.childNodes[2])&&!sf.base.isNullOrUndefined(a.childNodes[2].getAttribute("data-point"))?d.parseDataPoint(a.childNodes[2].getAttribute("data-point")):null,m=u&&u.length>0?u[13]:c[13],g={id:r,name:c[15],index:parseInt(c[4],10),interior:c[2],visible:"True"===c[8],category:c[10],seriesType:c[11],type:c[3],drawType:c[12],marker:i[parseInt(s.toString(),10)],border:o[parseInt(s.toString(),10)],shape:m,points:sf.base.isNullOrUndefined(d.userInteractionBase.chartData[parseInt(s.toString(),10)])||""===d.userInteractionBase.chartData[parseInt(s.toString(),10)]?[]:JSON.parse(e.userInteractionBase.chartData[parseInt(s.toString(),10)]),clipRect:t[parseInt(s.toString(),10)],tooltipFormat:""!==c[14]?d.getTooltipFormat(c[14]):c[14],enableTooltip:"True"===c[16],dataEditSettings:"True"===c[17],chartIsTransposed:"True"===c[18],opacity:parseFloat(c[19]),x_Axis:d.userInteractionBase.axes.filter((function(e){return e.name===c[20]}))[0],y_Axis:d.userInteractionBase.axes.filter((function(e){return e.name===c[21]}))[0],axesCount:d.userInteractionBase.axes.length,volume:c[22],markerDataLabelFormat:c[23],xMin:parseInt(c[24],10),xMax:parseInt(c[25],10),emptyPointMode:c[26],focusable:"True"===c[27],showNearestTooltip:"True"===c[28],width:Number(c[29])};e.userInteractionBase.visibleSeries.push(g)},d=this,c=0;c<l.length;c++)h(c);this.setSelectionProperties(e,e.userInteractionBase.visibleSeries)},e.prototype.parseDataPoint=function(e){var t=[],i="",o=!1;return e.split(/(?![^(]*\)),/).forEach((function(e){o?(i+=","+e,e.endsWith("/")&&(t.push(i.slice(1,-1)),o=!1,i="")):e.startsWith("/")&&!e.endsWith("/")?(i=e,o=!0):e.startsWith("/")&&e.endsWith("/")?t.push(e.slice(1,-1)):t.push(e)})),t},e.prototype.setSelectionProperties=function(e,t){t.forEach((function(t){!sf.base.isNullOrUndefined(e.seriesTypes)&&t.index>=0&&t.index<e.seriesTypes.length?e.seriesTypes[t.index]=t.type:e.seriesTypes.push(t.type),!sf.base.isNullOrUndefined(e.drawType)&&t.index>=0&&t.index<e.drawType.length?e.drawType[t.index]=t.drawType:e.drawType.push(t.drawType)}))},e.prototype.getTooltipFormat=function(e){return e=e.replace("tooltip","tT").replace("text","t").replace("high","h").replace("low","l").replace("open","o").replace("close","c").replace("volume","v").replace("size","sI").replace("percentage","p").replace("minimum","mI").replace("maximum","mX").replace("outliers","oL").replace("upperQuartile","uQ").replace("lowerQuartile","lQ").replace("median","m").replace("average","a")},e.prototype.calculateSecondaryOffset=function(e){var t=document.getElementById(e.replace("_stockChart_chart","")+"_svg").getBoundingClientRect(),i=document.getElementById(e).getBoundingClientRect();this.userInteractionBase.secondaryElementOffset&&(this.userInteractionBase.secondaryElementOffset.left=Math.max(t.left-i.left,0),this.userInteractionBase.secondaryElementOffset.top=Math.max(t.top-i.top,0))},e.prototype.unWireEvents=function(e,t){var i=document.getElementById(e);this.dotnetref=t,B.dotnetrefCollection=B.dotnetrefCollection.filter((function(t){return t.id!==e}));/*! Find the Events type */var o=sf.base.Browser.isPointer?"pointerleave":"mouseleave";/*! Bind the Event handler */if(i){i.removeEventListener("mousemove",this.mouseMoveRef),i.removeEventListener("touchmove",this.mouseMoveRef),sf.base.EventHandler.remove(i,sf.base.Browser.touchStartEvent,this.chartOnMouseDownRef),sf.base.EventHandler.remove(i,sf.base.Browser.touchEndEvent,this.mouseEndRef),sf.base.EventHandler.remove(i,"click",this.chartOnMouseClickRef),sf.base.EventHandler.remove(i,"contextmenu",this.chartRightClickRef),sf.base.EventHandler.remove(i,o,this.mouseLeaveRef),sf.base.EventHandler.remove(i,"keydown",this.chartKeyDownRef),sf.base.EventHandler.remove(document.body,"keydown",this.documentKeyHandler),sf.base.EventHandler.remove(i,"keyup",this.chartKeyUpRef);var s="mozilla"===sf.base.Browser.info.name?sf.base.Browser.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel";i.removeEventListener(s,this.chartMouseWheelRef)}if(window.removeEventListener("mousedown",this.scrollDownRef),window.removeEventListener("touchstart",this.scrollDownRef),window.removeEventListener("mousemove",this.domMouseMoveRef),window.removeEventListener("touchmove",this.domMouseMoveRef),window.removeEventListener("mouseup",this.domMouseUpRef,!1),window.removeEventListener("touchend",this.domMouseUpRef,!1),0===document.getElementsByClassName("e-chart").length){var r=sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize";sf.base.EventHandler.remove(window,r,B.resizeBound)}this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)/*! Apply the style for chart */},e.prototype.wireEvents=function(e,t){var i=document.getElementById(e);if(i){this.dotnetref=t,B.dotnetrefCollection.push({id:e,dotnetref:t});/*! Find the Events type */var o=sf.base.Browser.isPointer?"pointerleave":"mouseleave";this.chartOnMouseDownRef=this.chartOnMouseDown.bind(this,t,e),this.mouseEndRef=this.mouseEnd.bind(this,t,e),this.mouseMoveRef=this.mouseMove.bind(this,t,e),this.chartOnMouseClickRef=this.chartOnMouseClick.bind(this,t,e),this.chartRightClickRef=this.chartRightClick.bind(this,t,e),this.chartKeyDownRef=this.chartOnKeyDown.bind(this,this.dotnetref,this.id),this.chartKeyUpRef=this.chartOnKeyUp.bind(this,this.dotnetref,this.id),this.mouseLeaveRef=this.mouseLeave.bind(this,t,e),/*! Bind the Event handler */i.addEventListener("mousemove",this.mouseMoveRef),i.addEventListener("touchmove",this.mouseMoveRef),sf.base.EventHandler.add(i,sf.base.Browser.touchStartEvent,this.chartOnMouseDownRef),sf.base.EventHandler.add(i,sf.base.Browser.touchEndEvent,this.mouseEndRef),sf.base.EventHandler.add(i,"click",this.chartOnMouseClickRef),sf.base.EventHandler.add(i,"contextmenu",this.chartRightClickRef),sf.base.EventHandler.add(i,o,this.mouseLeaveRef),sf.base.EventHandler.add(i,"keydown",this.chartKeyDownRef),sf.base.EventHandler.add(document.body,"keydown",this.documentKeyHandler,this),sf.base.EventHandler.add(i,"keyup",this.chartKeyUpRef),this.chartMouseWheelRef=this.chartMouseWheel.bind(this,t,e);var s="mozilla"===sf.base.Browser.info.name?sf.base.Browser.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel";i.addEventListener(s,this.chartMouseWheelRef),this.scrollDownRef=this.scrollDown.bind(this,t,e),this.domMouseMoveRef=this.domMouseMove.bind(this,t,e),this.domMouseUpRef=this.domMouseUp.bind(this,t,e),window.addEventListener("mousedown",this.scrollDownRef),window.addEventListener("touchstart",this.scrollDownRef),window.addEventListener("mousemove",this.domMouseMoveRef),window.addEventListener("touchmove",this.domMouseMoveRef),window.addEventListener("mouseup",this.domMouseUpRef,!1),window.addEventListener("touchend",this.domMouseUpRef,!1),B.resizeBound=B.chartResize.bind(this,B.dotnetrefCollection);var r=sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize";sf.base.EventHandler.add(window,r,B.resizeBound),this.longPressBound=this.longPress.bind(this,t,e),this.touchObject=new sf.base.Touch(i,{tapHold:this.longPressBound,tapHoldThreshold:500})}},e.prototype.getEventArgs=function(e,t){var i,o,s=e.changedTouches?e.changedTouches[0].clientX:e.clientX,r=e.changedTouches?e.changedTouches[0].clientY:e.clientY;this.setMouseXY(s,r,t);var n=e.touches,a=[];if(e.type.indexOf("touch")>-1)for(var l=0,h=n.length;l<h;l++)a.push({pageX:n[parseInt(l.toString(),10)].clientX,pageY:n[parseInt(l.toString(),10)].clientY,pointerId:e.pointerId||0});if(("mousedown"===e.type||"touchstart"===e.type)&&this.userInteractionBase.isStockChart&&(this.zoomBase.zoomSettings.enablePan||e.target.id.indexOf("legend")>-1)){var d=document.getElementById(t.replace("_stockChart_chart","")+"_svg").getBoundingClientRect(),c=document.getElementById(t).getBoundingClientRect();i=s-c.left-Math.max(d.left-c.left,0),o=r-c.top-Math.max(d.top-c.top,0)}return{type:e.type,clientX:e.clientX,clientY:e.clientY,mouseX:i||this.mouseX,mouseY:o||this.mouseY,pointerType:e.pointerType,target:e.target.id,changedTouches:{clientX:e.changedTouches?e.changedTouches[0].clientX:0,clientY:e.changedTouches?e.changedTouches[0].clientY:0},touches:a,pointerId:e.pointerId}},e.prototype.getWheelArgs=function(e,t){return this.setMouseXY(e.clientX,e.clientY,t),{detail:e.detail,wheelDelta:e.wheelDelta,target:e.currentTarget?e.currentTarget.id:e.srcElement?e.srcElement.id:e.target?e.target.id:"",clientX:e.clientX,clientY:e.clientY,mouseX:this.mouseX,mouseY:this.mouseY,browserName:sf.base.Browser.info.name,isPointer:sf.base.Browser.isPointer}},e.prototype.setMouseXY=function(e,t,i){var o=document.getElementById(i.replace("_stockChart_chart","")+"_svg").getBoundingClientRect(),s=document.getElementById(i).getBoundingClientRect();this.userInteractionBase.secondaryElementOffset&&(this.userInteractionBase.secondaryElementOffset.left=Math.max(o.left-(this.userInteractionBase.isStockChart?document.getElementById(i.replace("_stockChart_chart","")).getBoundingClientRect().left:s.left),0),this.userInteractionBase.secondaryElementOffset.top=Math.max(o.top-s.top,0),this.userInteractionBase.isStockChart||sf.base.isNullOrUndefined(this.userInteractionBase.availableSize)||sf.base.isNullOrUndefined(o)||this.userInteractionBase.availableSize.width===o.width&&this.userInteractionBase.availableSize.height===o.height||(this.scaleX=o.width/this.userInteractionBase.availableSize.width,this.scaleY=o.height/this.userInteractionBase.availableSize.height),this.mouseY=(t-s.top-this.userInteractionBase.secondaryElementOffset.top)/(0!==this.scaleX?this.scaleX:1),this.mouseX=(e-s.left-this.userInteractionBase.secondaryElementOffset.left)/(0!==this.scaleY?this.scaleY:1))},e.prototype.chartOnMouseDown=function(e,t,i){if(1===i.button||2===i.button)return!1;this.dotnetref=e;var o,s,r,n=i.target,a=window.sfBlazor.getCompInstance(this.dataId);if(n.id.indexOf("legend")>0&&(B.removeTooltipCrosshairOnZoom(this),"touchstart"===i.type&&(a.isTouchLegendClick=!0),a.enableHighlight||(a.previousHighlightedIndex=-1)),"touchstart"===i.type?(this.isTouch=!0,o=(r=i).changedTouches[0].clientX,s=r.changedTouches[0].clientY):(this.isTouch="touch"===i.pointerType||"2"===i.pointerType||this.isTouch,o=i.clientX,s=i.clientY),i.type.indexOf("touch")>-1){var l=i.changedTouches?i.changedTouches[0].clientX:i.clientX,h=i.changedTouches?i.changedTouches[0].clientY:i.clientY,d=i.touches.length>1,c=sf.base.Browser.isDevice?20:30;this.prevTabMouseX=this.mouseX,this.prevTabMouseY=this.mouseY,this.isDoubleTap=(new Date).getTime()<this.touchThreshold&&Math.abs(this.mouseX-this.prevTabMouseX)<=c&&Math.abs(this.mouseY-this.prevTabMouseY)<=c,this.isDoubleTap&&(a.selectionMode.indexOf("Drag")>-1&&!(n.id.indexOf("ej2_drag_")>-1)||a.zoomBase.zoomSettings&&a.zoomBase.zoomSettings.enableSelectionZooming)&&i.preventDefault(),a.pinchZoomingEnable?(this.pinchtarget=document.getElementById(t+"_Pinch_target"),this.pinchtarget.setAttribute("style",this.pinchStyle+" top: "+(h-50)+"px; left: "+(l-50)+"px;"),this.togglePointerEvents(t,!a.crosshairEnable||!a.userInteractionBase.startMove||d),"mozilla"!==sf.base.Browser.info.name.toLowerCase()&&d&&i.stopImmediatePropagation()):a.crosshairEnable&&a.userInteractionBase.startMove&&(this.togglePointerEvents(t,!1),i.preventDefault())}return this.zoomBase.zoomingModule&&(n.id.indexOf("_Zooming_")>-1&&B.zoomToolkitMouseDown(this,n),n.id.indexOf("_Zooming_")>-1||n.id.indexOf("_scrollBar_")>-1||B.onZoomingMouseDown(i,o,s,this)),this.userInteractionBase.isStockChart&&a.zoomBase.zoomSettings.enablePan&&("Logarithmic"===a.userInteractionBase.axes[0].valueType?document.getElementById(this.element.id).setAttribute("cursor","not-allowed"):document.getElementById(this.element.id).setAttribute("cursor","pointer")),n&&n.id&&n.id.indexOf("scrollbar")>0||e.invokeMethodAsync("OnZoomingMouseDown",this.getEventArgs(i,t),Boolean(this.zoomBase.zoomingModule&&this.zoomBase.zoomingModule.isPanning&&this.zoomBase.isChartDrag)),!1},e.prototype.togglePointerEvents=function(e,t){t?this.setPointerEvents(e,"none"):this.setPointerEvents(e,"auto")},e.prototype.setPointerEvents=function(e,t){var i=document.getElementById(e+"_sfchart_rect_style");i.innerHTML="#"+e+"_ChartAreaBorder, #"+e+"_ChartBorder {pointer-events: "+t+"; }",!sf.base.isNullOrUndefined(this.userInteractionBase.theme)&&(this.userInteractionBase.theme.indexOf("Fluent2")>-1||this.userInteractionBase.theme.indexOf("Bootstrap5")>-1)&&(i.innerHTML+='rect[id*="_ej2_drag_rect"], circle[id*="_ej2_drag_closecircle_"] { stroke-dasharray: 5 !important; }')},e.prototype.chartMouseWheel=function(e,t,i){var o=this;return!(!this.isZooming&&!this.isScrollbar)&&(this.dotnetref=e,(this.zoomBase.zoomingModule||this.isScrollbar)&&(B.removeTooltipCrosshair(),B.zoomingMouseWheelHandler(i,this)),e.invokeMethodAsync("OnChartMouseWheel",this.getWheelArgs(i,t)),this.wheelEventEndTimeout&&clearTimeout(this.wheelEventEndTimeout),this.wheelEventEndTimeout=setTimeout((function(){e.invokeMethodAsync("UpdateChartData"),o.isWheelScrolling=!1,o.isMouseWheelZoom=!1}),100),(this.isMouseWheelZoom||this.isWheelScrolling)&&i.preventDefault(),!1)},e.prototype.mouseMove=function(e,t,i,o){void 0===o&&(o=!1),this.isChartKeyDown=!1;var s,r=i.target,n=!1;if(!sf.base.isNullOrUndefined(document.getElementById(r.id))&&("None"!==this.highlightMode||this.enableHighlight)&&((!sf.base.isNullOrUndefined(r)||r.id.indexOf("Point")>-1||r.id.indexOf("Symbol")>-1)&&(r=r.id.indexOf("text")>-1?B.findDOMElement(r.id.replace("text","shape")):B.findDOMElement(r.id),!sf.base.isNullOrUndefined(r)&&r.hasAttribute("class")&&(r.getAttribute("class").indexOf("highlight")>-1||r.getAttribute("class").indexOf("selection")>-1)&&(s=!0)),!s)){"None"!==this.highlightMode&&B.calculateSelectedElements(i,this.dataId);for(var a=void 0,l=[this.id+"_chart_legend_text_",this.id+"_chart_legend_shape_marker_",this.id+"_chart_legend_shape_",this.id+"_chart_legend_g_"],h=0;h<l.length;h++)if(!sf.base.isNullOrUndefined(r)&&!r.id.indexOf(l[parseInt(h.toString(),10)])){a=parseInt(r.id.split(l[parseInt(h.toString(),10)])[1],10);break}var d=window.sfBlazor.getCompInstance(this.dataId);if(!sf.base.isNullOrUndefined(r)&&r.id.indexOf("legend")>0&&(this.enableHighlight&&B.isTargetChanged(a,d)||"Series"===this.highlightMode)&&!sf.base.Browser.isDevice&&!this.isTouchLegendClick&&(this.legendVisible=!0,B.legendSelection(i,d.dataId),n=!0),sf.base.isNullOrUndefined(r)||r.id.indexOf("legend")>0||B.resetPreviousHighlightIndex(d),sf.base.isNullOrUndefined(r)||"None"!==this.highlightMode||r.id.indexOf("legend")>0||!(d.highlightDataIndexes.length>0)){if(!sf.base.isNullOrUndefined(r)&&"None"!==this.highlightMode&&d.previousSelectedEle.length>0&&!n&&d.isLegendHighlighting&&-1!==d.prevHighlightedSeriesIndex&&!B.isRectSeries(d.seriesTypes[d.prevHighlightedSeriesIndex])){var c=B.generateStyle(d.element.id+"SeriesGroup"+d.prevHighlightedSeriesIndex,d),u=d.previousSelectedEle.filter((function(e){return e.classList.contains(c)}));if(d.selectedDataIndexes.length>0){var m=d.selectedDataIndexes.some((function(e){return e.series===d.prevHighlightedSeriesIndex}));d.previousSelectedEle.forEach((function(e){e.classList.remove(c),m||e.classList.add(d.unSelected)}))}else u.forEach((function(e){e.classList.remove(c)}));d.isLegendHighlighting=!1,d.prevHighlightedSeriesIndex=-1}}else d.isLegendHighlighting=!1,d.prevHighlightedSeriesIndex=-1,B.removeSelectionStyles(this.dataId),"None"!==this.selectionMode&&B.redrawSelection(this.dataId)}if(this.isTouchLegendClick&&(this.isTouchLegendClick=!1),!o){var g,p,f;if("touchmove"===i.type){this.isTouch=!0,g=(f=i).changedTouches[0].clientX,p=f.changedTouches[0].clientY;var b=window.sfBlazor.getCompInstance(this.dataId);this.pinchtarget&&b.pinchZoomingEnable&&(this.pinchtarget.setAttribute("style",this.pinchStyle+" top: "+(p-50)+"px; left: "+(g-50)+"px;"),i.preventDefault()),b.crosshairBase.crosshair&&b.crosshairBase.crosshair.enable&&b.userInteractionBase.startMove&&i.preventDefault()}else this.isTouch="touch"===i.pointerType||"2"===i.pointerType||this.isTouch,g=i.clientX,p=i.clientY;if(this.dotnetref=e,document.getElementById(t.replace("_stockChart_chart","")+"_svg")){if(this.setMouseXY(g,p,t),this.userInteractionBase.chartStartMove&&(sf.base.isNullOrUndefined(this.tooltipBase.tooltipModule)||B.tooltipMousemovehandler(this),!this.markerExplodeBase.markerExploded||this.isTouch&&!this.userInteractionBase.startMove||B.markerMove(this,!1),this.crosshairBase.crosshair&&this.crosshairBase.crosshair.enable&&B.crosshairMousemoveHandler(this)),this.isTouch||(!sf.base.isNullOrUndefined(r)&&r.id.indexOf("_Zooming_")>-1?B.zoomToolkitTooltip(this,r.id,i):B.zoomToolkitRemoveTooltip(this)),this.zoomBase.zoomingModule&&B.onZoomingMouseMove(this.getEventArgs(i,t),this),r&&r.id&&r.id.indexOf("scrollbar")>0)return;(null==this.mouseMoveThreshold||(new Date).getTime()-this.mouseMoveThreshold>this.eventInterval)&&(this.mouseMoveThreshold=(new Date).getTime(),e.invokeMethodAsync("OnZoomingMouseMove",this.getEventArgs(i,t))),this.isTouch=!1}}},e.prototype.mouseEnd=function(e,t,i){var o=this;this.dotnetref=e;var s="touchend"===i.type?i:null,r=s?s.changedTouches[0].clientX:i.clientX,n=s?s.changedTouches[0].clientY:i.clientY;if(this.isTouch=i.type.indexOf("touch")>-1||("touch"===i.pointerType||"2"===i.pointerType),document.getElementById(t.replace("_stockChart_chart","")+"_svg")){if(this.setMouseXY(r,n,t),this.isTouch&&((this.selectionMode.indexOf("Drag")>-1&&!(i.target.id.indexOf("ej2_drag_")>-1)||this.zoomBase.zoomSettings&&this.zoomBase.zoomSettings.enableSelectionZooming)&&(this.touchThreshold=(new Date).getTime()+300),!this.tooltipBase.tooltipModule.enable||this.crosshairBase.crosshair&&this.crosshairBase.crosshair.enable||B.isSelected()||!(sf.svgbase.withInAreaBounds(this.mouseX,this.mouseY,this.userInteractionBase.axisClipRect)&&this.tooltipBase.tooltipModule.shared||!this.tooltipBase.tooltipModule.shared)||(B.tooltip(this),B.markerMove(this,!1)),this.tooltipBase.tooltipModule.enable||this.crosshairBase.crosshair&&this.crosshairBase.crosshair.enable||!this.markerExplodeBase.markerExploded||B.markerMove(this,!1),!this.userInteractionBase.startMove)){this.clearTooltip&&clearTimeout(this.clearTooltip),this.clearTooltip=setTimeout((function(){o.tooltipBase.tooltipModule.enable?B.removeTooltip(300,o):B.removeMarker(o)}),1e3);var a=window.sfBlazor.getCompInstance(this.dataId);this.clearCrosshair&&clearTimeout(this.clearCrosshair),this.clearCrosshair=setTimeout((function(){B.removeCrosshair(a,300)}),1e3)}this.userInteractionBase.startMove&&(this.tooltipBase.tooltipModule.enable?B.removeTooltip(2e3,this):B.removeMarker(this),B.removeCrosshair(this,2e3),this.userInteractionBase.startMove=!1);var l=window.sfBlazor.getCompInstance(this.dataId);"None"===this.highlightMode&&"Series"===this.selectionMode&&!l.toggleVisibility&&l.highlightDataIndexes.length>0&&B.removeSelectionStyles(this.dataId)}if("touchend"===i.type)if(this.pinchZoomingEnable){var h=i.touches.length>0;this.togglePointerEvents(t,!this.crosshairEnable||h)}else this.togglePointerEvents(t,!1);this.zoomBase.zoomingModule&&(this.zoomBase.threshold=(new Date).getTime()+300,(this.zoomBase.isSkipZooming||this.zoomBase.zoomingModule.isZooming)&&setTimeout((function(){o.zoomBase.isSkipZooming=!1,o.zoomBase.zoomingModule.isZooming=!1}),500),B.onZoomingMouseEnd(this.getEventArgs(i,t),this));var d=i.target;return d&&d.id&&d.id.indexOf("scrollbar")>0||e.invokeMethodAsync("OnZoomingMouseEnd",this.getEventArgs(i,t)),!1},e.prototype.chartOnMouseClick=function(e,t,i){B.calculateSelectedElements(i,this.dataId);var o=i.target,s=window.sfBlazor.getCompInstance(this.dataId);o.id.indexOf("legend")>0&&(s.toggleVisibility||"Series"!==this.selectionMode?s.toggleVisibility&&s.enableHighlight&&(s.isLegendHighlighting=!1,s.prevHighlightedSeriesIndex=-1,B.storeToggledLegendIndexes(o,s,i)):(this.legendVisible=!0,B.legendSelection(i,s.dataId))),(i instanceof PointerEvent||i instanceof TouchEvent)&&e.invokeMethodAsync("OnChartMouseClick",this.getEventArgs(i,t))},e.prototype.chartRightClick=function(e,t,i){this.dotnetref=e;var o=window.sfBlazor.getCompInstance(this.dataId);return o.crosshairBase.crosshair&&o.crosshairBase.crosshair.enable&&(2===i.buttons||"touch"===i.pointerType)&&(i.preventDefault(),i.stopPropagation()),e.invokeMethodAsync("OnChartMouseRightClick",this.getEventArgs(i,t)),!1},e.prototype.documentKeyHandler=function(e){e.altKey&&74===e.keyCode&&!sf.base.isNullOrUndefined(this.element)&&this.element.focus()},e.prototype.chartOnKeyDown=function(e,t,i){this.dotnetref=e;var o="",s=i.target,r=!1,n=s;for(this.isChartKeyDown=!0;n&&n.parentNode;){if(n.id&&n.id.indexOf("Annotation")>-1){r=!0;break}n=n.parentNode}if((this.isZoomed&&"Tab"===i.code||"Space"===i.code&&!r)&&i.preventDefault(),(this.options.showTooltip||this.crosshairBase.crosshair&&this.crosshairBase.crosshair.enable)&&("Tab"===i.code&&this.previousTargetId.indexOf("Series")>-1||"Escape"===i.code)&&(o="ESC"),!i.ctrlKey||"+"!==i.key&&"Equal"!==i.code&&"-"!==i.key&&"Minus"!==i.code?82===i.keyCode&&this.isZoomed?(i.preventDefault(),this.isZoomed=!1,o="R"):i.code.indexOf("Arrow")>-1&&(i.preventDefault(),o=this.isZoomed?i.code:""):(i.preventDefault(),this.isZoomed=this.options.enableZoom,B.fadeOut(this.element),o=this.isZoomed?i.code:""),i.ctrlKey&&"p"===i.key&&(i.preventDefault(),o="CtrlP"),""!==o&&this.userInteractionBase.focusable){if(this.zoomBase.zoomingModule){if("Equal"!==o&&"Minus"!==o||(this.zoomBase.zoomingModule.isZoomed=this.zoomBase.zoomingModule.performedUI=!0,this.zoomBase.zoomingModule.isPanning=this.zoomBase.isChartDrag=!1,"Equal"===o?B.zoomToolkitZoomIn(this,s.getAttribute("opacity")):B.zoomToolkitZoomOut(this,s.getAttribute("opacity")),B.performZoomRedraw(this,!0)),"ArrowUp"===o||"ArrowDown"===o||"ArrowLeft"===o||"ArrowRight"===o){var a="ArrowUp"===o?10:"ArrowDown"===o?-10:0,l="ArrowLeft"===o?-10:"ArrowRight"===o?10:0;this.zoomBase.zoomingModule.isPanning=this.zoomBase.isChartDrag=!0,B.doPan(this,this.zoomBase.axisCollections,l,a),B.performZoomRedraw(this,!0)}"R"===o&&B.zoomToolkitReset(this)}e.invokeMethodAsync("OnChartKeyboardNavigations",o,i.target.id)}return!1},e.prototype.processPointSelection=function(e,t,i,o){var s=document.getElementById(t);sf.base.isNullOrUndefined(s)||sf.base.isNullOrUndefined(document.getElementById(i))||("Enter"===o?this.chartOnMouseClick(e,t,{target:document.getElementById(i),type:"click"}):"Tab"!==o&&"ArrowMove"!==o||this.mouseMove(e,t,{target:document.getElementById(i),type:"mousemove"},!0))},e.prototype.chartOnKeyUp=function(e,t,i){var o=this;this.dotnetref=e;var s,r,n,a,l="",h=i.target,d=i.target.id,c=i.target,u=B.getElement(this.element.id+"_ChartTitle"),m=B.getElement(this.element.id+"_ChartSubTitle"),g=B.getElement(this.element.id+"SeriesCollection"),p=B.getElement(this.element.id+"_chart_legend_translate_g"),f=B.getElement(this.element.id+"_chart_legend_pageup"),b=B.getElement(this.element.id+"_Annotation_Collections"),v=B.getElement(this.element.id+"_Zooming_ZoomIn"),S=B.getElement(this.element.id+"_Zooming_ZoomOut"),x=B.getElement(this.element.id+"_Zooming_Reset"),I=B.getElement(this.element.id+"TrendLineCollection"),y=B.isAxisZoomed(this.userInteractionBase.axes),z=!1;if(!this.isZoomed&&82!==i.keyCode&&!y&&this.userInteractionBase.focusable){var T;if(u&&u.setAttribute("class","e-chart-focused"),m&&m.setAttribute("class","e-chart-focused"),g&&g.firstElementChild)if(T=g.firstElementChild.children[1])(Z=T.getAttribute("class"))&&-1===Z.indexOf("e-chart-focused")?Z+=" e-chart-focused":Z||(Z="e-chart-focused"),T.setAttribute("class",Z+" e-chart-focused");if(I&&I.firstElementChild)if(T=I.firstElementChild.children[1])(Z=T.getAttribute("class"))&&-1===Z.indexOf("e-chart-focused")?Z+=" e-chart-focused":Z||(Z="e-chart-focused"),T.setAttribute("class",Z+" e-chart-focused");if(p)if(T=p.firstElementChild)(Z=T.getAttribute("class"))&&-1===Z.indexOf("e-chart-focused")?Z+=" e-chart-focused":Z||(Z="e-chart-focused"),T.setAttribute("class",Z);if(b)if(T=b.firstElementChild)(Z=T.getAttribute("class"))&&-1===Z.indexOf("e-chart-focused")?Z+=" e-chart-focused":Z||(Z="e-chart-focused"),T.setAttribute("class",Z);if(f&&f.setAttribute("class","e-chart-focused"),"Tab"===i.code){if(""!==this.previousTargetId)if(this.previousTargetId.indexOf("Series")>-1&&-1===d.indexOf("Series")){if(s=B.getElement(this.element.id+(this.previousTargetId.indexOf("TrendLine")>-1?"TrendLineCollection":"SeriesCollection")),!sf.base.isNullOrUndefined(s.children[0])){var w=void 0;w=this.previousTargetId.indexOf("_PointIndex_")>-1?B.getElement(this.seriesPathElement.id):this.previousTargetId.indexOf("_Symbol")>-1?B.getElement(this.previousTargetId.indexOf("TrendLine")>-1?this.element.id+"_Series_"+this.currentSeriesIndex+"_TrendLine_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex+"_Symbol":this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex+"_Symbol"):this.previousTargetId.indexOf("_Point_")>-1?B.getElement(this.previousTargetId.indexOf("TrendLine")>-1?this.element.id+"_Series_"+this.currentSeriesIndex+"_TrendLine_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex:this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex):B.getElement(this.element.id+(this.previousTargetId.indexOf("TrendLine")>-1?"TrendlineSeriesGroup":"SeriesGroup")+this.currentSeriesIndex);var M=B.getFocusedSeries(this,s.firstElementChild.id);B.setTabIndex(w,B.getElement(M)),this.currentPointIndex=0,this.currentSeriesIndex=0,this.currentLegendIndex=0}}else this.previousTargetId.indexOf("_chart_legend_page")>-1&&-1===d.indexOf("_chart_legend_page")&&-1===d.indexOf("_chart_legend_g_")?B.setTabIndex(i.target,B.getElement(this.element.id+"_chart_legend_pageup")):this.previousTargetId.indexOf("_chart_legend_g_")>-1&&-1===d.indexOf("_chart_legend_g_")&&(s=B.getElement(this.element.id+"_chart_legend_translate_g"),B.setTabIndex(s.children[this.currentLegendIndex],s.firstElementChild));if(-1===this.previousTargetId.indexOf("Series")&&d.indexOf("Series")>-1){this.currentPointIndex=0;M=d.indexOf("TrendLine")>-1?I.firstElementChild.id:g.firstElementChild.id;d=B.getFocusedSeries(this,M),c=B.getElement(d)}this.previousTargetId=d,d.indexOf("SeriesGroup")>-1&&(this.currentSeriesIndex=+d.match(/SeriesGroup(\d+)/)[1],c.removeAttribute("tabindex"),c.blur(),-1===c.children[1].id.indexOf("_Point_")&&(r=B.getElement(this.element.id+(c.children[1].id.indexOf("_TrendLine_")>-1?"TrendLineSymbolGroup":"SymbolGroup")+d.match(/SeriesGroup(\d+)/)[1])),d=sf.base.isNullOrUndefined(r)?c.children[1].id:r.children[1].id,"MultiColoredLine"!==(a=B.getCurrentSeries(this,d,this.currentSeriesIndex)).type&&(d=B.focusChild(sf.base.isNullOrUndefined(r)?c.children[1]:r.children[1]))),a=B.getCurrentSeries(this,d,this.currentSeriesIndex),d.indexOf("Series")>-1&&(z=B.checkPointsLength(a)),d.indexOf("Series")>-1&&"MultiColoredLine"!==a.type&&z&&(this.currentPointIndex=parseInt(d.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],10)),l=this.enableHighlight||this.crosshairBase.crosshair&&this.crosshairBase.crosshair.enable||this.options.showTooltip||d.indexOf("_Series_")>-1&&sf.base.isNullOrUndefined(r)?"Tab":""}else if(i.code.indexOf("Arrow")>-1){if(i.preventDefault(),this.previousTargetId=d,d.indexOf("_chart_legend_page")>-1)"ArrowLeft"===i.code?(B.getElement(this.element.id+"_chart_legend_pagedown").removeAttribute("tabindex"),B.focusChild(B.getElement(this.element.id+"_chart_legend_pageup"))):"ArrowRight"===i.code&&(B.getElement(this.element.id+"_chart_legend_pageup").removeAttribute("tabindex"),B.focusChild(B.getElement(this.element.id+"_chart_legend_pagedown")));else if(d.indexOf("_chart_legend_")>-1){var A=c.parentElement.children;A[this.currentLegendIndex].removeAttribute("tabindex"),this.currentLegendIndex+="ArrowUp"===i.code||"ArrowRight"===i.code?1:-1,this.currentLegendIndex=B.getActualIndex(this.currentLegendIndex,A.length);var _=A[this.currentLegendIndex];B.focusChild(_),d=_.children[1].id,l=this.enableHighlight||"None"!==this.highlightMode?"ArrowMove":""}else if(d.indexOf("_Annotation_")>-1){var C=c.parentElement.children;C[this.currentAnnotationIndex].removeAttribute("tabindex"),this.currentAnnotationIndex+="ArrowUp"===i.code||"ArrowRight"===i.code?1:-1,this.currentAnnotationIndex=B.getActualIndex(this.currentAnnotationIndex,C.length);var E=C[this.currentAnnotationIndex];B.focusChild(E),d=E.id,l=""}else if(d.indexOf("_Series_")>-1){s=-1===c.id.indexOf("_Series_")?B.getElement(this.element.id+"SeriesCollection"):c.parentElement.parentElement;var O=i.target;if(c.removeAttribute("tabindex"),c.blur(),"ArrowRight"===i.code||"ArrowLeft"===i.code){for(var k=[],R=0;R<s.children.length;R++)s.children[parseInt(R.toString(),10)].id.indexOf("SeriesGroup")>-1&&k.push(+s.children[parseInt(R.toString(),10)].id.match(/SeriesGroup(\d+)/)[1]);var P=k.indexOf(this.currentSeriesIndex);for(this.currentSeriesIndex=k.indexOf(this.currentSeriesIndex)+("ArrowRight"===i.code?1:-1),this.currentSeriesIndex=k[B.getActualIndex(this.currentSeriesIndex,k.length)],a=B.getCurrentSeries(this,d,this.currentSeriesIndex);!a.focusable;)this.currentSeriesIndex=k.indexOf(this.currentSeriesIndex)+("ArrowRight"===i.code?1:-1),this.currentSeriesIndex=k[B.getActualIndex(this.currentSeriesIndex,k.length)],a=B.getCurrentSeries(this,d,this.currentSeriesIndex);s=B.getElement(this.element.id+(d.indexOf("_TrendLine_")>-1?"TrendLineSeriesGroup":"SeriesGroup")+this.currentSeriesIndex+("Pareto"===a.type?"Pareto":"")),r=B.getElement(this.element.id+(d.indexOf("_TrendLine_")>-1?"TrendLineSymbolGroup":"SymbolGroup")+this.currentSeriesIndex);var D=B.getElement(this.element.id+(d.indexOf("_TrendLine_")>-1?"TrendLineSeriesGroup":"SeriesGroup")+P),L=B.getElement(this.element.id+(d.indexOf("_TrendLine_")>-1?"TrendLineSymbolGroup":"SymbolGroup")+P);n=parseInt(d.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],10);var N=this.seriesPathElement?parseInt(this.seriesPathElement.id.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],10):0,F=-1===s.children[1].id.indexOf("_Point_")&&r?r:s,X=D&&-1===D.children[1].id.indexOf("_Point_")&&L?L:D;z=B.checkPointsLength(a),isNaN(n)||isNaN(N)?O=-1===s.children[1].id.indexOf("_Point_")&&r?r.children[this.currentPointIndex+1]:"MultiColoredArea"===a.type?B.getElement(d):s.children[this.currentPointIndex+1]:X&&F.childElementCount===X.childElementCount?(this.currentPointIndex="BoxAndWhisker"===a.type?B.getActualIndex(this.currentPointIndex,(s.childElementCount-1)/2):B.getActualIndex(this.currentPointIndex,r?r.childElementCount:s.childElementCount),O=-1===s.children[1].id.indexOf("_Point_")&&r?r.children[this.currentPointIndex+1]:s.children[this.currentPointIndex+1]):(this.currentPointIndex=n,O=B.getCurrentPointElement(this,F,i.code))}else{this.currentPointIndex+="ArrowUp"===i.code?1:-1,n=parseInt(d.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],10),a=B.getCurrentSeries(this,d,this.currentSeriesIndex),s=B.getElement(this.element.id+(d.indexOf("_TrendLine_")>-1?"TrendLineSeriesGroup":"SeriesGroup")+this.currentSeriesIndex+("Pareto"===a.type?"Pareto":"")),r=B.getElement(this.element.id+(d.indexOf("_TrendLine_")>-1?"TrendLineSymbolGroup":"SymbolGroup")+this.currentSeriesIndex);F=-1===s.children[1].id.indexOf("_Point_")&&r?r:s;z=B.checkPointsLength(a),isNaN(n)||-1!==d.indexOf("_BoxPath")||a.points.length===F.children.length-1&&!z?d.indexOf("_Symbol")>-1?(this.currentPointIndex=B.getActualIndex(this.currentPointIndex,B.getElement(this.element.id+(d.indexOf("_TrendLine_")>-1?"TrendLineSymbolGroup":"SymbolGroup")+this.currentSeriesIndex).childElementCount-1),O=d.indexOf("_TrendLine_")>-1?B.getElement(this.element.id+"_Series_"+this.currentSeriesIndex+"_TrendLine_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex+"_Symbol"):B.getElement(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex+"_Symbol")):d.indexOf("_Point_")>-1&&(this.currentPointIndex=B.getActualIndex(this.currentPointIndex,d.indexOf("_BoxPath")>-1?(B.getElement(this.element.id+"SeriesGroup"+this.currentSeriesIndex+("Pareto"===a.type?"Pareto":"")).childElementCount-1)/2:B.getElement(this.element.id+"SeriesGroup"+this.currentSeriesIndex+("Pareto"===a.type?"Pareto":"")).childElementCount-1),O=d.indexOf("_BoxPath")>-1?B.getElement(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex+"_BoxPath"):B.getElement(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex)):O=B.getCurrentPointElement(this,F,i.code)}d="MultiColoredLine"===a.type||"MultiColoredArea"===a.type?sf.base.isNullOrUndefined(O)?d:O.id:sf.base.isNullOrUndefined(O)?d.indexOf("_TrendLine_")>-1?B.focusChild(B.getElement(this.element.id+"_Series_"+this.currentSeriesIndex+"_TrendLine_"+this.currentSeriesIndex)):B.focusChild(sf.base.isNullOrUndefined(B.getElement(this.element.id+"_Series_"+this.currentSeriesIndex))?B.getRectSeriesElement(this,a):B.getElement(this.element.id+"_Series_"+this.currentSeriesIndex)):B.focusChild(O),l=this.crosshairBase.crosshair&&this.crosshairBase.crosshair.enable||this.options.showTooltip||sf.base.isNullOrUndefined(r)?"ArrowMove":""}}else"Enter"!==i.code&&"Space"!==i.code||!(d.indexOf("_chart_legend_")>-1||d.indexOf("_Point_")>-1)||(d=d.indexOf("_chart_legend_page")>-1?d:d.indexOf("_chart_legend_")>-1?c.children[1].id:d,l="Enter")}if(v&&v.setAttribute("class","e-chart-focused"),S&&S.setAttribute("class","e-chart-focused"),x&&x.setAttribute("class","e-chart-focused"),d.indexOf("_Zooming_")>-1&&this.zoomBase.zoomingModule&&("Enter"!==i.code&&"Space"!==i.code||(this.zoomBase.zoomingModule.isZoomed=this.zoomBase.zoomingModule.performedUI=!0,this.zoomBase.zoomingModule.isPanning=this.zoomBase.isChartDrag=!1,d.indexOf("_Zooming_ZoomIn")>-1?(B.zoomToolkitZoomIn(this,h.getAttribute("opacity")),l="Enter"):d.indexOf("_Zooming_ZoomOut")>-1?(B.zoomToolkitZoomOut(this,h.getAttribute("opacity")),l="Enter"):d.indexOf("_Zooming_Reset")>-1&&(B.zoomToolkitReset(this),l="Enter"),B.performZoomRedraw(this,!1))),""!==l){if("ArrowMove"===l||"Tab"===l)if(d.indexOf("_Point_")>-1||d.indexOf("_Series_")>-1||d.indexOf("_ChartSegmentClipRect_")>-1){var H=d.indexOf("_ChartSegmentClipRect_")>-1?parseInt(d.split("_ChartSegmentClipRect_")[1],10):parseInt(d.split("_Series_")[1].split("_Point_")[0],10);if(n=d.indexOf("_ChartSegmentClipRect_")>-1?NaN:parseInt(d.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],10),a=B.getCurrentSeries(this,d,H),(isNaN(n)||"MultiColoredLine"===a.type&&d.indexOf("_Series_")>-1)&&((z=B.checkPointsLength(a))?(this.currentPointIndex="ArrowUp"===i.code||"ArrowDown"===i.code?this.currentPointIndex:sf.base.isNullOrUndefined(this.seriesPathElement)?a.points[0].iX:parseInt(this.seriesPathElement.id.split("_Series_")[1].replace("_Symbol","").split("_PointIndex_")[1],10),n=B.getCurrentPointIndex(this,a,i.code)):(this.currentPointIndex=B.getActualIndex(this.currentPointIndex,a.points.length),n=this.currentPointIndex),d=d.indexOf("_TrendLine_")>-1?this.element.id+"_Series_"+H+"_TrendLine_"+H+"_PointIndex_"+this.currentPointIndex:this.element.id+"_Series_"+H+"_PointIndex_"+this.currentPointIndex,sf.base.isNullOrUndefined(this.seriesPathElement)||(B.removeElement(this.seriesPathElement.id),B.removeElement(this.element.id+"_Series_"+parseInt(this.seriesPathElement.id.split("_Series_")[1].split("_PointIndex_")[0],10)+"_Point_"+parseInt(this.seriesPathElement.id.split("_Series_")[1].replace("_Symbol","").split("_PointIndex_")[1],10)+"_Trackball_1"),this.seriesPathElement=null),a.points[parseInt(n.toString(),10)])){this.seriesPathElement=this.userInteractionBase.svgRenderer.drawPath({id:d,"stroke-width":2,fill:"transparent",opacity:1,stroke:"transparent",d:"M "+a.points[parseInt(n.toString(),10)].s[0].x+" "+a.points[parseInt(n.toString(),10)].s[0].y}),B.getElement(this.element.id+(d.indexOf("_TrendLine_")>-1?"TrendLineSeriesGroup":"SeriesGroup")+H+("Pareto"===a.type?"Pareto":"")).appendChild(this.seriesPathElement),B.focusTarget(d);var U=d.indexOf("_TrendLine_")>-1?B.getElement(this.element.id+"_Series_"+H+"_TrendLine_"+H):B.getElement(this.element.id+"_Series_"+H);if(U){var Z=U.getAttribute("class"),Y=U.getAttribute("tabindex");Z&&Y&&(U.removeAttribute("class"),U.removeAttribute("tabindex"))}e.invokeMethodAsync("GetAccessibilityText",H,a.type.indexOf("Spline")>-1&&"Drop"===a.emptyPointMode?n:this.currentPointIndex,d)}var W,V=parseInt(d.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],10);if(("Gap"===a.emptyPointMode||-1===a.type.indexOf("Spline")&&"Drop"===a.emptyPointMode)&&z&&!isNaN(V))for(R=0;R<a.points.length;R++)n===a.points[parseInt(R.toString(),10)].iX&&(n=R,R=a.points.length);a.points.length>0?"Polar"===a.type||"Radar"===a.type?(W=a.points[parseInt(n.toString(),10)].s[0],this.mouseX=W.x-(a.points[parseInt(n.toString(),10)].mK?a.points[parseInt(n.toString(),10)].mK.mW:0),this.mouseY=W.y-(a.points[parseInt(n.toString(),10)].mK?a.points[parseInt(n.toString(),10)].mK.mH:0)):(W=B.isRectSeries(a.type)?a.points[parseInt(n.toString(),10)].r[0]:a.points[parseInt(n.toString(),10)].s[0],this.mouseX=B.isRectSeries(a.type)?Math.ceil(W.x+a.clipRect.x):W.x+a.clipRect.x,this.mouseY=B.isRectSeries(a.type)?Math.ceil(W.y+a.clipRect.y):W.y+a.clipRect.y):!a.enableTooltip&&this.tooltipBase.tooltipModule.shared&&this.userInteractionBase.visibleSeries.forEach((function(e){if(e.points.length>0)return W=B.isRectSeries(e.type)?e.points[parseInt(n.toString(),10)].r[0]:e.points[parseInt(n.toString(),10)].s[0],o.mouseX=B.isRectSeries(e.type)?Math.ceil(W.x+e.clipRect.x):W.x+e.clipRect.x,void(o.mouseY=B.isRectSeries(e.type)?Math.ceil(W.y+e.clipRect.y):W.y+e.clipRect.y)})),B.tooltipMousemovehandler(this),B.crosshairMousemoveHandler(this),this.markerExplodeBase.markerExploded&&B.markerMove(this,!1)}else B.removeTooltip(1,this),B.removeCrosshair(this,1),B.removeMarker(this);"ESC"===l&&(B.removeTooltip(1,this),B.removeCrosshair(this,1),B.removeMarker(this)),this.processPointSelection(e,t,d,l),d.indexOf("_Series_")>-1&&this.highlightDataIndexes.length>0&&B.removeSelectionStyles(this.dataId),e.invokeMethodAsync("OnChartKeyboardNavigations",l,d)}return d.indexOf("_Series_")>-1&&this.highlightDataIndexes.length>0&&B.removeSelectionStyles(this.dataId),!1},e.prototype.mouseLeave=function(e,t,i){return sf.base.isNullOrUndefined(this.tooltipBase.tooltipModule)||B.removeTooltip(this.tooltipBase.tooltipModule.fadeOutDuration,this),sf.base.isNullOrUndefined(this.crosshairBase.crosshair)||B.removeCrosshair(this,1e3),this.dotnetref=e,this.zoomBase.zoomingModule&&(this.zoomBase.isChartDrag=this.userInteractionBase.isPointMouseDown=!1,B.mouseCancelHandler(this)),this.highlightDataIndexes.length>0&&B.removeSelectionStyles(this.dataId),e.invokeMethodAsync("OnChartMouseLeave",this.getEventArgs(i,t)),!1},e.prototype.longPress=function(e,t,i){this.dotnetref=e;var o=i&&i.originalEvent.changedTouches?i.originalEvent.changedTouches[0].clientX:0,s=i&&i.originalEvent.changedTouches?i.originalEvent.changedTouches[0].clientY:0,r=i&&i.originalEvent?i.originalEvent.target:null;return r&&r.id.indexOf("_Zooming_")>-1||(this.setMouseXY(o,s,t),this.userInteractionBase.startMove=!0,i&&i.originalEvent.type.indexOf("touch")>-1&&this.zoomBase&&this.zoomBase.zoomingModule&&(this.zoomBase.isSkipZooming=!0,this.zoomBase.isChartDrag=!1,this.userInteractionBase.disableTrackTooltip=!1),sf.svgbase.withInAreaBounds(this.mouseX,this.mouseY,this.userInteractionBase.axisClipRect)&&(B.markerMove(this,!1),this.tooltipBase.tooltipModule.enable&&B.tooltip(this),this.crosshairBase.crosshair&&this.crosshairBase.crosshair.enable&&B.createCrosshair(this)),this.dotnetref.invokeMethodAsync("OnChartLongPress")),!1},e.prototype.getAxisScrollbar=function(e,t){for(var o=function(i){if("string"==typeof e&&-1!==e.indexOf(i)){var o=t.filter((function(e){return e.name===i}));return{value:o.length>0?o[0]:null}}},s=0,r=t.map((function(e){return e.name}));s<r.length;s++){var n=o(r[s]);if("object"===i(n))return n.value}return null},e.prototype.getScrollbarId=function(e,t){var i,o;if(t instanceof MouseEvent)i=t.clientX,o=t.clientY;else{if(!(t instanceof TouchEvent))return null;var s=t.touches[0];i=s.clientX,o=s.clientY}for(var r=0,n=e.scrollBarsId;r<n.length;r++){var a=n[r],l=document.getElementById(a);if(l){var h=l.getBoundingClientRect();if(i>=h.left&&i<=h.right&&o>=h.top&&o<=h.bottom){var d=document.elementFromPoint(i,o);if(d&&l.contains(d))return d.id}}}return null},e.prototype.scrollDown=function(e,t,i){if(!this.isZooming&&!this.isScrollbar)return!1;var o=i.target.id,s=window.sfBlazor.getCompInstance(this.dataId);if(!s)return!1;if((o=-1===o.indexOf("scrollBar")?this.getScrollbarId(s,i):o)&&o.indexOf("scrollBar")>-1&&!sf.base.isNullOrUndefined(s)&&!s.isDisposed){var r=s.scrollbarBase;r.targetId=o;var n=this.getAxisScrollbar(o,r.axes);if(!sf.base.isNullOrUndefined(n)){r.axis=s.selectedScrollAxis=n;var a=r.scrollbarOptions[n.name];a.isVertical="Vertical"===n.orientation;var l=n.isAxisInverse,h=B.getScrollEventArgs(i,[s.id,s.id+"_scrollBar_svg"+n.name]);if(this.mouseX=h.mouseX,this.mouseY=h.mouseY,i.type.indexOf("touch")>-1){var d=void 0,c=void 0;i instanceof TouchEvent?(d=i.changedTouches[0].clientX,c=i.changedTouches[0].clientY):i instanceof PointerEvent&&"touch"===i.pointerType&&(d=i.clientX,c=i.clientY),o=this.getNearScrollCircleElement(d,c,[a.leftCircleEle,a.rightCircleEle],o)}if(r.isResizeLeft=B.isExist(o,"_leftCircle_")||B.isExist(o,"_leftArrow_"),r.isResizeRight=B.isExist(o,"_rightCircle_")||B.isExist(o,"_rightArrow_"),r.previousXY=a.isVertical&&l?this.mouseY:a.isVertical?a.width-this.mouseY:l?a.width-this.mouseX:this.mouseX,r.previousWidth=a.thumbRectWidth,r.previousRectX=a.thumbRectX,r.startZoomPosition=n.zoomPosition,r.startZoomFactor=n.zoomFactor,r.startRange=n.visibleRange,r.scrollStarted=!0,r.isScrollEventCalled&&s.dotnetref.invokeMethodAsync("TriggerScrollEvents",B.getArgs("ScrollStart",n.name,n.zoomPosition,n.zoomFactor,null)),B.isExist(o,"scrollBarThumb_")||B.isExist(o,"gripCircle"))r.isThumbDrag=!0,r.axis.scrollbarSettings.height>=12&&(a.svgObject.style.cursor="-webkit-grabbing");else if(B.isExist(o,"scrollBarBackRect_")){var u=B.moveLength(r);if(a.thumbRectX=B.isWithIn(u,r)?u:a.thumbRectX,B.positionThumb(a.thumbRectX,a.thumbRectWidth,r),B.setZoomFactorPosition(r,a.thumbRectX,a.thumbRectWidth,!1),a.isLazyLoad){var m=a.thumbRectX>r.previousRectX?"RightMove":"LeftMove",g=B.calculateLazyRange(r,m);g&&r.isScrollEventCalled&&s.dotnetref.invokeMethodAsync("TriggerScrollEvents",B.getArgs("ScrollStart",n.name,n.zoomPosition,n.zoomFactor,g.currentRange))}}}}return!1},e.prototype.getNearScrollCircleElement=function(e,t,i,o,s){if(void 0===s&&(s=10),!i||0===i.length)return o;for(var r=0,n=i;r<n.length;r++){var a=n[r],l=a.getBoundingClientRect(),h=l.left+l.width/2,d=l.top+l.height/2;if(Math.sqrt(Math.pow(e-h,2)+Math.pow(t-d,2))<=s)return a.id}return o},e.prototype.domMouseMove=function(e,t,i){if(!this.isZooming&&!this.isScrollbar)return!1;var o=i.target.id,s=window.sfBlazor.getCompInstance(this.dataId);if(!s)return!1;if(!sf.base.isNullOrUndefined(s)&&!s.isDisposed&&!sf.base.isNullOrUndefined(o)&&o.indexOf(s.id)>-1){var r=s.scrollbarBase;if((o=!sf.base.isNullOrUndefined(r)&&r.scrollStarted?r.targetId:o).indexOf("scrollBar")>-1||!sf.base.isNullOrUndefined(s.selectedScrollAxis)){var n=sf.base.isNullOrUndefined(s.selectedScrollAxis)?this.getAxisScrollbar(o,r.axes):s.selectedScrollAxis;if(sf.base.isNullOrUndefined(n))return null;var a=r.scrollbarOptions[n.name],l=n.isAxisInverse;if(sf.base.isNullOrUndefined(a)||a&&!document.getElementById(a.svgObject.id))return null;var h=B.getScrollEventArgs(i,[s.id,s.id+"_scrollBar_svg"+n.name]);this.mouseX=h.mouseX,this.mouseY=h.mouseY,r.isThumbDrag||B.setCursor(i.target,this.dataId,n.name),a.enableZoom=n.scrollbarSettings.enableZoom,B.setTheme(i.target,this.dataId,n.name);var d=a.isVertical&&l?a.width-this.mouseY:a.isVertical?this.mouseY:this.mouseX,c=a.zoomPosition,u=a.zoomFactor,m=r.previousRectX-a.thumbRectX<0?"RightMove":"LeftMove",g=void 0;a.isLazyLoad&&(r.isThumbDrag||r.isResizeLeft||r.isResizeRight)&&(g=B.calculateLazyRange(r,m));var p=g?g.currentRange:null;if(r.isThumbDrag){r.isScrolling=r.isThumbDrag,d=a.isVertical||l?a.width-d:d;var f=a.thumbRectX+(d-r.previousXY);d>=f+a.thumbRectWidth?B.setCursor(i.target,this.dataId,n.name):r.axis.scrollbarSettings.height>=12&&(a.svgObject.style.cursor="-webkit-grabbing"),d>=0&&d<=f+a.thumbRectWidth&&(a.thumbRectX=B.isWithIn(f,r)?f:a.thumbRectX,B.positionThumb(a.thumbRectX,a.thumbRectWidth,r),r.previousXY=d,B.setZoomFactorPosition(r,f,a.thumbRectWidth,!1)),r.isScrollEventCalled&&s.dotnetref.invokeMethodAsync("TriggerScrollEvents",B.getArgs("OnScrollChanged",n.name,c,u,p))}else(r.isResizeLeft||r.isResizeRight)&&(B.resizeThumb(r,this.mouseX,this.mouseY),r.isScrollEventCalled&&s.dotnetref.invokeMethodAsync("TriggerScrollEvents",B.getArgs("OnScrollChanged",n.name,c,u,p)))}}return!1},e.prototype.domMouseUp=function(e,t,i){if(!this.isZooming&&!this.isScrollbar)return!1;var o=i.target.id,s=window.sfBlazor.getCompInstance(this.dataId);if(!s)return!1;var r=s.scrollbarBase;if(sf.base.isNullOrUndefined(r))return!1;if((o=!sf.base.isNullOrUndefined(r)&&r.scrollStarted?r.targetId:o).indexOf("scrollBar")>-1&&!sf.base.isNullOrUndefined(r.scrollbarOptions[r.axis.name])){var n=void 0,a=r.scrollbarOptions[r.axis.name];a.startX=a.thumbRectX;var l=this.getAxisScrollbar(o,r.axes),h=a.height/2,d=a.startX+a.thumbRectWidth+h+1,c=h+.5;if(!r.isResizeLeft&&!r.isResizeRight||a.isLazyLoad||(l.zoomFactor=d>=a.width-1&&a.startX-c<=0?1:a.zoomFactor),a.isLazyLoad){var u=r.previousRectX-a.startX;if((u>0||u<0)&&r.isThumbDrag){var m=u<0?"RightMove":"LeftMove";a.startX="RightMove"===m?a.startX+Math.abs(u)<a.width-h?a.startX:a.width-h-a.thumbRectWidth:a.startX+a.thumbRectWidth-Math.abs(u)>h?a.startX:h,(n=B.calculateLazyRange(r,m))&&(r.isScrollEventCalled&&s.dotnetref.invokeMethodAsync("TriggerScrollEvents",B.getArgs("OnScrollEnd",l.name,l.zoomPosition,l.zoomFactor,n.currentRange)),r.targetId=o,r.scrollStarted=!1)}(r.isResizeLeft||r.isResizeRight)&&(n=B.calculateLazyRange(r))&&(r.isScrollEventCalled&&s.dotnetref.invokeMethodAsync("TriggerScrollEvents",B.getArgs("OnScrollEnd",l.name,l.zoomPosition,l.zoomFactor,n.currentRange)),r.targetId=o,r.scrollStarted=!1)}r.isThumbDrag=!1,r.isScrollEnd=!1,r.isScrolling=!1,r.scrollStarted&&!a.isLazyLoad&&(r.isScrollEventCalled&&s.dotnetref.invokeMethodAsync("TriggerScrollEvents",B.getArgs("OnScrollChanged",l.name,l.zoomPosition,l.zoomFactor,n?n.currentRange:null)),r.targetId=o,r.scrollStarted=!1),s.dotnetref.invokeMethodAsync("UpdateChartData")}return r.isResizeLeft=!1,r.isResizeRight=!1,s.selectedScrollAxis=null,s.userInteractionBase.isStockChart&&(s.userInteractionBase.startMove=!1),!1},e}(),n=function(e,t){this.series=e,this.point=t},a=function(e,t){this.x=e,this.y=t},l=function(e,t,i){this.r=e,this.g=t,this.b=i},h=function(){this.currentPoints=[],this.previousPoints=[],this.valueX=0,this.valueY=0,this.tooltipTempList=[]},d=function(){this.markerCurrentPoints=[],this.markerPreviousPoints=[],this.trackBallClass="EJ2-TrackBall"},c=function(){this.crosshairX=0,this.crosshairY=0,this.rx=2,this.ry=2,this.crossHighlightWidth=0,this.leftOverflow=0,this.rightOverflow=0},u=function(){this.lierIndex=0,this.chartStartMove=!0,this.axes=[],this.isFirstRendered=!0,this.toolbarHeight=43},m=function(e,t,i,o,s){this.browserName=e,this.isPointer=t,this.isDevice=i,this.isTouch=o,this.isIos=s},g=function(e){function i(t,i,o,s,r,n,a,l,h){var d=e.call(this,t,i,o.width,o.color,s,h)||this;return d.y=r.y,d.x=r.x,d.height=r.height,d.width=r.width,d.rx=n||0,d.ry=a||0,d.transform=l||"",d.stroke=0!==o.width&&""!==d.stroke?o.color:"transparent",d}return t(i,e),i}(sf.svgbase.PathOption),p=function(e){this.isZoomStart=!0,this.touchStartList=[],this.touchMoveList=[],this.chart=e,this.browser=new m(sf.base.Browser.info.name,sf.base.Browser.isPointer,sf.base.Browser.isDevice,sf.base.Browser.isTouch,sf.base.Browser.isIos||sf.base.Browser.isIos7),this.isDevice=this.browser.isDevice,this.zooming=e.zoomBase.zoomSettings,this.elementId=e.element.id,this.zoomAxes=[],this.zoomingRect=new sf.svgbase.Rect(0,0,0,0),this.isZoomed=this.performedUI=this.zooming.enablePan&&this.zooming.enableSelectionZooming,this.isPanning=this.zooming.isPanning},f=function(){this.iconRectOverFill="transparent",this.iconRectSelectionFill="transparent"},b=function(){this.axisCollections=[],this.previousMouseMoveX=0,this.previousMouseMoveY=0,this.mouseDownX=0,this.mouseDownY=0,this.clipRectId="_ChartAreaClipRect__Rect",this.zoomToolkitId="_Zooming_KitCollection",this.zoomToolkitZoom="_Zooming_Zoom",this.zoomToolkitZoomIn="_Zooming_ZoomIn",this.zoomToolkitZoomOut="_Zooming_ZoomOut",this.zoomToolkitPan="_Zooming_Pan",this.zoomToolkitReset="_Zooming_Reset",this.chartZoomTip="EJ2_Chart_ZoomTip"},v=function(e){function i(t,i,o,s,r,n,a){var l=e.call(this,t,i,o.width,o.color,s)||this;return l.cy=n,l.cx=r,l.r=a,l}return t(i,e),i}(sf.svgbase.PathOption),B={dataId:"",initialize:function(e,t,i,o,s,n,a,l){var h=this,d=new r(e,t.id,t,i,o,s,n,a);if(this.dataId=e,t&&(t.style.touchAction=l?"none":"element",t.style.msTouchAction=l?"none":"element"),t.id.indexOf("_stockChart_")>-1){var c=t.id.split("_stockChart_")[0],u=window.sfBlazor.StockChart.dotnetrefCollection.find((function(e){return e.id===c})).dotnetref;window.sfBlazor.StockChart.getTooltipPosition(u).then((function(e){h.stockChartTooltipPosition=e}))}this.isUpdatingClipRect=!1,d.render()},destroy:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||t.destroy()},getArgs:function(e,t,i,o,s){return{name:e,axisName:t,zoomPosition:isFinite(i)?i:1,zoomFactor:isFinite(o)?o:1,currentRangeMax:s?s.maximum.toString():"",currentRangeMin:s?s.minimum.toString():""}},getMouseXY:function(e,t,i){var o,s,r;e.type.indexOf("touch")>-1?(o=(r=e).changedTouches[0].clientX,s=r.changedTouches[0].clientY):(o=e.clientX,s=e.clientY);var n=document.getElementById(t+"_scrollBar_svg"+i).getBoundingClientRect();this.mouseX=o-Math.max(n.left,0),this.mouseY=s-Math.max(n.top,0)},isExist:function(e,t){return e.indexOf(t)>-1},moveLength:function(e){var t=e.previousXY,i=e.previousRectX,o=e.scrollbarOptions[e.axis.name],s=o.height/2,r=.1*(o.width-2*s);return r=t<i?i-(i-r>s?r:s):i+(i+o.thumbRectWidth+r<o.width-s?r:s),r},isWithIn:function(e,t){var i=t.scrollbarOptions[t.axis.name],o=i.height/2;return e-o>=0&&e+i.thumbRectWidth+o<=i.width},positionThumb:function(e,t,i){var o=i.scrollbarOptions[i.axis.name],s=i.axis.scrollbarSettings.height,r=s/2+2.5-.5,n=s/2-2.5-.5;o.slider.setAttribute("x",e.toString()),o.slider.setAttribute("width",t.toString()),o.enableZoom&&(o.leftCircleEle.setAttribute("cx",e.toString()),o.rightCircleEle.setAttribute("cx",(e+t).toString()),this.setArrowDirection(i)),o.gripCircle.setAttribute("transform","translate("+(e+t/2+5*(o.isVertical?1:-1))+","+(o.isVertical?r:n)+") rotate("+(o.isVertical?"180":"0")+")")},setZoomFactorPosition:function(e,t,i,o){void 0===o&&(o=!0);var s=e.axis,r=e.scrollbarOptions[s.name];r.isScrollUI=!0;var n=r.height/2,a=t+i+n+1,l=n+.5,h=r.isVertical?s.rect.h:r.width;r.zoomFactor=(i+(a>=r.width?n+1:0))/h,s.zoomFactor=o&&!r.isLazyLoad?r.zoomFactor:s.zoomFactor,r.zoomPosition=a>h?1-s.zoomFactor:t<n+1?0:(t-(t-l<=0?l:0))/h,s.zoomPosition=r.zoomPosition<0?0:r.zoomPosition>.9?1:r.zoomPosition,r.isLazyLoad||this.dotnetref.invokeMethodAsync("ChartScrolled",s.name,s.zoomFactor,s.zoomPosition)},calculateLazyRange:function(e,t,i){var o,s,r,n,a,l=e.scrollbarOptions[e.axis.name],h=l.thumbRectX,d=l.thumbRectWidth,c=l.scrollRange,u=this.getStartEnd(l.previousStart,l.previousEnd,!1,e),m=l.height/2;return e.isResizeRight||"RightMove"===t?(o=(d=e.isResizeRight?d+16:d)/l.width,s="RightMove"===t?(h+m)/l.width:e.axis.zoomPosition,n=(r="RightMove"===t?c.start+s*c.delta:l.previousStart)+o*c.delta):e.isResizeLeft||"LeftMove"===t?(s=(h-m)/l.width,o=d/l.width,r=(r=c.start+s*c.delta)>=c.start?r:c.start,n="LeftMove"===t?r+o*c.delta:l.previousEnd):(e.isThumbDrag||e.isScrollWheel)&&(s="RightMove"===t||i>0?(h+m)/l.width:(h-m)/l.width,o=l.thumbRectWidth/l.width,n=(r=(r=c.start+s*c.delta)>=c.start?r:c.start)+o*c.delta),n&&(a={axis:e.axis,currentRange:this.getStartEnd(r,n,!0,e),previousAxisRange:u}),a},getStartEnd:function(e,t,i,o){var s=o.scrollbarOptions[o.axis.name],r=s.valueType;switch("DateTime"!==r&&"DateTimeCategory"!==r||!i?i&&(s.previousStart=Math.round(e),s.previousEnd=Math.ceil(t)):(s.previousStart=e,s.previousEnd=t),r){case"Double":case"Category":case"Logarithmic":e=Math.round(e),t=Math.ceil(t);break;case"DateTime":case"DateTimeCategory":e=e,t=t}return{minimum:e,maximum:t}},setCursor:function(e,t,i){var o=window.sfBlazor.getCompInstance(t).scrollbarBase;if(o){var s=e.id;s&&o.scrollbarOptions[""+i]&&(o.scrollbarOptions[""+i].svgObject.style.cursor=(s.indexOf("scrollBarThumb_")>-1||s.indexOf("_gripCircle")>-1)&&o.axis.scrollbarSettings.height>=12?"-webkit-grab":s.indexOf("Circle_")>-1||s.indexOf("Arrow_")>-1?o.scrollbarOptions[""+i].isVertical?"ns-resize":"ew-resize":"auto")}},setTheme:function(e,t,i){var o=window.sfBlazor.getCompInstance(t),s=o.scrollbarBase,r=s.scrollbarOptions[""+i];if(r&&r.enableZoom){var n=e.id,a=n.indexOf("_leftCircle_")>-1||n.indexOf("_leftArrow_")>-1,l=n.indexOf("_rightCircle_")>-1||n.indexOf("_rightArrow_")>-1,h=s.scrollbarThemeStyle,d=r.leftArrowEle,c=r.rightArrowEle,u=r.leftCircleEle,m=r.rightCircleEle,g=this.isCurrentAxis(e,d),p=o&&"Fluent2HighContrast"===o.userInteractionBase.theme;u.style.fill=a&&g?h.circleHover:h.circle,m.style.fill=l&&g?h.circleHover:h.circle,u.style.stroke=a&&g?p?"#FFFFFF":h.circleHover:p?"#FFFFFF":h.circle,m.style.stroke=l&&g?p?"#FFFFFF":h.circleHover:p?"#FFFFFF":h.circle,"HighContrastLight"===s.theme&&(d.style.fill=a&&g?h.arrowHover:h.arrow,d.style.stroke=a&&g?h.arrowHover:h.arrow,c.style.fill=l&&g?h.arrowHover:h.arrow,c.style.stroke=l&&g?h.arrowHover:h.arrow,u.style.stroke=a&&g?h.circleHover:h.circle,m.style.stroke=l&&g?h.circleHover:h.circle)}},isCurrentAxis:function(e,t){return e.id.split("_")[2]===t.id.split("_")[2]},resizeThumb:function(e,t,i){var o,s=e.scrollbarOptions[e.axis.name].height/2,r=2*s+10+14,n=e.previousRectX,a=e.axis.isAxisInverse;this.mouseX=t,this.mouseY=i;var l=e.scrollbarOptions[e.axis.name],h=l.isVertical&&a?this.mouseY:l.isVertical?l.width-this.mouseY:a?l.width-this.mouseX:this.mouseX,d=Math.abs(e.previousXY-h);if(e.isResizeLeft&&h>=0){var c=n+(h>e.previousXY?d:-d);o=c-s>=0?e.previousWidth+(h>e.previousXY?-d:d):e.previousWidth,c=c-s>=0?c:n,o>=r&&h<c+o&&(l.thumbRectX=e.previousRectX=c,l.thumbRectWidth=e.previousWidth=o,e.previousXY=h,this.positionThumb(c,o,e),this.setZoomFactorPosition(e,c,o))}else e.isResizeRight&&(o=h>=r+l.thumbRectX&&h<=l.width-s?h-l.thumbRectX:e.previousWidth,l.thumbRectWidth=e.previousWidth=o,e.previousXY=h,this.positionThumb(l.startX,o,e),this.setZoomFactorPosition(e,l.startX,o),l.isLazyLoad||this.setZoomFactorPosition(e,l.startX,o))},setHighlightSelectionOptions:function(e,t){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i)||i.selectionHighlightOptions(t)},showTooltip:function(e,t,i,o){void 0===i&&(i=!1);var s=window.sfBlazor.getCompInstance(o);if(i)for(var r=0,n=s.userInteractionBase.visibleSeries;r<n.length;r++)for(var a=n[r],l=0,h=a.points;l<h.length;l++){var d=h[l],c="DateTime"===a.x_Axis.valueType?d.xV:d.x,u=e;if("DateTime"===a.x_Axis.valueType&&(u=new Date(u).getTime()),e===c&&t===d.yV){s.mouseX=d.r[0].x+a.clipRect.x,s.mouseY=d.r[0].y+a.clipRect.y,B.tooltipMousemovehandler(s),B.markerMove(s,!1);break}}else s.mouseX=e,s.mouseY=t,B.tooltipMousemovehandler(s),B.markerMove(s,!1)},hideTooltip:function(e){var t=window.sfBlazor.getCompInstance(e);B.removeTooltip(sf.base.Browser.isDevice?2e3:1e3,t)},showCrosshair:function(e,t,i){var o=window.sfBlazor.getCompInstance(i);o.mouseX=e,o.mouseY=t,B.crosshairMousemoveHandler(o)},hideCrosshair:function(e){var t=window.sfBlazor.getCompInstance(e);B.removeCrosshair(t,sf.base.Browser.isDevice?2e3:1e3)},updateZoomingOptions:function(e,t){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i)||(i.zoomBase.zoomingModule.isZoomed=t,i.zoomBase.zoomingModule.isPanning=t)},setTooltipData:function(e,t,i,o,s,r,n,a,l,h){var d=window.sfBlazor.getCompInstance(e);d.tooltipBase.tooltipModule&&!d.userInteractionBase.isStockChart&&this.removeTooltipCrosshairOnZoom(d),r&&(r.template=sf.base.isNullOrUndefined(h)||""===h?null:h,d.tooltipBase.tooltipModule=r,d.tooltipBase.tooltipFormat=sf.base.isNullOrUndefined(d.tooltipBase.tooltipModule.format)?d.tooltipBase.tooltipFormat:d.getTooltipFormat(d.tooltipBase.tooltipModule.format)),d.dateValuePairs=n,d.numberValuePairs=a,d.userInteractionBase.chartStartMove=!1,d.getTooltipData(t,i,o,s),d.userInteractionBase.chartStartMove=!0,d.zoomBase.axisCollections=s,d.userInteractionBase.axisClipRect=l,d.zoomBase.zoomingModule&&(!this.isUpdatingClipRect&&d.userInteractionBase.isStockChart?(this.isUpdatingClipRect=!0,this.updateClipRect(this.getElement(d.element.id+d.zoomBase.clipRectId),d),this.isUpdatingClipRect=!1):d.userInteractionBase.isStockChart||this.updateClipRect(this.getElement(d.element.id+d.zoomBase.clipRectId),d)),d.isDataLoaded&&setTimeout((function(){d.removeTooltipData()}),500),this.applyZoomingToolkit(d)},setTooltipOptions:function(e,t,i,o,s,r,n,a,l){var h=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(h)||(h.dateValuePairs=a,h.numberValuePairs=l,h.userInteractionBase.chartStartMove=!1,h.tooltipOptions(t,i),h.zoomBase.axisCollections=n,sf.base.isNullOrUndefined(h.userInteractionBase.visibleSeries)&&h.getVisibleSeries(h,o,s,r,n),h.userInteractionBase.chartStartMove=!0,h.zoomBase.isResized&&h.zoomBase.zoomingModule&&(h.zoomBase.isResized=!1,this.updateClipRect(this.getElement(h.element.id+h.zoomBase.clipRectId),h)))},setTooltipCrosshairOptions:function(e,t,i){var o=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(o)||o.tooltipOptions(t,i)},setZoomOptions:function(e,t){var i=this,o=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(o)){var s=o.userInteractionBase.theme;o.zoomBase.zoomSettings=t,o.isZooming=t.enableMouseWheelZooming,o.zoomBase.zoomingModule=new p(o),o.zoomToolkitBase.selectionColor="Material3Dark"===s?"#CAC4D0":"Material3"===s?"#49454E":"Tailwind"===s?"#4F46E5":"TailwindDark"===s?"#22D3EE":"Tailwind3"===s?"#212529":"Tailwind3Dark"===s?"#FFFFFF":"Material"===s?"#E3165B":"MaterialDark"===s?"#00B0FF":"Bootstrap4"===s?"#007BFF":"Fluent"===s||"FluentDark"===s?"#0078D4":"Bootstrap"===s?"#317AB9":"BootstrapDark"===s?"#0070F0":"Fabric"===s?"#0078D6":"FabricDark"===s?"#0074CC":"HighContrast"===s||"HighContrastLight"===s?"#FFD939":"Fluent2"===s?"#424242":"Fluent2Dark"===s?"#D6D6D6":"Fluent2HighContrast"===s?"#FFFFFF":"Bootstrap5"===s?"#6E757D":"Bootstrap5Dark"===s?"#ADB5BD":o.zoomToolkitBase.selectionColor,o.zoomToolkitBase.iconRectOverFill="Bootstrap4"===s?"#5A6268":"Material3"===s?"#EADDFF":"Material3Dark"===s?"#4F378B":"Fluent2"===s?"#EBEBEB":"Fluent2Dark"===s?"#383838":"Fluent2HighContrast"===s?"#1AEBFF":"Bootstrap5"===s?"#F8F9FA":"Bootstrap5Dark"===s?"#2B3035":"Tailwind3"===s?"#F9FAFB":"Tailwind3Dark"===s?"#242A38":o.zoomToolkitBase.iconRectOverFill,o.zoomToolkitBase.iconRectSelectionFill="Bootstrap4"===s?"#5B6269":"Material3"===s?"#EADDFF":"Material3Dark"===s?"#4F378B":"Fluent2"===s?"#EBEBEB":"Fluent2Dark"===s?"#383838":"Fluent2HighContrast"===s?"#1AEBFF":"Bootstrap5"===s?"#F8F9FA":"Bootstrap5Dark"===s?"#343A40":"Tailwind3"===s?"#F3F4F6":"Tailwind3Dark"===s?"#242A38":o.zoomToolkitBase.iconRectSelectionFill,o.zoomToolkitBase.selectedId=o.zoomBase.zoomingModule.isPanning?o.element.id+"_Zooming_Pan_1":o.element.id+"_Zooming_Zoom_1",o.zoomToolkitBase.fillColor="Bootstrap4"===s?"#495057":"Tailwind"===s?"#6B7280":"TailwindDark"===s?"D1D5DB":"Tailwind3Dark"===s?"#FFFFFF":"Fluent"===s?"#A19F9D":"FluentDark"===s?"#484644":"Fluent2"===s?"#424242":"Fluent2Dark"===s?"#D6D6D6":"Fluent2HighContrast"===s?"#FFFFFF":"Bootstrap5"===s?"#6E757D":"Bootstrap5Dark"===s?"#ADB5BD":"#737373",o.zoomToolkitBase.isFluent2HighContrast="Fluent2HighContrast"===s,o.zoomToolkitBase.unSelectedFill=o.zoomToolkitBase.isFluent2HighContrast?"#3FF23F":"",!this.getElement(o.element.id+o.zoomBase.clipRectId)&&o.zoomBase.zoomingModule&&this.createClipRect(o),setTimeout((function(){i.setChartElementStyle(o)}),100),this.applyZoomingToolkit(o)}},setChartElementStyle:function(e){if(e){var t=e.zoomBase&&e.zoomBase.zoomSettings&&(e.zoomBase.zoomSettings.enableSelectionZooming||e.zoomBase.zoomSettings.enablePinchZooming)?"none":"element";e.element&&(e.element.style.touchAction=t,e.element.style.msTouchAction=t)}},setUIBooleanValues:function(e,t,i,o){var s=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(s)||(s.userInteractionBase.isPointDragging=o,s.userInteractionBase.isPointMouseDown=t,s.userInteractionBase.disableTrackTooltip=i)},setTooltipArgsData:function(e,t,i){var o=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(o)){if(o.tooltipBase.currentPoints.length>0&&o.tooltipBase.previousPoints.length>0&&o.tooltipBase.currentPoints[0].point===o.tooltipBase.previousPoints[0].point)return;o.tooltipBase.formattedText=[],o.tooltipBase.argsData.headerText=t,o.tooltipBase.argsData.text=i,this.seriesTooltip(o,o.tooltipBase.currentPoints[0],!0)}},setSharedTooltipArgsData:function(e,t,i,o){var s=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(s)||(s.tooltipBase.sharedArgsData.data.length!==o.length&&(s.tooltipBase.currentPoints=s.tooltipBase.currentPoints.filter((function(e){return o.some((function(t){return t.seriesIndex===e.series.index&&t.pointIndex===e.point.iX}))}))),s.tooltipBase.sharedArgsData.headerText=t,s.tooltipBase.sharedArgsData.text=i,this.groupedTooltip(s,s.tooltipBase.currentPoints,!0,s.tooltipBase.lastData))},invokeBlurEffect:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||this.blurEffect(t.element.id,t)},invokeRemoveSelectedElements:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||(t.selectedDataIndexes=[],t.styleId=t.element.id+"_ej2_chart_selection",this.removeSelectedElements(e))},redrawSelection:function(e){var t=window.sfBlazor.getCompInstance(e);t.isSeriesMode="Series"===t.oldMode;var i=t.selectedDataIndexes,o=t.highlightDataIndexes;t.styleId.indexOf("highlight")>-1&&t.highlightDataIndexes.length>0?(t.highlightDataIndexes=[],this.removeSelectedElements(e),i=o):(t.styleId=t.element.id+"_ej2_chart_selection",t.selectedDataIndexes=[],this.removeSelectedElements(e)),this.blurEffect(t.element.id,t),this.selectDataIndex(t.dataId,i)},removeSelectionStyles:function(e){var t=window.sfBlazor.getCompInstance(e);t.highlightDataIndexes=[];for(var i=document.getElementsByClassName(t.unSelected);i.length>0;){var o=i[0];o&&this.removeSvgClass(o,o.getAttribute("class"))}for(var s=0;s<t.seriesTypes.length;s++)this.removeLegendSelectionClass(document.getElementsByClassName(t.unSelected),t),this.removeLegendSelectionClass(document.getElementsByClassName(this.generateStyle(t.element.id+"SeriesGroup"+s,t)),t),this.removeLegendSelectionClass(this.getSeriesElements(s,t),t);for(s=0;s<t.seriesTypes.length;s++){var r=this.findDOMElement(t.element.id+"_chart_legend_shape_"+s);r&&this.removeSvgClass(r,r.getAttribute("class"))}},highlightAnimation:function(e,t,i,o,s,r){var n,a,l=t>=0&&t<r.userInteractionBase.visibleSeries.length?r.userInteractionBase.visibleSeries[parseInt(t.toString(),10)]:void 0,h=l?Number(l.width.toString())+1:0;l&&(s?a=-1!==e.id.indexOf("Border")&&l.border.wT?Number(l.border.wT.toString()):-1!==e.id.indexOf("Symbol")&&l.marker.b.wT?Number(l.marker.b.wT.toString()):Number(l.width.toString()):n=-1!==e.id.indexOf("Border")?1:-1!==e.id.indexOf("Symbol")?Number(l.marker.oP.toString()):Number(l.opacity.toString())),(void 0!==n||s&&void 0!==a)&&new sf.base.Animation({}).animate(e,{duration:i,progress:function(t){e.style.animation="";var i=t.timeStamp/t.duration;if(s&&void 0!==a){var r=h+(a-h)*i;e.setAttribute("stroke-width",r.toString())}else if(void 0!==n){var l=o+(n-o)*i;e.setAttribute("opacity",l.toString())}},end:function(){s&&void 0!==a?e.setAttribute("stroke-width",a.toString()):void 0!==n&&e.setAttribute("opacity",n.toString())}})},removeLegendSelectionClass:function(e,t){for(var i=0,o=e;i<o.length;i++){var s=o[i];sf.base.isNullOrUndefined(s)||(this.removeSvgClass(s,s.getAttribute("class")),sf.base.isNullOrUndefined(t.highlightColor)||""===t.highlightColor||"None"!==t.highlightPattern||s.setAttribute("fill",t.highlightColor))}},removeSelectedElements:function(e){for(var t=window.sfBlazor.getCompInstance(e),i=0;i<t.seriesTypes.length;i++)this.removeStyles(this.getSeriesElements(i,t),t)},selectionChart:function(e,t){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i)||(i.currentMode=i.selectionMode,i.styleId=i.element.id+"_ej2_chart_selection",i.isSeriesMode=!1,this.selection(i,t,this.findElements(i,"",t)))},selectDataIndex:function(e,t){var i=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(i)){this.isAlreadySelected({type:"click"},i);for(var o=i.currentMode,s=0;s<t.length;s++)if(null!==t[s]){var r=t[s],n="#"+this.findElementId(i,r);this.performSelection(r,i,i.element.querySelector(n))}i.currentMode!==o&&(i.currentMode=o)}},findElementId:function(e,t){var i=e.seriesTypes[t.series];return this.pointIdRequired(i)?e.element.id+"_Series_"+t.series+"_Point_"+t.point:e.element.id+"_Series_"+t.series+"_Point_"+t.point+"_Symbol"},focusTarget:function(e){var t,i;if(e.indexOf("_chart_legend_")>-1){i=(t=this.getElement(e).parentElement).getAttribute("class");var o=B.getElement(this.id+"_ChartAreaClipRect_");o&&o.parentNode.parentNode.appendChild(o.parentNode);var s=this.getElement(this.id+"SeriesCollection").firstElementChild,r=window.sfBlazor.getCompInstance(this.dataId),n=s?this.getFocusedSeries(r,s.id):null;this.setTabIndex(this.getElement(this.id+"_chart_legend_translate_g").firstElementChild,n?this.getElement(n):null);var a=this.getElement(this.id+"TrendLineCollection").firstElementChild,l=a?this.getFocusedSeries(r,a.id):null;l&&this.getElement(l).setAttribute("tabindex","0"),t.setAttribute("tabindex","0"),i&&-1===i.indexOf("e-chart-focused")?i+=" e-chart-focused":i||(i="e-chart-focused")}else t=this.getElement(e),i="e-chart-focused";t.setAttribute("tabindex","0"),t.setAttribute("class",i),t.focus()},focusChild:function(e){e.setAttribute("tabindex","0");var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t&&-1===t.indexOf("e-chart-focused")?t+=" e-chart-focused":t||(t="e-chart-focused"),e.setAttribute("class",t),e.focus(),e.id},getCurrentSeries:function(e,t,i){var o,s=[];return e.userInteractionBase.visibleSeries.forEach((function(e){(t.indexOf("TrendLine")>-1&&"TrendLine"===e.category||-1===t.indexOf("TrendLine")&&"TrendLine"!==e.category&&"Indicator"!==e.category)&&s.push(e)})),s.forEach((function(t){t.index!==i||e.tooltipBase.tooltipModule.enable&&t.enableTooltip&&!(t.points.length>0)||(o=t)})),o},getFocusedSeries:function(e,t){if(t.indexOf("SeriesGroup")>-1){var i=+t.match(/SeriesGroup(\d+)/)[1],o=this.getCurrentSeries(e,t,i);if(!o||o.focusable)return t;var s=[];e.userInteractionBase.visibleSeries.forEach((function(e){(t.indexOf("TrendLine")>-1&&"TrendLine"===e.category||-1===t.indexOf("TrendLine")&&"TrendLine"!==e.category&&"Indicator"!==e.category)&&s.push(e)}));for(var r=0;r<s.length;r++)if(s[parseInt(r.toString(),10)].focusable)return s[parseInt(r.toString(),10)].id}},getCurrentPointElement:function(e,t,i){for(var o=t.children[t.children.length-1].id.indexOf("_Connector_")>-1?t.children.length-1:t.children.length,s="ArrowDown"!==i?1:o-1;"ArrowDown"!==i?s<o:s>=1;"ArrowDown"!==i?s++:s--){var r=parseInt(t.children[parseInt(s.toString(),10)].id.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],10);if("ArrowDown"!==i&&r>=e.currentPointIndex)return e.currentPointIndex=r,t.children[parseInt(s.toString(),10)];if("ArrowDown"===i&&r<=e.currentPointIndex)return e.currentPointIndex=r,t.children[parseInt(s.toString(),10)]}return e.currentPointIndex="ArrowUp"!==i?parseInt(t.children[o-1].id.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],10):parseInt(t.children[1].id.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],10),t.children["ArrowUp"!==i?o-1:1]},checkPointsLength:function(e){for(var t=0;t<e.points.length;t++)if(t!==e.points[parseInt(t.toString(),10)].iX)return!0;return!1},getCurrentPointIndex:function(e,t,i){for(var o="ArrowDown"!==i?0:t.points.length-1;"ArrowDown"!==i?o<t.points.length:o>=0;"ArrowDown"!==i?o++:o--){if("ArrowDown"!==i&&t.points[parseInt(o.toString(),10)].iX>=e.currentPointIndex)return e.currentPointIndex=t.points[parseInt(o.toString(),10)].iX,o;if("ArrowDown"===i&&t.points[parseInt(o.toString(),10)].iX<=e.currentPointIndex)return e.currentPointIndex=t.points[parseInt(o.toString(),10)].iX,o}return e.currentPointIndex="ArrowUp"!==i?t.points[t.points.length-1].iX:t.points[0].iX,"ArrowUp"!==i?t.points.length-1:0},getRectSeriesElement:function(e,t){for(var i=0;i<t.points.length;i++)if(t.points[parseInt(i.toString(),10)].iX>=e.currentPointIndex)return e.currentPointIndex=t.points[parseInt(i.toString(),10)].iX,this.getElement(this.id+"_Series_"+t.index+"_Point_"+e.currentPointIndex);return this.getElement(this.id+"_Series_"+t.index+"_Point_"+(t.points.length-1))},getActualIndex:function(e,t){return e>t-1?0:e<0?t-1:e},setTabIndex:function(e,t){e&&e.removeAttribute("tabindex"),t&&t.setAttribute("tabindex","0")},eventInterval:80,dotnetref:{},getScrollEventArgs:function(e,t){var i=e.changedTouches?e.changedTouches[0].clientX:e.clientX,o=e.changedTouches?e.changedTouches[0].clientY:e.clientY,s=this.setScrollMouseXY(i,o,e.target.id,t),r=e.touches,n=[];if(e.type.indexOf("touch")>-1)for(var a=0,l=r.length;a<l;a++)n.push({pageX:r[parseInt(a.toString(),10)].clientX,pageY:r[parseInt(a.toString(),10)].clientY,pointerId:e.pointerId||0});var h=e.target.id;return h=h.indexOf("scrollBar")>-1?h:this.svgId,{type:e.type,clientX:e.clientX,clientY:e.clientY,mouseX:s.mouseX,mouseY:s.mouseY,pointerType:e.pointerType,target:h,changedTouches:{clientX:e.changedTouches?e.changedTouches[0].clientX:0,clientY:e.changedTouches?e.changedTouches[0].clientY:0},touches:n,pointerId:e.pointerId}},svgId:null,setScrollMouseXY:function(e,t,i,o){this.svgId=o[1];var s=o[0];this.dotnetref=this.dotnetrefCollection.find((function(e){return s===e.id})).dotnetref;var r=e,n=t,a=this.getElement(this.svgId);if(!sf.base.isNullOrUndefined(a)){var l=a.getBoundingClientRect();r=e-Math.max(l.left,0),n=t-Math.max(l.top,0)}return{mouseX:r,mouseY:n}},dotnetrefCollection:[],tooltipMousemovehandler:function(e){if(!sf.base.isNullOrUndefined(e.tooltipBase.tooltipModule)){if(e.userInteractionBase.isPointMouseDown)return void this.removeTooltip(e.tooltipBase.tooltipModule.fadeOutDuration,e);e.userInteractionBase.disableTrackTooltip||this.isSelected()||!e.tooltipBase.tooltipModule.enable||(!e.tooltipBase.tooltipModule.shared&&(!e.isTouch||e.userInteractionBase.startMove)||sf.svgbase.withInAreaBounds(e.mouseX,e.mouseY,e.userInteractionBase.axisClipRect)&&e.tooltipBase.tooltipModule.shared&&(!e.isTouch||e.userInteractionBase.startMove)?this.tooltip(e):e.tooltipBase.tooltipModule.shared&&e.tooltipBase.isSharedRemove&&!e.isTouch&&this.removeTooltip(e.tooltipBase.tooltipModule.fadeOutDuration,e))}},dragStart:function(){this.isDragSelection=!0,this.tooltipVisibility(!1)},dragRemove:function(){this.isDragSelection=!1,this.tooltipVisibility(!0)},dragEnd:function(){var e=this;setTimeout((function(){e.tooltipVisibility(!0)}),500)},tooltipVisibility:function(e){var t=document.querySelector('[id*="_tooltip"]');t&&(t.style.visibility=e?"":"hidden")},markerMove:function(e,t){var i=this;if(e.userInteractionBase.isPointMouseDown)this.removeMarker(e);else{var o,s,r;if(!e.userInteractionBase.disableTrackTooltip){if(e.tooltipBase.tooltipModule.shared&&e.tooltipBase.tooltipModule.enable){if(!sf.svgbase.withInAreaBounds(e.mouseX,e.mouseY,e.userInteractionBase.axisClipRect))return;if(e.tooltipBase.tooltipModule.enable){for(var n="PolarAxes"===e.userInteractionBase.chartAreaType?this.getData(e):null,a=0,l=e.userInteractionBase.visibleSeries;a<l.length;a++){var h=l[a];if(h.enableTooltip&&"Indicator"!==h.category&&h.visible&&(sf.base.isNullOrUndefined(h.marker)||h.marker.aH)&&("CartesianAxes"===e.userInteractionBase.chartAreaType&&h.visible?o=this.getClosestX(e,h):"PolarAxes"===e.userInteractionBase.chartAreaType&&h.visible&&n.point&&(o={point:h.points[n.point.iX],series:h}),o&&!sf.base.isNullOrUndefined(o.point)))if(this.isSeriesAxisZoomed(h)){var d=o.point.mK?o.point.mK.mW:o.series.marker.mW,c=o.point.mK?o.point.mK.mH:o.series.marker.mH;o.point.s.length&&!this.isPointInRect(o.point.s,e.userInteractionBase.axisClipRect,o.point.r,d,c,e.userInteractionBase.isStockChart)||e.markerExplodeBase.markerCurrentPoints.push(o)}else e.markerExplodeBase.markerCurrentPoints.push(o)}e.markerExplodeBase.markerCurrentPoints=this.getSharedPoints(e,e.markerExplodeBase.markerCurrentPoints)}}else if(r=(o=this.getData(e)).series,!sf.base.isNullOrUndefined(r)&&!sf.base.isNullOrUndefined(r.marker)&&r.marker.aH){var u=e.markerExplodeBase.markerPreviousPoints.length>0?e.markerExplodeBase.markerPreviousPoints[0]:null;s=!sf.base.isNullOrUndefined(r)&&("Bubble"===r.type||"Scatter"===r.drawType||"Scatter"===r.type||"Candle"!==r.type&&"Hilo"!==r.type&&"HiloOpenClose"!==r.type&&r.marker.vS&&0!==r.marker.mW&&0!==r.marker.mH),o.lierIndex=e.userInteractionBase.lierIndex,o.point&&s&&(sf.base.isNullOrUndefined(u)||u.point!==o.point||u.lierIndex>3&&u.lierIndex!==e.userInteractionBase.lierIndex)&&e.markerExplodeBase.markerCurrentPoints.push(o),o.point&&s&&e.userInteractionBase.isPointMouseDown&&e.markerExplodeBase.markerCurrentPoints.push(o),e.tooltipBase.tooltipModule&&e.tooltipBase.tooltipModule.showNearestTooltip&&0===e.markerExplodeBase.markerCurrentPoints.length&&s&&sf.svgbase.withInAreaBounds(e.mouseX,e.mouseY,e.userInteractionBase.axisClipRect)&&(e.markerExplodeBase.markerCurrentPoints=e.tooltipBase.currentPoints)}if(e.markerExplodeBase.markerCurrentPoints.length>0&&(0===e.markerExplodeBase.markerPreviousPoints.length||e.userInteractionBase.isPointMouseDown||e.markerExplodeBase.markerPreviousPoints.length>0&&(e.tooltipBase.tooltipModule.showNearestPoint&&e.tooltipBase.tooltipModule.shared||e.markerExplodeBase.markerPreviousPoints[0].point!==e.markerExplodeBase.markerCurrentPoints[0].point))){e.markerExplodeBase.markerPreviousPoints.length>0&&this.removeMarker(e);for(var m=0;m<e.markerExplodeBase.markerCurrentPoints.length;m++){var g=(n=e.markerExplodeBase.markerCurrentPoints[parseInt(m.toString(),10)]).series,p=n.point;if(p.mK=p.mK?p.mK:{vS:!1},n&&p||r&&"Candle"!==r.type&&"Hilo"!==r.type&&"HiloOpenClose"!==r.type){window.clearTimeout(e.markerExplodeBase.markerExplodeInterval),e.markerExplodeBase.isRemove=!0;for(var f=0;f<p.s.length;f++)this.isRectSeries(g.type)&&!p.mK.vS||this.trackBall(e,g,p,p.s[parseInt(f.toString(),10)],f)}}e.markerExplodeBase.markerPreviousPoints=[],e.markerExplodeBase.markerPreviousPoints=e.markerExplodeBase.markerPreviousPoints.concat(e.markerExplodeBase.markerCurrentPoints)}!e.tooltipBase.tooltipModule.enable&&(0===e.markerExplodeBase.markerCurrentPoints.length&&e.markerExplodeBase.isRemove||t&&e.markerExplodeBase.isRemove||e.userInteractionBase.axisClipRect&&!sf.svgbase.withInAreaBounds(e.mouseX,e.mouseY,e.userInteractionBase.axisClipRect))&&(e.markerExplodeBase.isRemove=!1,e.markerExplodeBase.markerExplodeInterval=+setTimeout((function(){i.removeMarker(e)}),2e3))}e.tooltipBase.tooltipModule.enable&&!s&&0===e.markerExplodeBase.markerCurrentPoints.length&&e.tooltipBase.currentPoints.length>0&&this.removeMarker(e),e.markerExplodeBase.markerCurrentPoints=[]}},trackBall:function(e,t,i,o,s,r){for(var n=i.mK,a=t.marker,l=e.element.id+"_Series_"+t.index+"_Point_"+i.iX+"_Trackball"+(s&&0!==s?"_"+s:""),h={width:(n.mW?n.mW:a.mW)+3,height:(n.mH?n.mH:a.mH)+3},d=n.b||t.border,c=d.cL&&"transparent"!==d.cL?d.cL:n.f?n.f:i.i?i.i:t.interior,u=this.convertHexToColor(this.colorNameToHex(c)),m=n.b?n.b.wT:a.b.wT,g="rgba("+u.r+","+u.g+","+u.b+",0.2)",p="CartesianAxes"===e.userInteractionBase.chartAreaType?"translate("+t.clipRect.x+","+t.clipRect.y+")":"",f="Bubble"===t.type||"Scatter"===t.type||"Scatter"===t.drawType?"url(#"+e.clipPathID(t.index)+")":"url(#"+e.markerClipPathId(t.index)+")",b=n.sH?n.sH:a.sH,v=0;v<2;v++){var B=new sf.svgbase.PathOption(l+"_"+v,v>0?n.f||i.i||(r?t.interior:"#ffffff"):"transparent",m+(v>0?0:8),v>0?c:g,n.oP||a.oP,"",null),S=this.calculateShapes(o,h,b,B,a.iU,!1);this.drawTrackBall(e.element.id.replace("_stockChart_chart","")+"_svg",S.renderOption,S.functionName,e.markerExplodeBase.trackBallClass,f,p)}},colorNameToHex:function(e){e="transparent"===e?"white":e,document.body.appendChild(sf.base.createElement("text",{id:"chartmeasuretext"}));var t=document.getElementById("chartmeasuretext");t.style.color=e,e=window.getComputedStyle(t).color,sf.base.remove(t);var i=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/.exec(e);return this.convertToHexCode(new l(parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)))},convertToHexCode:function(e){return"#"+this.componentToHex(e.r)+this.componentToHex(e.g)+this.componentToHex(e.b)},componentToHex:function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},convertHexToColor:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?new l(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)):new l(255,255,255)},calculateShapes:function(e,t,i,o,s,r){var n,a,l,h="path",d=r,c=d&&"Circle"===i?t.width-2:t.width,u=d&&"Circle"===i?t.height-2:t.height,m=e.x,g=e.y,p=e.y+-u/2,f=e.x+-c/2;switch(i){case"Bubble":case"Circle":h="ellipse",sf.base.merge(o,{d:"",rx:c/2,ry:u/2,cx:m,cy:g});break;case"Cross":n="M "+f+" "+(g+-u/2)+" L "+(m+c/2)+" "+(g+u/2)+" M "+f+" "+(g+u/2)+" L "+(m+c/2)+" "+(g+-u/2),sf.base.merge(o,{d:n});break;case"Multiply":n="M "+(m-0)+" "+(g-0)+" L "+(m+0)+" "+(g+0)+" M "+(m-0)+" "+(g+0)+" L "+(m+0)+" "+(g-0),sf.base.merge(o,{d:n,stroke:o.fill});break;case"HorizontalLine":n="M "+f+" "+g+" L "+(m+c/2)+" "+g,sf.base.merge(o,{d:n});break;case"VerticalLine":n="M "+m+" "+(g+u/2)+" L "+m+" "+(g+-u/2),sf.base.merge(o,{d:n});break;case"Diamond":n="M "+f+" "+g+" L "+m+" "+(g+-u/2)+" L "+(m+c/2)+" "+g+" L "+m+" "+(g+u/2)+" L "+f+" "+g+" z",sf.base.merge(o,{d:n});break;case"ActualRect":n="M "+f+" "+(g+-u/8)+" L "+(m+0)+" "+(g+-u/8)+" L "+(m+0)+" "+(g+u/8)+" L "+f+" "+(g+u/8)+" L "+f+" "+(g+-u/8)+" z",sf.base.merge(o,{d:n});break;case"TargetRect":n="M "+(f+0)+" "+(g+-u/2)+" L "+(m+0)+" "+(g+-u/2)+" L "+(m+0)+" "+(g+u/2)+" L "+(f+0)+" "+(g+u/2)+" L "+(f+0)+" "+(g+-u/2)+" z",sf.base.merge(o,{d:n});break;case"Rectangle":case"Hilo":case"HiloOpenClose":case"Candle":case"Waterfall":case"BoxAndWhisker":case"StepArea":case"StackingStepArea":case"Square":case"Flag":n="M "+f+" "+(g+-u/2)+" L "+(m+c/2)+" "+(g+-u/2)+" L "+(m+c/2)+" "+(g+u/2)+" L "+f+" "+(g+u/2)+" L "+f+" "+(g+-u/2)+" z",sf.base.merge(o,{d:n});break;case"Pyramid":case"Triangle":n="M "+f+" "+(g+u/2)+" L "+m+" "+(g+-u/2)+" L "+(m+c/2)+" "+(g+u/2)+" L "+f+" "+(g+u/2)+" z",sf.base.merge(o,{d:n});break;case"Funnel":case"InvertedTriangle":n="M "+(m+c/2)+" "+(g-u/2)+" L "+m+" "+(g+u/2)+" L "+(m-c/2)+" "+(g-u/2)+" L "+(m+c/2)+" "+(g-u/2)+" z",sf.base.merge(o,{d:n});break;case"Pentagon":for(var b=0;b<=5;b++)a=c/2*Math.cos(Math.PI/180*(72*b)),l=u/2*Math.sin(Math.PI/180*(72*b)),n=0===b?"M "+(m+a)+" "+(g+l)+" ":n.concat("L "+(m+a)+" "+(g+l)+" ");n=n.concat("Z"),sf.base.merge(o,{d:n});break;case"Plus":n="M "+f+" "+g+" L "+(m+c/2)+" "+g+" M "+m+" "+(g+u/2)+" L "+m+" "+(g+-u/2),sf.base.merge(o,{d:n});break;case"Image":h="Image",sf.base.merge(o,{href:s,height:u,width:c,x:f,y:p})}return{renderOption:o,functionName:h}},removeMarker:function(e){this.removeHighLightedMarker(e),e.markerExplodeBase.markerPreviousPoints=[]},crosshairMousemoveHandler:function(e){!e.userInteractionBase.disableTrackTooltip&&e.crosshairBase.crosshair&&e.crosshairBase.crosshair.enable&&(!sf.svgbase.withInAreaBounds(e.mouseX,e.mouseY,e.userInteractionBase.axisClipRect)||e.isTouch&&!e.userInteractionBase.startMove?this.removeCrosshair(e,1e3):this.createCrosshair(e))},removeCrosshair:function(e,t){var i=this.getElement(e.element.id+"_UserInteraction"),o=this.getElement(e.element.id+"_crosshair_axis");this.stopAnimation(e.crosshairBase.crosshairInterval),!e.userInteractionBase.isFirstRendered&&i&&"0"!==i.getAttribute("opacity")&&(e.crosshairBase.crosshairInterval=+setTimeout((function(){"0"!==i.getAttribute("opacity")&&new sf.base.Animation({}).animate(i,{duration:200,progress:function(e){if(i.style.animation="",i.setAttribute("opacity",(1-e.timeStamp/e.duration).toString()),o)for(;o.firstChild;)o.removeChild(o.firstChild)},end:function(){i.setAttribute("opacity","0"),e.tooltipBase.tooltipModule&&(e.tooltipBase.valueX=null,e.tooltipBase.valueY=null)}})}),t))},createCrosshair:function(e){(e.crosshairBase.crosshair.snapToData||e.crosshairBase.crosshair.highlightCategory)&&this.findMousePoints(e);var t,i=e.userInteractionBase.axisClipRect,o="",s="",r=e.crosshairBase.crosshair,n=document.getElementById(e.element.id+"_UserInteraction"),a="Bootstrap5"===e.userInteractionBase.theme||"Fluent2HighContrast"===e.userInteractionBase.theme||"Tailwind3"===e.userInteractionBase.theme||"Tailwind3Dark"===e.userInteractionBase.theme?r.dashArray||"2.5":r.dashArray,l=e.crosshairBase.crosshair.highlightCategory&&0!==e.crosshairBase.crossHighlightWidth&&e.userInteractionBase.isInverted,h=e.crosshairBase.crosshair.highlightCategory&&0!==e.crosshairBase.crossHighlightWidth&&!e.userInteractionBase.isInverted;if(window.clearTimeout(e.crosshairBase.crosshairInterval),(!e.tooltipBase.tooltipModule.enable||sf.svgbase.withInAreaBounds(e.tooltipBase.valueX,e.tooltipBase.valueY,i))&&(e.crosshairBase.crosshairX=e.crosshairBase.crosshair.snapToData||e.crosshairBase.crosshair.highlightCategory?e.crosshairLocationX:e.tooltipBase.tooltipModule.enable&&!e.userInteractionBase.isInverted?e.tooltipBase.valueX:e.mouseX,e.crosshairBase.crosshairY=e.crosshairBase.crosshair.snapToData||e.crosshairBase.crosshair.highlightCategory?e.crosshairLocationY:e.tooltipBase.tooltipModule.enable&&e.userInteractionBase.isInverted?e.tooltipBase.valueY:e.mouseY,e.userInteractionBase.isFirstRendered?(n.setAttribute("opacity","1"),n.setAttribute("style","pointer-events:none"),e.userInteractionBase.isFirstRendered=!1):n.setAttribute("opacity","1"),"Both"!==r.lineType&&"Horizontal"!==r.lineType&&!e.userInteractionBase.axes[1].crosshairTooltip.enable||sf.base.isNullOrUndefined(e.crosshairBase.crosshairY)||(l&&(e.crosshairBase.crosshairY=this.adjustCrosshairPosition(e.crosshairBase.crosshairY,!0,e)),o+="M "+i.x+" "+e.crosshairBase.crosshairY+" L "+(i.x+i.width)+" "+e.crosshairBase.crosshairY),"Both"!==r.lineType&&"Vertical"!==r.lineType&&!e.userInteractionBase.axes[0].crosshairTooltip.enable||sf.base.isNullOrUndefined(e.crosshairBase.crosshairX)||(h&&(e.crosshairBase.crosshairX=this.adjustCrosshairPosition(e.crosshairBase.crosshairX,!1,e)),s+="M "+e.crosshairBase.crosshairX+" "+i.y+" L "+e.crosshairBase.crosshairX+" "+(i.y+i.height)),0!==n.childNodes.length)){var d=e.crosshairBase.crossHighlightWidth,c=r.line.color?this.crosshairLightenColor(r.line.color):e.crosshairBase.themeStyleCrosshairBackground,u=r.line.width,m=r.line.color||e.crosshairBase.themeStyleCrosshairLine;t=new sf.svgbase.PathOption("_HorizontalLine","none",l?d:u,l?c:m,null,l?null:a,o),this.renderCrosshairLine(t,n.childNodes[0]),t=new sf.svgbase.PathOption("_VerticalLine","none",h?d:u,h?c:m,null,h?null:a,s);var g={AxisInfo:[]};this.renderCrosshairLine(t,n.childNodes[3]),this.renderAxisTooltip(e,i,n.childNodes[6],g),e.tooltipBase.crosshairMouseMoveEventCalled&&e.dotnetref.invokeMethodAsync("OnCrosshairMove",g)}},adjustCrosshairPosition:function(e,t,i){return i.crosshairBase.leftOverflow>0&&(e+=t?-i.crosshairBase.leftOverflow/2:i.crosshairBase.leftOverflow/2),i.crosshairBase.rightOverflow>0&&(e+=t?i.crosshairBase.rightOverflow/2:-i.crosshairBase.rightOverflow/2),e},crosshairLightenColor:function(e){var t=this.convertHexToColor(this.colorNameToHex(e));return"rgb("+t.r+","+t.g+","+t.b+",0.25)"},findMousePoints:function(e){for(var t=this.getData(e),i=null,o=1/0,s=e.userInteractionBase.isInverted,r="x"==(s?"x":"y")?e.mouseX:e.mouseY,n=0,a=e.userInteractionBase.visibleSeries;n<a.length;n++){var l=a[n];if(l.visible&&"TrendLine"!==l.category){var h=this.getClosestX(e,l)||t;if(h&&h.point){var d=this.getSymbolLocation(h,e);if(!sf.base.isNullOrUndefined(d)){var c=s?d.x+e.userInteractionBase.axisClipRect.x:d.y+e.userInteractionBase.axisClipRect.y;if(e.crosshairBase.crosshair.snapToData||e.crosshairBase.crosshair.highlightCategory){var u=Math.abs(c-r);u<o&&(o=u,i=h)}}}}}(e.crosshairBase.crosshair.snapToData||e.crosshairBase.crosshair.highlightCategory)&&i&&(t=i,e.crosshairBase.crossHighlightWidth=0,e.crosshairBase.crosshair.highlightCategory&&"Category"===t.series.x_Axis.valueType&&(e.crosshairBase.crossHighlightWidth=this.calculateCrossHighlightWidth(e,t))),t&&t.point&&(t.point.r.length||t.point.s.length)&&(e.userInteractionBase.isInverted?"BoxAndWhisker"===t.series.type&&t.point.r.length?(e.crosshairLocationX=t.point.r[0].x+t.series.clipRect.x,e.crosshairLocationY=sf.base.isNullOrUndefined(e.tooltipBase.valueY)||0===e.tooltipBase.valueY?t.point.r[0].y+t.series.clipRect.y:e.tooltipBase.valueY):(e.crosshairLocationX=t.point.s[0].x+t.series.clipRect.x,e.crosshairLocationY=sf.base.isNullOrUndefined(e.tooltipBase.valueY)||0===e.tooltipBase.valueY?t.point.s[0].y+t.series.clipRect.y:e.tooltipBase.valueY,e.crosshairBase.crosshair.highlightCategory&&0!==e.crosshairBase.crossHighlightWidth&&(e.crosshairLocationY=this.calculateCrosshairCoordinate(t,!0))):"BoxAndWhisker"===t.series.type&&t.point.r.length?(e.crosshairLocationY=t.point.r[0].y+t.series.clipRect.y,e.crosshairLocationX=sf.base.isNullOrUndefined(e.tooltipBase.valueX)||0===e.tooltipBase.valueX?t.point.r[0].x+t.series.clipRect.x:e.tooltipBase.valueX):(e.crosshairLocationY=t.point.s[0].y+t.series.clipRect.y,e.crosshairLocationX=sf.base.isNullOrUndefined(e.tooltipBase.valueX)||0===e.tooltipBase.valueX?t.point.s[0].x+t.series.clipRect.x:e.tooltipBase.valueX,e.crosshairBase.crosshair.highlightCategory&&0!==e.crosshairBase.crossHighlightWidth&&(e.crosshairLocationX=this.calculateCrosshairCoordinate(t,!1))))},calculateCrossHighlightWidth:function(e,t){var i=t.series.x_Axis.visibleRange,o=e.userInteractionBase.axisClipRect,s=e.userInteractionBase.isInverted?o.height:o.width,r=s/i.delta,n=(t.point.xV-i.start)/(i.end-i.start);return e.crosshairBase.leftOverflow=Math.max(0,r/2-n*s),e.crosshairBase.rightOverflow=Math.max(0,n*s+r/2-s),Math.max(0,r-e.crosshairBase.leftOverflow-e.crosshairBase.rightOverflow)},calculateCrosshairCoordinate:function(e,t){var i=this.valueToCoefficient(e.point.xV,e.series.x_Axis);return t?(1-i)*e.series.x_Axis.rect.h+e.series.x_Axis.rect.y:i*e.series.x_Axis.rect.w+e.series.x_Axis.rect.x},renderAxisTooltip:function(e,t,i,o){var s,r,n,a,l,h,d,c={text:"",value:null};if(i)for(;i.firstChild;)i.removeChild(i.firstChild);for(var u=e.userInteractionBase.axes.length-1;u>=0;u--)if(d=(s=e.userInteractionBase.axes[parseInt(u.toString(),10)]).placeNextToAxisLine?s.updatedRect:s.rect,s.crosshairTooltip.enable&&(e.crosshairBase.crosshairX<=d.x+d.w&&d.x<=e.crosshairBase.crosshairX&&0!==d.w||e.crosshairBase.crosshairY<=d.y+d.h&&d.y<=e.crosshairBase.crosshairY&&0!==d.h)){if(n=document.getElementById(e.element.id+"_axis_tooltip_"+u),a=document.getElementById(e.element.id+"_axis_tooltip_text_"+u),!(c=this.getAxisText(e,s)).text)continue;sf.base.isNullOrUndefined(o)||o.AxisInfo.push({AxisName:s.name,AxisLabel:c.text,Value:c.value}),r=this.tooltipLocation(e,c.text,s,t,new sf.svgbase.Rect(d.x,d.y,d.w,d.h)),sf.base.isNullOrUndefined(n)&&(n=e.userInteractionBase.svgRenderer.drawPath({id:e.element.id+"_axis_tooltip_"+u,fill:s.crosshairTooltip.fill||e.crosshairBase.themeStyleCrosshairFill})),a&&this.removeElement(a.id),i.appendChild(n),l=new sf.svgbase.TextOption(e.element.id+"_axis_tooltip_text_"+u,0,0,"start",c.text);var m={size:s.crosshairTooltip.textStyle.size||e.crosshairBase.themeStyleCrosshairTextSize,color:s.crosshairTooltip.textStyle.color||e.crosshairBase.themeStyleCrosshairLabel,fontFamily:s.crosshairTooltip.textStyle.fontFamily||e.crosshairBase.themeStyleCrosshairFontFamily,fontStyle:s.crosshairTooltip.textStyle.fontStyle,fontWeight:s.crosshairTooltip.textStyle.fontWeight||e.crosshairBase.themeStyleCrosshairFontWeight,opacity:s.crosshairTooltip.textStyle.opacity};if(a=sf.svgbase.textElement(l,m,m.color,i),h=this.findCrosshairDirection(e.crosshairBase.rx,e.crosshairBase.ry,r,e.crosshairBase.arrowLocation,8,e.crosshairBase.isTop,e.crosshairBase.isBottom,e.crosshairBase.isLeft,e.crosshairBase.crosshairX,e.crosshairBase.crosshairY),n.setAttribute("d",h),a.textContent=c.text,a.setAttribute("x",(r.x+5+(e.userInteractionBase.enableRTL?e.crosshairBase.elementSize.width:0)).toString()),a.setAttribute("y",(r.y+5+3*e.crosshairBase.elementSize.height/4).toString()),"Fluent"===e.userInteractionBase.theme||"FluentDark"===e.userInteractionBase.theme||"Fabric"===e.userInteractionBase.theme||"Fluent2HighContrast"===e.userInteractionBase.theme){var g="Fluent2HighContrast"===e.userInteractionBase.theme?"#FFFFFF":"#cccccc",p="Fluent2HighContrast"===e.userInteractionBase.theme?"1":"0.5";n.setAttribute("stroke",g),n.setAttribute("stroke-width",p)}else if(e.userInteractionBase.theme.indexOf("Fluent2")>-1){var f=e.element.id+"_shadow";n.setAttribute("box-shadow","0px 1.6px 3.6px 0px #00000021, 0px 0.3px 0.9px 0px #0000001A"),n.setAttribute("filter","url(#"+f+")");var b='<filter id="'+f+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';b+='<feOffset dx="-1" dy="3.6" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.2"/>',b+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';var v=e.userInteractionBase.svgRenderer.createDefs();v.setAttribute("id",e.element.id+"SVG_tooltip_definition"),n.appendChild(v),v.innerHTML=b}}},getAxisText:function(e,t){var i,o={text:"",value:null};e.crosshairBase.isBottom=!1,e.crosshairBase.isTop=!1,e.crosshairBase.isLeft=!1,e.crosshairBase.isRight=!1;var s="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0,r=t.isAxisOppositePosition;if("Horizontal"===t.orientation?(i=this.getValueByPoint(Math.abs(e.crosshairBase.crosshairX-t.rect.x),t.rect.w,t.orientation,t.visibleRange,t.isAxisInverse)+s,e.crosshairBase.isBottom=!r,e.crosshairBase.isTop=r):(i=this.getValueByPoint(Math.abs(e.crosshairBase.crosshairY-t.rect.y),t.rect.h,t.orientation,t.visibleRange,t.isAxisInverse)+s,e.crosshairBase.isRight=r,e.crosshairBase.isLeft=!r),"DateTime"===t.valueType){var n=(new sf.base.Internationalization).getDateFormat({format:t.format?t.format:t.dateFormat,type:this.firstToLowerCase("DateTime")})(this.convertDateAndTime(new Date(i)));return o.text=this.getGlobalizedDate(n,e.dateValuePairs),o.value=new Date(i),o}if("Category"===t.valueType)return o.text=i<t.labels.length?t.labels[Math.floor(i)]:"",o.value=Math.floor(i),o;if("DateTimeCategory"===t.valueType)return o.text=this.getIndexedAxisLabel(t.labels[Math.round(i)],this.customFormat(t,e),e.dateValuePairs),o.value=Math.floor(i),o;if("Logarithmic"===t.valueType){var a=this.formatAxisValue(Math.pow(t.logBase,i),this.getaxisFormat(t).indexOf("{value}")>-1,t.labelFormat,void 0,e);return o.text=this.getGlobalizedNumber(a,e.numberValuePairs),o.value=Number(Math.pow(t.logBase,i)),o}var l=t.labelFormat&&null!==t.labelFormat.match("{value}");a=l?t.labelFormat.replace("{value}",this.formatAxisValue(i,l,t.labelFormat,3,e)):this.formatAxisValue(i,l,t.labelFormat,3,e);return o.text=this.getGlobalizedNumber(a,e.numberValuePairs),o.value=i,o},convertDateAndTime:function(e){return new Date(e.getTime()+60*e.getTimezoneOffset()*1e3)},getGlobalizedDate:function(e,t){return Object.keys(t).forEach((function(i){e=e.replaceAll?e.replaceAll(i,t[""+i]):e.replace(i,t[""+i])})),e},getGlobalizedNumber:function(e,t){for(var i=e.split(""),o=Object.keys(t),s=0,r=e.length;s<r;s++)for(var n=0,a=o.length-1;n<a;n++)if(i[parseInt(s.toString(),10)]===o[parseInt(n.toString(),10)]){i.splice(s,1,t[o[parseInt(n.toString(),10)]]);break}return i.join("")},firstToLowerCase:function(e){return e.substring(0,1).toLowerCase()+e.substring(1)},getaxisFormat:function(e){return e.labelFormat?0!==e.labelFormat.indexOf("p")||e.labelFormat.indexOf("{value}")>-1||!e.isStack100?e.labelFormat:"{value}%":e.isStack100?"{value}%":""},getIndexedAxisLabel:function(e,t,i){for(var o=e.split(","),s=0;s<o.length;s++)o[parseInt(s.toString(),10)]=this.getGlobalizedDate((new sf.base.Internationalization).getDateFormat({format:t})(this.convertDateAndTime(new Date(parseInt(o[parseInt(s.toString(),10)],10)))),i);return o.join(", ")},customFormat:function(e,t){return e.labelFormat?e.labelFormat:"Years"===e.actualIntervalType?"yyyy":this.getSkeleton(e,t)},getSkeleton:function(e,t){var i=e.rangeIntervalType;return(e.format?e.format:e.dateFormat)?e.format:"Years"===i||"Quarter"===i?"y":"Months"===i||"Weeks"===i?t.userInteractionBase.isStockChart&&"DateTimeCategory"===e.valueType?"MMM d":"MMMM d":"Days"===i?"MM/dd/yyyy":"Hours"===i?"HH:mm tt":"HH:mm:ss tt"},tooltipLocation:function(e,t,i,o,s){var r,n=o.x,l=o.y,h="Inside"===i.labelPosition,d=i.scrollbarSettingsEnable?i.scrollBarHeight:0,c=i.crosshairTooltip.textStyle;c.size=c.size||e.crosshairBase.themeStyleCrosshairTextSize,c.fontFamily=c.fontFamily||e.crosshairBase.themeStyleCrosshairFontFamily,c.fontWeight=c.fontWeight||e.crosshairBase.themeStyleCrosshairFontWeight,e.crosshairBase.elementSize=sf.svgbase.measureText(t,c);var u=i.isAxisOppositePosition;if("Horizontal"===i.orientation){var m=h?s.y-e.crosshairBase.elementSize.height-20:s.y+d,g=h?s.y-e.crosshairBase.elementSize.height-10:s.y+10;e.crosshairBase.arrowLocation=new a(e.crosshairBase.crosshairX,m),r=new sf.svgbase.Rect(e.crosshairBase.crosshairX-e.crosshairBase.elementSize.width/2-5,g+(h?0:d),e.crosshairBase.elementSize.width+10,e.crosshairBase.elementSize.height+10),u&&(r.y=h?s.y:s.y-(e.crosshairBase.elementSize.height+20)-d),r.x<n&&(r.x=n),r.x+r.width>n+o.width&&(r.x-=r.x+r.width-(n+o.width)),e.crosshairBase.arrowLocation.x+4>r.x+r.width-e.crosshairBase.rx&&(e.crosshairBase.arrowLocation.x=r.x+r.width-e.crosshairBase.rx-8),e.crosshairBase.arrowLocation.x-8<r.x+e.crosshairBase.rx&&(e.crosshairBase.arrowLocation.x=r.x+e.crosshairBase.rx+8)}else{d*=u?1:-1,e.crosshairBase.arrowLocation=new a(s.x,e.crosshairBase.crosshairY);var p=h?s.x-d:s.x-e.crosshairBase.elementSize.width-20;r=new sf.svgbase.Rect(p+d,e.crosshairBase.crosshairY-e.crosshairBase.elementSize.height/2-5,e.crosshairBase.elementSize.width+10,e.crosshairBase.elementSize.height+10),u?(r.x=h?s.x-e.crosshairBase.elementSize.width-8:s.x+8+d,r.x+r.width>e.userInteractionBase.availableSize.width&&(e.crosshairBase.arrowLocation.x-=r.x+r.width-e.userInteractionBase.availableSize.width,r.x-=r.x+r.width-e.userInteractionBase.availableSize.width)):r.x<0&&(e.crosshairBase.arrowLocation.x-=r.x,r.x=0),r.y<l&&(r.y=l),r.y+r.height>=l+o.height&&(r.y-=r.y+r.height-(l+o.height)),e.crosshairBase.arrowLocation.y+4>r.y+r.height-e.crosshairBase.ry&&(e.crosshairBase.arrowLocation.y=r.y+r.height-e.crosshairBase.ry-4),e.crosshairBase.arrowLocation.y-4<r.y+e.crosshairBase.ry&&(e.crosshairBase.arrowLocation.y=r.y+e.crosshairBase.ry+4)}return r},findCrosshairDirection:function(e,t,i,o,s,r,n,a,l,h){var d="",c=i.x,u=i.y,m=i.x+i.width,g=i.y+i.height;return r?(d=(d=(d=d.concat("M "+c+" "+(u+t)+" Q "+c+" "+u+" "+(c+e)+" "+u)).concat(" L "+(m-e)+" "+u+" Q "+m+" "+u+" "+m+" "+(u+t))).concat(" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g),0!==s&&(d=(d=d.concat(" L "+(o.x+s/2)+" "+g)).concat(" L "+l+" "+(g+s)+" L "+(o.x-s/2)+" "+g)),d=o.x-s/2>c||0===s?d.concat(" L "+(c+e)+" "+g+" Q "+c+" "+g+" "+c+" "+(g-t)+" z"):d.concat(" L "+c+" "+(g+t)+" z")):d=n?(d=(d=(d=(d=(d=d.concat("M "+c+" "+(u+t)+" Q "+c+" "+u+" "+(c+e)+" "+u+" L "+(o.x-s/2)+" "+u)).concat(" L "+l+" "+o.y)).concat(" L "+(o.x+s/2)+" "+u)).concat(" L "+(m-e)+" "+u+" Q "+m+" "+u+" "+m+" "+(u+t))).concat(" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g)).concat(" L "+(c+e)+" "+g+" Q "+c+" "+g+" "+c+" "+(g-t)+" z"):a?(d=(d=(d=(d=(d=d.concat("M "+c+" "+(u+t)+" Q "+c+" "+u+" "+(c+e)+" "+u)).concat(" L "+(m-e)+" "+u+" Q "+m+" "+u+" "+m+" "+(u+t)+" L "+m+" "+(o.y-s/2))).concat(" L "+(m+s)+" "+h)).concat(" L "+m+" "+(o.y+s/2))).concat(" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g)).concat(" L "+(c+e)+" "+g+" Q "+c+" "+g+" "+c+" "+(g-t)+" z"):(d=(d=(d=(d=(d=d.concat("M "+(c+e)+" "+u+" Q "+c+" "+u+" "+c+" "+(u+t)+" L "+c+" "+(o.y-s/2))).concat(" L "+(c-s)+" "+h)).concat(" L "+c+" "+(o.y+s/2))).concat(" L "+c+" "+(g-t)+" Q "+c+" "+g+" "+(c+e)+" "+g)).concat(" L "+(m-e)+" "+g+" Q "+m+" "+g+" "+m+" "+(g-t))).concat(" L "+m+" "+(u+t)+" Q "+m+" "+u+" "+(m-e)+" "+u+" z"),d},renderCrosshairLine:function(e,t){for(var i=Object.keys(e),o="",s=0;s<i.length;s++)"id"!==(o="strokeWidth"===i[parseInt(s.toString(),10)]?"stroke-width":"strokeDashArray"===i[parseInt(s.toString(),10)]?"stroke-dashArray":"direction"===i[parseInt(s.toString(),10)]?"d":i[parseInt(s.toString(),10)])&&t.setAttribute(o,e[i[parseInt(s.toString(),10)]])},isSelected:function(){return!1},getTooltipElement:function(e){e.tooltipBase.header=sf.base.isNullOrUndefined(e.tooltipBase.tooltipModule.header)?e.tooltipBase.tooltipModule.shared?"${point.x}":"${series.name}":e.getTooltipFormat(e.tooltipBase.tooltipModule.header),e.tooltipBase.formattedText=[]},findData:function(e,t,i){return e.point&&(!t||t.point!==e.point||t.lierIndex>3&&t.lierIndex!==i||t.point===e.point)},renderSeriesTooltip:function(e,t){var i=this.getData(t),o=null,s=1/0;if(i.lierIndex=t.userInteractionBase.lierIndex,t.tooltipBase.currentPoints=[],this.findData(i,t.tooltipBase.previousPoints.length>0?t.tooltipBase.previousPoints[0]:null,t.userInteractionBase.lierIndex)){if(window.clearTimeout(t.tooltipBase.toolTipInterval),!i.series.dataEditSettings&&t.tooltipBase.previousPoints[0]&&i.point.iX===t.tooltipBase.previousPoints[0].point.iX&&i.series.index===t.tooltipBase.previousPoints[0].series.index)return t.tooltipBase.isRemove=!0,null;this.pushData(i,t)?this.triggerTooltipRender(i,e,this.getTooltipText(i,t),this.findHeader(i,t),t):this.removeTooltip(t.tooltipBase.tooltipModule.fadeOutDuration,t)}else{var r=sf.svgbase.withInAreaBounds(t.mouseX,t.mouseY,t.userInteractionBase.axisClipRect);if(i.point||!t.tooltipBase.isRemove||t.tooltipBase.tooltipModule.showNearestTooltip&&r){for(var n=0,a=t.userInteractionBase.visibleSeries;n<a.length;n++){var l=a[n];if(l.visible&&"TrendLine"!==l.category&&(i=this.getClosestX(t,l)||i,t.tooltipBase.tooltipModule.showNearestTooltip&&r&&l.showNearestTooltip&&i&&i.point&&l.enableTooltip&&i.point.s[0])){var h=this.getNearestDistance(i,l,t,s);h<s&&(s=h,o=i)}}o&&this.pushData(o,t)&&(i=o,this.triggerTooltipRender(i,e,this.getTooltipText(i,t),this.findHeader(i,t),t))}else this.removeTooltip(t.tooltipBase.tooltipModule.fadeOutDuration,t),t.tooltipBase.isRemove=!1}i&&i.point&&(i.point.r.length||i.point.s.length)&&this.findMouseValue(i,t)},getNearestDistance:function(e,t,i,o){var s=this.getSymbolLocation(e,i);if(s){var r=this.getTooltipClosestDistance(s.x,s.y,i);if("BoxAndWhisker"===t.type&&e.point.r&&e.point.r[0]){var n=e.point.r[0];this.getTooltipClosestDistance(n.x,n.y,i)<r&&(i.userInteractionBase.lierIndex=1)}return r}return o},getTooltipClosestDistance:function(e,t,i){var o=i.userInteractionBase.axisClipRect;return Math.sqrt(Math.pow(e+o.x-i.mouseX,2)+Math.pow(t+o.y-i.mouseY,2))},triggerTooltipRender:function(e,t,i,o,s){s.tooltipBase.argsData={data:{pointX:sf.base.isNullOrUndefined(e.point.x)?"":e.point.x.toString(),pointY:sf.base.isNullOrUndefined(e.point.y)?"":e.point.y.toString(),seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.iX,pointText:e.point.t},headerText:o,point:e.point,series:{},text:i},s.tooltipBase.tooltipEventCalled?s.dotnetref.invokeMethodAsync("TooltipEventTriggered",s.tooltipBase.argsData):this.seriesTooltip(s,e,t)},seriesTooltip:function(e,t,i){var o=[];if(sf.base.isNullOrUndefined(t))this.removeHighlight(e);else{"BoxAndWhisker"===t.series.type&&(i=!0),e.tooltipBase.header=e.tooltipBase.argsData.headerText,e.tooltipBase.formattedText=e.tooltipBase.formattedText.concat(e.tooltipBase.argsData.text);var s=new a(t.series.clipRect.x,t.series.clipRect.y);if(!sf.base.isNullOrUndefined(e.tooltipBase.tooltipModule.template)&&e.tooltipBase.currentPoints.length>0){e.tooltipBase.tooltipTempList=[];var r=t.point,n={x:sf.base.isNullOrUndefined(r.x)?"":this.formatPointValue(r,"x",!0,!1,t.series,e.userInteractionBase.isStockChart,e),y:sf.base.isNullOrUndefined(r.y)?"":this.formatPointValue(r,"y",!1,!0,t.series,e.userInteractionBase.isStockChart,e),text:r.tT.toString(),high:sf.base.isNullOrUndefined(r.h)?"":this.formatPointValue(r,"h",!1,!0,t.series,e.userInteractionBase.isStockChart,e),low:sf.base.isNullOrUndefined(r.l)?"":this.formatPointValue(r,"l",!1,!0,t.series,e.userInteractionBase.isStockChart,e),open:sf.base.isNullOrUndefined(r.o)?"":this.formatPointValue(r,"o",!1,!0,t.series,e.userInteractionBase.isStockChart,e),close:sf.base.isNullOrUndefined(r.c)?"":this.formatPointValue(r,"c",!1,!0,t.series,e.userInteractionBase.isStockChart,e),volume:sf.base.isNullOrUndefined(r.v)?"":this.formatPointValue(r,"v",!1,!0,t.series,e.userInteractionBase.isStockChart,e),pointX:r.x?r.x.toString():"",pointY:r.y?r.y.toString():"",seriesIndex:t.series.index,seriesName:t.series.name,pointIndex:t.point.iX,pointText:t.point.t};e.tooltipBase.tooltipTempList.push(n);var l=this.getSymbolLocation(t,e),h=this.isRectSeries(t.series.type)&&"Waterfall"!==t.series.type&&t.point&&parseInt(r.y?r.y.toString():"",10)<0,d=e.userInteractionBase.isInverted&&h,c=this.getTemplateLocation(e.userInteractionBase.axisClipRect,l,e.tooltipBase.tooltipElementSize.width,e.tooltipBase.tooltipElementSize.height,this.findMarkerHeight(e.tooltipBase.currentPoints[0],e),s,d,h),u=40;c.x=c.x>e.userInteractionBase.axisClipRect.width?e.userInteractionBase.axisClipRect.width-u:c.x,e.dotnetref.invokeMethodAsync("SetTooltipTemplateElementSizeAsync",c.x,c.y,e.tooltipBase.tooltipTempList),this.isHighlightRemoved=!1,this.removeHighlight(e),this.highlightPoints(e),this.updatePreviousPoint(e,o)}else{var m=e.userInteractionBase.chartBorderWidth;u=3;this.createTooltipRenderer(e,i,this.getSymbolLocation(t,e),s,t.point,this.findShapes(e),this.findMarkerHeight(e.tooltipBase.currentPoints[0],e),new sf.svgbase.Rect(m,m,e.userInteractionBase.availableSize.width-u-2*m,e.userInteractionBase.availableSize.height-u-2*m),e.crosshairBase.crosshair&&e.crosshairBase.crosshair.enable,o,null,"")}}e.tooltipBase.isRemove=!0},groupedTooltip:function(e,t,i,o){var s=t[t.length-1];if(!sf.base.isNullOrUndefined(o)&&e.tooltipBase.currentPoints.length>0){var r=[];e.tooltipBase.header=e.tooltipBase.sharedArgsData.headerText,e.tooltipBase.formattedText=e.tooltipBase.sharedArgsData.text,this.findMouseValue(o,e);var n=1===e.tooltipBase.currentPoints.length?new a(e.tooltipBase.currentPoints[0].series.clipRect.x,e.tooltipBase.currentPoints[0].series.clipRect.y):new a(0,0);if(!sf.base.isNullOrUndefined(e.tooltipBase.tooltipModule.template)&&e.tooltipBase.currentPoints.length>0){e.tooltipBase.tooltipTempList=[];for(var l=0;l<t.length;l++){var h=t[parseInt(l.toString(),10)].point,d={x:sf.base.isNullOrUndefined(h.x)?"":this.formatPointValue(h,"x",!0,!1,t[parseInt(l.toString(),10)].series,e.userInteractionBase.isStockChart,e),y:sf.base.isNullOrUndefined(h.y)?"":this.formatPointValue(h,"y",!1,!0,t[parseInt(l.toString(),10)].series,e.userInteractionBase.isStockChart,e),text:h.t.toString(),high:sf.base.isNullOrUndefined(h.h)?"":this.formatPointValue(h,"h",!1,!0,t[parseInt(l.toString(),10)].series,e.userInteractionBase.isStockChart,e),low:sf.base.isNullOrUndefined(h.l)?"":this.formatPointValue(h,"l",!1,!0,t[parseInt(l.toString(),10)].series,e.userInteractionBase.isStockChart,e),open:sf.base.isNullOrUndefined(h.o)?"":this.formatPointValue(h,"o",!1,!0,t[parseInt(l.toString(),10)].series,e.userInteractionBase.isStockChart,e),close:sf.base.isNullOrUndefined(h.c)?"":this.formatPointValue(h,"c",!1,!0,t[parseInt(l.toString(),10)].series,e.userInteractionBase.isStockChart,e),volume:sf.base.isNullOrUndefined(h.v)?"":this.formatPointValue(h,"v",!1,!0,t[parseInt(l.toString(),10)].series,e.userInteractionBase.isStockChart,e),pointX:h.x?h.x.toString():"",pointY:h.y?h.y.toString():"",seriesIndex:t[parseInt(l.toString(),10)].series.index,seriesName:t[parseInt(l.toString(),10)].series.name,pointIndex:t[parseInt(l.toString(),10)].point.iX,pointText:t[parseInt(l.toString(),10)].point.t};e.tooltipBase.tooltipTempList.push(d)}var c=this.findSharedLocation(e),u=e.tooltipBase.currentPoints[0].series,m=this.isRectSeries(u.type)&&"Waterfall"!==u.type&&s.point&&parseInt(s.point.y?s.point.y.toString():"",10)<0,g=e.userInteractionBase.isInverted&&m,p=this.getTemplateLocation(e.userInteractionBase.axisClipRect,c,0,0,this.findMarkerHeight(e.tooltipBase.currentPoints[0],e),n,g,m);e.dotnetref.invokeMethodAsync("SetTooltipTemplateElementSizeAsync",p.x,p.y,e.tooltipBase.tooltipTempList),this.setTooltipTemplateElementSize(e,c,n,g,m),this.removeHighlight(e),this.highlightPoints(e),this.updatePreviousPoint(e,r)}else{var f=e.userInteractionBase.chartBorderWidth;this.createTooltipRenderer(e,i,this.findSharedLocation(e),n,o.point,this.findShapes(e),this.findMarkerHeight(e.tooltipBase.currentPoints[0],e),new sf.svgbase.Rect(f,f,e.userInteractionBase.availableSize.width-3-2*f,e.userInteractionBase.availableSize.height-3-2*f),e.crosshairBase.crosshair&&e.crosshairBase.crosshair.enable,r,null,"")}}e.tooltipBase.isSharedRemove=!0},setTooltipTemplateElementSize:function(e,t,i,o,s){var r=this.getTemplateSize(e.element.id+"_tooltip");if(r&&e.tooltipBase.currentPoints.length>0){var n=this.getTemplateLocation(e.userInteractionBase.axisClipRect,t,r.width,r.height,this.findMarkerHeight(e.tooltipBase.currentPoints[0],e),i,o,s);n.x+=e.userInteractionBase.secondaryElementOffset.left,n.y+=e.userInteractionBase.secondaryElementOffset.top;var a=document.getElementById(e.element.id+"_tooltip"),l=r.width+10,h=n.x+10;0===r.width&&t.x+10>e.userInteractionBase.axisClipRect.x+e.userInteractionBase.axisClipRect.width&&(n.x=e.userInteractionBase.axisClipRect.x+h-(l+20)),a.setAttribute("style","top:"+n.y.toString()+"px;left:"+n.x.toString()+"px;pointer-events:none; position:absolute;z-index: 1;visibility: visible;")}},isPointInRect:function(e,t,i,o,s,r){for(var n,a=0;a<e.length;a++){var l=e[parseInt(a.toString(),10)];sf.svgbase.withInAreaBounds(l.x+t.x,l.y+t.y,t,o,s)?n=!0:r&&(l.x<0||l.y<0)?n||(n=l.x<0?l.x+i[parseInt(a.toString(),10)].w>0:l.y+i[parseInt(a.toString(),10)].h>0):n=!1}return n},pushData:function(e,t){if(e.series.enableTooltip){var i=e.point.mK&&e.point.mK.mW?e.point.mK.mW:e.series.marker.mW,o=e.point.mK&&e.point.mK.mH?e.point.mK.mH:e.series.marker.mH;return!("CartesianAxes"===t.userInteractionBase.chartAreaType&&e.point.s.length>0&&!this.isPointInRect(e.point.s,t.userInteractionBase.axisClipRect,e.point.r,i,o,t.userInteractionBase.isStockChart))&&(sf.base.isNullOrUndefined(t)||t.tooltipBase.currentPoints.push(e),!0)}return!1},renderGroupedTooltip:function(e,t){var i,o,s=this,r="PolarAxes"===t.userInteractionBase.chartAreaType?this.getData(t):null;this.stopAnimation(t.tooltipBase.toolTipInterval),t.tooltipBase.currentPoints=[];for(var n,a,l=[],h=[],d=[],c=0;c<t.userInteractionBase.visibleSeries.length;c++){var u=t.userInteractionBase.visibleSeries[parseInt(c.toString(),10)];u.enableTooltip&&u.visible&&0!==u.points.length&&("CartesianAxes"===t.userInteractionBase.chartAreaType&&u.visible&&u.points.length>0?i=this.getClosestX(t,u):"PolarAxes"===t.userInteractionBase.chartAreaType&&u.visible&&!sf.base.isNullOrUndefined(r.point)&&(i={point:u.points[r.point.iX],series:u}),!sf.base.isNullOrUndefined(i)&&i.point&&l.push(i))}if(0!==l.length){l=this.getSharedPoints(t,l),l=this.sortPointsInfo(l);var m,g,p=Number.MAX_VALUE;l.forEach((function(e){a={pointX:sf.base.isNullOrUndefined(e.point.x)?"":e.point.x.toString(),pointY:sf.base.isNullOrUndefined(e.point.y)?"":e.point.y.toString(),seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.iX,pointText:e.point.t},d.push(a),n=s.findHeader(e,t),t.tooltipBase.currentPoints.push(e),h.push(s.getTooltipText(e,t)),m=t.userInteractionBase.isInverted?t.mouseY-e.series.clipRect.y:t.mouseX-e.series.clipRect.x;var i=document.querySelector("[id*='IndicatorGroup']");if(e.point.s.length&&Math.abs(m-e.point.s[0].x)<p){if(!sf.base.isNullOrUndefined(i)&&m<e.point.s[0].x&&!t.isChartKeyDown)return;p=Math.abs(m-e.point.s[0].x),g=e}o=t.tooltipBase.lastData="TrendLine"===e.series.category&&t.tooltipBase.tooltipModule.shared?o:g||o})),t.userInteractionBase.isStockChart&&h.push(""),t.tooltipBase.sharedArgsData={headerText:n,text:h,data:d},o&&o.series&&this.isSeriesAxisZoomed(o.series)&&(!o.point||!o.point.s||0===o.point.s.length||o.point.s[0].x<0||o.point.s[0].x>t.userInteractionBase.axisClipRect.width)||(t.tooltipBase.sharedTooltipEventCalled?(t.dotnetref.invokeMethodAsync("SharedTooltipEventTriggered",t.tooltipBase.sharedArgsData),this.findMouseValue(o,t)):this.groupedTooltip(t,l,e,o))}else t.tooltipBase.previousPoints.length>0&&this.removeTooltip(t.tooltipBase.tooltipModule.fadeOutDuration,t)},createTooltipRenderer:function(e,t,i,o,s,r,n,l,h,d,c,u){var m,g=e.tooltipBase.currentPoints[0].series,p=this.isRectSeries(g.type);t&&!sf.base.isNullOrUndefined(i)&&(m=new sf.svgbase.Tooltip({opacity:e.tooltipBase.tooltipModule.opacity?e.tooltipBase.tooltipModule.opacity:e.userInteractionBase.theme.indexOf("Material3")>-1||e.userInteractionBase.theme.indexOf("Bootstrap5")>-1?1:.75,header:e.tooltipBase.header,content:e.tooltipBase.formattedText,fill:e.tooltipBase.tooltipModule.fill,border:e.tooltipBase.tooltipModule.border,enableAnimation:e.tooltipBase.tooltipModule.enableAnimation,location:sf.base.isNullOrUndefined(i)?null:new a((i.x>l.width?e.userInteractionBase.axisClipRect.width:i.x)+e.userInteractionBase.secondaryElementOffset.left,e.userInteractionBase.isStockChart?i.y:i.y+e.userInteractionBase.secondaryElementOffset.top),shared:e.tooltipBase.tooltipModule.shared,crosshair:h,shapes:r,clipBounds:"PolarAxes"===e.userInteractionBase.chartAreaType?new a(0,0):o,areaBounds:new sf.svgbase.Rect(l.x+e.userInteractionBase.secondaryElementOffset.left,l.y+(e&&e.userInteractionBase.isStockChart?e.tooltipBase.seriesTooltipTop:0)+(e.userInteractionBase.isStockChart?0:e.userInteractionBase.secondaryElementOffset.top),l.width,l.height),palette:this.findPalette(e),controlName:"Chart",controlInstance:e,template:u||e.tooltipBase.tooltipModule.template,data:c,theme:e.userInteractionBase.theme,offset:n,textStyle:e.tooltipBase.tooltipModule.textStyle,isNegative:!!(p&&"Waterfall"!==g.type&&s&&s.y)&&("BoxPlot"!==g.seriesType&&Number(s.y)<0),inverted:e.userInteractionBase.isInverted&&p,arrowPadding:e.tooltipBase.formattedText.length>1?0:7,availableSize:e.userInteractionBase.availableSize,duration:e.tooltipBase.tooltipDuration,isCanvas:!1,rx:4,ry:4,isTextWrap:e.tooltipBase.tooltipModule.enableTextWrap,enableRTL:e.userInteractionBase.enableRTL,showHeaderLine:e.tooltipBase.tooltipModule.showHeaderLine,showNearestTooltip:e.tooltipBase.tooltipModule.showNearestTooltip})),sf.base.isNullOrUndefined(m)||(this.isHighlightRemoved=!1,this.removeHighlight(e),this.highlightPoints(e),this.updatePreviousPoint(e,d),this.renderTooltip(m,e.element.id+"_tooltip",e))},tooltip:function(e){this.getTooltipElement(e),sf.base.isNullOrUndefined(e.userInteractionBase.visibleSeries)||(e.tooltipBase.tooltipModule.shared?this.renderGroupedTooltip(!0,e):this.renderSeriesTooltip(!0,e))},getData:function(e){var t,i,o,s,r=null,n=null;if(!sf.base.isNullOrUndefined(e.userInteractionBase.visibleSeries)){for(var a=!1,l=0;l<e.userInteractionBase.visibleSeries.length;l++)if("StackingArea"===e.userInteractionBase.visibleSeries[parseInt(l.toString(),10)].type||"StackingArea100"===e.userInteractionBase.visibleSeries[parseInt(l.toString(),10)].type){a=!0;break}if(a){var h=e.userInteractionBase.visibleSeries.length;for(l=0;l<h;l++){if(t="Scatter"===(n=e.userInteractionBase.visibleSeries[parseInt(l.toString(),10)]).type||"Scatter"===n.drawType||n.marker&&n.marker.vS?(n.marker.mH+5)/2:0,i="Scatter"===n.type||"Scatter"===n.drawType||n.marker&&n.marker.vS?(n.marker.mW+5)/2:0,o=e.mouseX,s=e.mouseY,n.dataEditSettings&&this.isRectSeries(n.seriesType))if("Bar"===n.type&&n.chartIsTransposed||!n.chartIsTransposed&&"Bar"!==n.type){var d=n.marker.mH/2;s=n.y_Axis.isAxisInverse?s-d:s+d}else{var c=n.marker.mW/2;o=n.y_Axis.isAxisInverse?o+c:o-c}if(n.visible&&!sf.base.isNullOrUndefined(n.clipRect)&&sf.svgbase.withInAreaBounds(o,s,new sf.svgbase.Rect(n.clipRect.x,n.clipRect.y,n.clipRect.w,n.clipRect.h),t,i)&&(r=this.getRectPoint(n,n.clipRect,o,s,e)),r)return{point:r,series:n}}}else for(l=(h=e.userInteractionBase.visibleSeries.length)-1;l>=0;l--){if(t="Scatter"===(n=e.userInteractionBase.visibleSeries[parseInt(l.toString(),10)]).type||"Scatter"===n.drawType||n.marker&&n.marker.vS?(n.marker.mH+5)/2:0,i="Scatter"===n.type||"Scatter"===n.drawType||n.marker&&n.marker.vS?(n.marker.mW+5)/2:0,o=e.mouseX,s=e.mouseY,n.dataEditSettings&&this.isRectSeries(n.seriesType))if("Bar"===n.type&&n.chartIsTransposed||!n.chartIsTransposed&&"Bar"!==n.type){d=n.marker.mH/2;s=n.y_Axis.isAxisInverse?s-d:s+d}else{c=n.marker.mW/2;o=n.y_Axis.isAxisInverse?o+c:o-c}if(n.visible&&!sf.base.isNullOrUndefined(n.clipRect)&&sf.svgbase.withInAreaBounds(o,s,new sf.svgbase.Rect(n.clipRect.x-(n.chartIsTransposed?0:n.x_Axis.plotOffset/2),n.clipRect.y-(n.chartIsTransposed?n.x_Axis.plotOffset/2:0),n.clipRect.w,n.clipRect.h),t,i)&&(r=this.getRectPoint(n,n.clipRect,o,s,e)),r)return{point:r,series:n}}}return{point:r,series:n}},getRectPoint:function(e,t,i,o,s){for(var r,n,a,l,h,d,c=0,u=this.isRectSeries(e.seriesType),m=0,g=e.points;m<g.length;m++){var p=g[m];if(p.rD||p.r&&p.r.length){if(p.rD&&"PolarAxes"===s.userInteractionBase.chartAreaType&&e.drawType.indexOf("Column")>-1&&(r=i-(e.clipRect.w/2+e.clipRect.x),n=o-(e.clipRect.h/2+e.clipRect.y),c=2*Math.PI*(p.rD.cP<0?1+p.rD.cP:p.rD.cP),a=(a=(Math.atan2(n,r)+.5*Math.PI-c)%(2*Math.PI))<0?2*Math.PI+a:a,a+=2*Math.PI*e.x_Axis.startAngle,l=p.rD.sA,l=(l-=c)<0?2*Math.PI+l:l,h=p.rD.eA,h=(h-=c)<0?2*Math.PI+h:h,d=Math.sqrt(Math.pow(Math.abs(r),2)+Math.pow(Math.abs(n),2)),a>=l&&a<=h&&(d>=p.rD.iR&&d<=p.rD.r||d<=p.rD.iR&&d>=p.rD.r)&&d<=s.userInteractionBase.chartRadius))return p;if(e.dataEditSettings&&u&&this.rectRegion(i,o,p,t,e,s))return p;if(this.checkRegionContainsPoint(p.r,t,i,o,s))return p}}return null},rectRegion:function(e,t,i,o,s,r){var n,a="Bar"===s.type,l=s.y_Axis.isAxisInverse,h=s.chartIsTransposed,d=0,c=0,u=n=20;return l&&h?a?(d=i.r[0].h-10,n=i.r[0].w):(c=-10,u=i.r[0].h):l||i.yV<0?a?(c=-10,u=i.r[0].h):(d=i.r[0].h-10,n=i.r[0].w):h?a?(d=-10,n=i.r[0].w):(c=i.r[0].w-10,u=i.r[0].h):a?(c=i.r[0].w-10,u=i.r[0].h):(d=-10,n=i.r[0].w),i.r.some((function(i){return sf.svgbase.withInAreaBounds(e,t,new sf.svgbase.Rect(("CartesianAxes"===r.userInteractionBase.chartAreaType?o.x:0)+i.x+c,("CartesianAxes"===r.userInteractionBase.chartAreaType?o.y:0)+i.y+d,n,u))}))},checkRegionContainsPoint:function(e,t,i,o,s){return e.some((function(e,r){return s.userInteractionBase.lierIndex=r,sf.svgbase.withInAreaBounds(i,o,new sf.svgbase.Rect(("CartesianAxes"===s.userInteractionBase.chartAreaType?t.x:0)+e.x,("CartesianAxes"===s.userInteractionBase.chartAreaType?t.y:0)+e.y,e.w,e.h))}))},getClosestX:function(e,t){if(sf.base.isNullOrUndefined(t))return null;var i=t.clipRect;if(i&&e.mouseX<=i.x+i.w&&e.mouseX>=i.x){var o=this.getPointValue(e,t),s=this.getClosest(t,o);return!sf.base.isNullOrUndefined(s)&&sf.base.isNullOrUndefined(s.y)&&"BollingerBand"===t.name?null:{point:s,series:t}}return null},getPointValue:function(e,t){if(!sf.base.isNullOrUndefined(t)&&!sf.base.isNullOrUndefined(t.clipRect)){var i=e.userInteractionBase.isInverted?e.mouseY-t.clipRect.y:e.mouseX-t.clipRect.x,o=e.userInteractionBase.isInverted?t.clipRect.h:t.clipRect.w;return this.getValueByPoint(i,o,t.x_Axis.orientation,t.x_Axis.visibleRange,t.x_Axis.isAxisInverse)}return 0},getValueByPoint:function(e,t,i,o,s){return("Horizontal"===i&&!s||"Horizontal"!==i&&s?e/t:1-e/t)*o.delta+o.start},getClosest:function(e,t){var i;if(sf.base.isNullOrUndefined(e)||sf.base.isNullOrUndefined(e.points))return i;var o=e.xMin+864e5;return(t>=e.xMin-.5&&t<=e.xMax+.5&&e.points.length>0||1===e.points.length&&e.xMin===e.xMax&&t>=e.xMin-.5&&t<=o+.5)&&(i=this.findClosest(this.sortPoints(e.points,["xV"]),t)),i},sortPoints:function(e,t,i){for(var o=sf.base.extend([],e,null),s=0;s<o.length;s++)for(var r=0;r<t.length;r++)o[s][t[r]]instanceof Date&&(o[s][t[r]]=o[s][t[r]].getTime());return o.sort((function(e,o){for(var s=0,r=0,n=0;n<t.length;n++)s+=e[t[n]],r+=o[t[n]];return!i&&s<r||i&&s>r?-1:s===r?0:1})),o},findClosest:function(e,t){var i=e.length;if(t<=e[0].xV)return e[0];if(t>=e[i-1].xV)return e[i-1];for(var o=0,s=i,r=0;o<s;){if(r=Math.abs((o+s)/2),e[parseInt(r.toString(),10)].xV===t)return e[parseInt(r.toString(),10)];if(t<e[parseInt(r.toString(),10)].xV){if(r>0&&t>e[parseInt(r.toString(),10)-1].xV)return this.getClosestValue(e[parseInt(r.toString(),10)-1],e[parseInt(r.toString(),10)],t);s=r}else{if(r<i-1&&t<e[parseInt(r.toString(),10)+1].xV)return this.getClosestValue(e[parseInt(r.toString(),10)],e[parseInt(r.toString(),10)+1],t);o=r+1}}return e[parseInt(r.toString(),10)]},getClosestValue:function(e,t,i){return i-e.xV>=t.xV-i?t:e},getSharedPoints:function(e,t){var i,o,s=t;if("CartesianAxes"!==e.userInteractionBase.chartAreaType||sf.base.isNullOrUndefined(t)||!(t.length>0)||e.tooltipBase.tooltipModule.showNearestPoint)return t;for(var r=0,n=t;r<n.length;r++){var a=n[r];if(i=this.getPointValue(e,a.series),this.isClosest(i,a,o)&&(o=a.point.xV),this.isAxisValue(a.series))return t}return(t=t.filter((function(e){return o===e.point.xV}))).length<s.length&&e.tooltipBase.tooltipModule.showNearestPoint?s:t},isClosest:function(e,t,i){var o=t.series.x_Axis;return e>=o.visibleRange.start-.5&&e<=o.visibleRange.end+.5&&(isNaN(i)||Math.abs(t.point.xV-e)<Math.abs(i-e))},isAxisValue:function(e){return!sf.base.isNullOrUndefined(e)&&(e.axesCount>2&&"PrimaryXAxis"!==e.x_Axis.name)},sortPointsInfo:function(e){var t=[];return e.forEach((function(e){"Series"===e.series.category&&t.push(e)})),e.forEach((function(e){"Indicator"===e.series.category&&t.push(e)})),e.forEach((function(e){"TrendLine"===e.series.category&&t.push(e)})),t},findHeader:function(e,t){var i=t.tooltipBase.header;return sf.base.isNullOrUndefined(i)?"":""!==(i=this.parseTemplate(e.point,e.series,i,t)).replace(/<b>/g,"").replace(/<\/b>/g,"").trim()?i:""},getTooltipText:function(e,t){return this.parseTemplate(e.point,e.series,this.getFormat(t,e.series),t)},getIndicatorTooltipFormat:function(e,t){return"XY"===e.seriesType?e.name+" : <b>${point.y}</b>":t},parseTemplate:function(e,t,i,o){for(var s,r,n=0,a=Object.keys(e);n<a.length;n++){var l=a[n];s=new RegExp("${point."+l+"}","gm"),i.indexOf(s.source)>-1&&(i=i.replace(s.source,this.formatPointValue(e,l,"${point.x}"===s.source,"${point.h}"===s.source||"${point.o}"===s.source||"${point.c}"===s.source||"${point.l}"===s.source||"${point.y}"===s.source,t,o.userInteractionBase.isStockChart,o)))}for(var h=0,d=Object.keys(t);h<d.length;h++){l=d[h];s=new RegExp("${series."+l+"}","gm"),r=t[""+l],i.indexOf(s.source)>-1&&(i=i.replace(s.source,r))}return i},getTemplateLocation:function(e,t,i,o,s,r,n,l){var h=new a(t.x,t.y),d=i+10,c=o+10,u=r.x,m=r.y,g=e.x,p=e.y;return n?(((h=new a(h.x+u+s,h.y+m-o/2)).x+d+12>g+e.width||l)&&(h.x=(t.x>e.width?e.width:t.x)+u-s-(d+12)),h.x<g&&(h.x=(t.x<0?0:t.x)+u+s),h.y<=p&&(h.y=p),h.y+c>=p+e.height&&(h.y-=h.y+c-(p+e.height))):(((h=new a(h.x+u-i/2,h.y+m-o-12-s)).y<p||l)&&(h.y=(t.y<0?0:t.y)+m+s),h.y+c+12>p+e.height&&(h.y=(t.y>e.height?e.height:t.y)+m-o-12-s),h.x<g&&(h.x=g),h.x+d>g+e.width&&(h.x-=h.x+d-(g+e.width))),{x:h.x,y:h.y}},formatPointValue:function(e,t,i,o,s,r,n){var a,l,h,d=i?s.x_Axis:s.y_Axis,c=d.format?d.format:d.dateFormat,u=d.labelFormat;if("DateTime"===d.valueType&&i)a=(new sf.base.Internationalization).getDateFormat({format:c||"MM/dd/yyyy",type:this.firstToLowerCase("DateTime")})(this.convertDateAndTime(new Date(e.xV))),a=this.getGlobalizedDate(a,n.dateValuePairs);else if("DateTimeCategory"===d.valueType&&i){var m=d.isUniversalDateTime?this.convertDateAndTime(new Date(e[t])):new Date(e[t]);a=(new sf.base.Internationalization).getDateFormat({format:c||u||"MM/dd/yyyy HH:mm:ss tt",type:this.firstToLowerCase("DateTime")})(m),a=this.getGlobalizedDate(a,n.dateValuePairs)}else if("Category"!==d.valueType&&i)a=(l=u&&null!==u.match("{value}"))?u.replace("{value}",this.formatAxisValue(e[t],l,u,void 0,n)):this.formatAxisValue(e[t],l,u,void 0,n);else if(o&&!sf.base.isNullOrUndefined(e[t])){if(l=u&&null!==u.match("{value}"),"outliers"===t)h=this.formatAxisValue(e[t][this.lierIndex-4],l,u,void 0,n);else{var g=e[t],p=s.markerDataLabelFormat?parseInt(s.markerDataLabelFormat.substring(1),10):"Logarithmic"===d.valueType?10:2,f=r?Math.max(2,(g-Math.round(g)).toString().length):p;h=this.formatAxisValue(e[t],l,u,f,n)}r&&"Indicator"===s.category&&"AccumulationDistribution"===s.name&&(h=h.replace(/\B(?=(\d{3})+(?!\d))/g,",")),h=this.getGlobalizedNumber(h,n.numberValuePairs),a=l?u.replace("{value}",h):h}else a=sf.base.isNullOrUndefined(e[t])?"":this.getGlobalizedNumber(e[t].toString(),n.numberValuePairs);return a},getFormat:function(e,t){var i=e.tooltipBase.tooltipModule.shared&&!t.name?"":"<br/>";if(t.tooltipFormat)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltipBase.tooltipFormat):t.tooltipFormat;if(e.tooltipBase.tooltipFormat)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltipBase.tooltipFormat):e.tooltipBase.tooltipFormat;var o="Histogram"===e.seriesTypes[t.index]?"${point.mI}-${point.mX}":"${point.x}",s=e.tooltipBase.tooltipModule.shared&&(!e.userInteractionBase.isStockChart||t.seriesType.indexOf("HighLow")>-1)?"${series.name}":o;switch(t.seriesType){case"XY":return"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltipBase.tooltipFormat):s+" : "+("Bubble"===e.seriesTypes[t.index]?"Tailwind3"===e.userInteractionBase.theme||"Tailwind3Dark"===e.userInteractionBase.theme?"${point.y}  Size : ${point.size}":"<b>${point.y}</b>  Size : <b>${point.sI}</b>":"Tailwind3"===e.userInteractionBase.theme||"Tailwind3Dark"===e.userInteractionBase.theme?"${point.y}":"<b>${point.y}</b>");case"HighLow":return s+i+"High : <b>${point.h}</b><br/>Low : <b>${point.l}</b>";case"HighLowOpenClose":return s+i+"High : <b>${point.h}</b><br/>Low : <b>${point.l}</b><br/>Open : <b>${point.o}</b><br/>Close : <b>${point.c}</b>";case"BoxPlot":return s+i+(e.userInteractionBase.lierIndex>3?"Outliers : <b>${point.oL}</b>":"Maximum : <b>${point.mX}</b><br/>Q3 : <b>${point.uQ}</b><br/>Median : <b>${point.m}</b><br/>Q1 : <b>${point.lQ}</b><br/>Minimum : <b>${point.mI}</b>");default:return""}},formatAxisValue:function(e,t,i,o,s){void 0===o&&(o=2);var r=Number(e);if(-1===i.indexOf("{value}")&&i.toLowerCase().indexOf("c")>-1){var n=i.match(/[C](\d*)/i),a=void 0;n&&(a=n[1]?parseInt(n[1],10):2);var l={style:"currency",currency:"USD",minimumFractionDigits:a},h=new Intl.NumberFormat("en-US",l).format(r),d=Object.keys(s.numberValuePairs),c=h.charAt(0),u=h.substring(1);return"back"===d[d.length-1]?""+u+c:h}return(new sf.base.Internationalization).getNumberFormat({format:t?"":i,useGrouping:s.userInteractionBase.useGrouping,minimumFractionDigits:o<2?o:2,maximumFractionDigits:o>20?20:o})(r)},findShapes:function(e){if(!e.tooltipBase.tooltipModule.enableMarker)return[];for(var t=[],i=0,o=e.tooltipBase.currentPoints;i<o.length;i++){var s=o[i];t.push(s.series.shape)}return t},findMarkerHeight:function(e,t){var i=e.series;return("TrendLine"===i.category?B.getElement(t.id+"_Series_"+i.index+"_TrendLine_"+i.index+"_PointIndex_"+e.point.iX):B.getElement(t.id+"_Series_"+i.index+"_PointIndex_"+e.point.iX))?this.isRectSeries(i.type)&&"Scatter"!==i.type&&"Scatter"!==i.type||"Candle"===i.seriesType||"Hilo"===i.seriesType||"HiloOpenClose"===i.seriesType?0:(i.marker.mH+5)/2+2*i.marker.b.wT:(i.marker.vS||t.tooltipBase.tooltipModule.shared&&(!this.isRectSeries(i.type)||i.marker.vS)||"Scatter"===i.type||"Scatter"===i.type)&&"Candle"!==i.seriesType&&"Hilo"!==i.seriesType&&"HiloOpenClose"!==i.seriesType?(i.marker.mH+5)/2+2*i.marker.b.wT:0},findSharedLocation:function(e){return e.userInteractionBase.isStockChart?this.stockChartTooltipPosition&&"Nearest"===this.stockChartTooltipPosition?new a(e.tooltipBase.valueX,e.tooltipBase.valueY+e.tooltipBase.seriesTooltipTop+5):new a(e.userInteractionBase.axisClipRect.x+5,e.userInteractionBase.axisClipRect.y+e.tooltipBase.seriesTooltipTop+5):e.tooltipBase.currentPoints.length>1?new a(e.tooltipBase.valueX,e.tooltipBase.valueY):this.getSymbolLocation(e.tooltipBase.currentPoints[0],e)},valueToCoefficient:function(e,t){var i=(e-t.visibleRange.start)/t.visibleRange.delta;return t.isAxisInverse?1-i:i},valueToPolarCoefficient:function(e,t,i){var o,s,r=i.visibleRange;return"Category"!==t?(o=r.end-("DateTime"===t?i.dataTimeInterval:i.visibleInterval)-r.start,s=i.visibleLabelCount-1,o=0===o?1:o):(o=1===i.visibleLabelCount?1:i.visibleLabelCount-1-0,s=i.visibleLabelCount),i.isAxisInverse?(e-r.start)/o*(1-1/s):1-(e-r.start)/o*(1-1/s)},findMouseValue:function(e,t){if(e){var i=e.series.x_Axis;t.userInteractionBase.isInverted?(t.tooltipBase.valueY=(1-this.valueToCoefficient(e.point.xV,i))*i.rect.h+i.rect.y,t.tooltipBase.valueX=t.mouseX):("PolarAxes"===t.userInteractionBase.chartAreaType?t.tooltipBase.valueX=this.valueToPolarCoefficient(e.point.xV,e.series.x_Axis.valueType,i)*i.rect.w+i.rect.x:t.tooltipBase.valueX="TrendLine"===e.series.category&&t.tooltipBase.tooltipModule.shared?t.tooltipBase.valueX:this.valueToCoefficient(e.point.xV,i)*i.rect.w+i.rect.x,t.tooltipBase.valueY=t.mouseY)}},getSymbolLocation:function(e,t){var i=t.userInteractionBase.isStockChart?new a(0,t.tooltipBase.seriesTooltipTop):new a(0,0);if("BoxAndWhisker"!==e.series.type){if(0===e.point.s.length)return null;i=new a(e.point.s[0].x,e.point.s[0].y)}switch(e.series.type){case"BoxAndWhisker":return this.getBoxLocation(e,t);case"Waterfall":return this.getWaterfallRegion(e,i,t.userInteractionBase.isInverted);case"RangeArea":case"SplineRangeArea":case"RangeColumn":case"RangeStepArea":return this.getRangeArea(e,i);default:return i}},getBoxLocation:function(e,t){return t.userInteractionBase.lierIndex>3?e.point.s[t.userInteractionBase.lierIndex-4]:{x:e.point.r[0].x+e.point.r[0].w/2,y:e.point.r[0].y+e.point.r[0].h/2}},getWaterfallRegion:function(e,t,i){return i?t.x=Number(e.point.y)<0?t.x+e.point.r[0].w:t.x:t.y=Number(e.point.y)<0?t.y-e.point.r[0].h:t.y,t},getRangeArea:function(e,t){return e.point.r.length>0&&e.point.r[0]&&(this.inverted?t.x=e.point.r[0].x+e.point.r[0].w/2:t.y=e.point.r[0].y+e.point.r[0].h/2),t},findPalette:function(e){for(var t=[],i=0,o=e.tooltipBase.currentPoints;i<o.length;i++){var s=o[i];t.push(this.findColor(s,s.series))}return t},findColor:function(e,t){return!this.isRectSeries(t.seriesType)||"Candle"!==t.seriesType&&"Hilo"!==t.seriesType&&"HiloOpenClose"!==t.seriesType?""!==e.point.i?e.point.i:""!==t.marker.f?t.marker.f:t.interior:e.point.i},renderTooltip:function(e,t,i){var o=document.getElementById(t+"_svg"),s=e,r=i;!(o&&parseInt(o.getAttribute("opacity"),10)>0)&&!sf.base.isNullOrUndefined(r)?(r.tooltip=new sf.svgbase.Tooltip(s),r.tooltip.enableRTL=s.enableRTL,r.tooltip.appendTo("#"+t)):sf.base.isNullOrUndefined(r.tooltip)||(r.tooltip.location=new sf.svgbase.TooltipLocation(s.location.x,s.location.y),r.tooltip.content=s.content,r.tooltip.header=s.header,r.tooltip.offset=s.offset,r.tooltip.palette=s.palette,r.tooltip.shapes=s.shapes,r.tooltip.data=s.data,r.tooltip.template=s.template,r.tooltip.textStyle.color=s.textStyle.color||r.tooltip.textStyle.color,r.tooltip.textStyle.fontFamily=s.textStyle.fontFamily||r.tooltip.textStyle.fontFamily,r.tooltip.textStyle.fontStyle=s.textStyle.fontStyle||r.tooltip.textStyle.fontStyle,r.tooltip.textStyle.fontWeight=s.textStyle.fontWeight||r.tooltip.textStyle.fontWeight,r.tooltip.textStyle.opacity=s.textStyle.opacity||r.tooltip.textStyle.opacity,r.tooltip.textStyle.size=s.textStyle.size||r.tooltip.textStyle.size,r.tooltip.isNegative=s.isNegative,r.tooltip.clipBounds=new sf.svgbase.TooltipLocation(s.clipBounds.x,s.clipBounds.y),r.tooltip.arrowPadding=s.arrowPadding,r.tooltip.dataBind())},removeTooltip:function(e,t){var i=this,o=this.getElement(t.element.id+"_tooltip");this.stopAnimation(t.tooltipBase.toolTipInterval),o&&sf.base.isNullOrUndefined(t.tooltipBase.tooltipModule.template)&&t.tooltipBase.previousPoints.length>0?t.tooltipBase.toolTipInterval=+setTimeout((function(){t.tooltipBase.tooltipModule&&o.firstChild&&i.fadeOut(t.dataId)}),e):o&&!sf.base.isNullOrUndefined(t.tooltipBase.tooltipModule.template)&&t.tooltipBase.previousPoints.length>0?t.tooltipBase.toolTipInterval=+setTimeout((function(){sf.base.isNullOrUndefined(t.tooltipBase.tooltipModule.template)||(t.dotnetref.invokeMethodAsync("RemoveTemplateTooltip"),t.tooltipBase.valueX=0,t.tooltipBase.valueY=0,t.tooltipBase.currentPoints=[],i.isHighlightRemoved||(i.removeHighlight(t),i.isHighlightRemoved=!0),i.removeMarker(t),t.tooltipBase.previousPoints=[])}),e):0===t.tooltipBase.previousPoints.length&&t.markerExplodeBase&&t.markerExplodeBase.markerPreviousPoints.length>0&&(t.tooltipBase.toolTipInterval=+setTimeout((function(){i.removeMarker(t)}),e))},stopAnimation:function(e){this.stopTimer(e)},stopTimer:function(e){window.clearInterval(e)},removeHighlight:function(e){for(var t=0;t<e.tooltipBase.previousPoints.length;t++){var i=t>=0&&t<e.tooltipBase.previousPoints.length?e.tooltipBase.previousPoints[parseInt(t.toString(),10)]:void 0;if(i){var o="Polar"!==i.series.type&&"Radar"!==i.series.type?i.series.type:i.series.drawType;!this.isRectSeries(o)&&!e.tooltipBase.enableHighlight||e.selectedDataIndexes.length>0||e.highlightDataIndexes.length>0||this.highlightPoint(e,!1,i)}}},highlightPoint:function(e,t,i){var o=this,s=this.getElement(e.element.id+"_Series_"+i.series.index+"_Point_"+i.point.iX+("BoxPlot"===i.series.seriesType?"_BoxPath":"")),r=this.isRectSeries(i.series.type)?null:this.getElement(e.id+"_Series_"+i.series.index),n=this.isRectSeries(i.series.type)?null:this.getElement(e.id+"_Series_"+i.series.index+"_Border"),a=i.series.width,l=Math.max(i.series.width,i.series.border.wT)+1;if(sf.base.isNullOrUndefined(e.highlightColor)||""===e.highlightColor||sf.base.isNullOrUndefined(s))if(e.tooltipBase.enableHighlight&&!e.tooltipBase.tooltipModule.shared){var h="_Series_"+i.series.index,d=document.querySelectorAll('[id^="'+e.id+'_Series_"]');if(r&&this.animateStrokeWidth(r,Number(r.getAttribute("stroke-width"))||a,t?l:a,e.tooltipBase.tooltipModule.duration),n&&this.animateStrokeWidth(n,Number(n.getAttribute("stroke-width"))||a,t?l:a,e.tooltipBase.tooltipModule.duration),!this.isRectSeries(i.series.type))document.querySelectorAll("[id^='"+e.id+"_Series_"+i.series.index+"_Point_'][id*='_Symbol']").forEach((function(i){o.animateStrokeWidth(i,Number(i.getAttribute("stroke-width"))||a,t?l:a,e.tooltipBase.tooltipModule.duration)}));var c=e.id+"_Series_";d.forEach((function(i){var s=i.id,r=0===s.indexOf(c)&&/_Point_\d+$/.test(s),n=0===s.indexOf(c)&&s.lastIndexOf("_BoxPath")===s.length-"_BoxPath".length,a=0===s.indexOf(c);if((r||n||a)&&-1===s.indexOf(h)){for(var l=(s.match(/Series_(\d+)/)||[])[1]?Number((s.match(/Series_(\d+)/)||[])[1]):-1,d=void 0,u=e.userInteractionBase.visibleSeries,m=0;m<u.length;m++)if(u[parseInt(m.toString(),10)].index===l){d=u[parseInt(m.toString(),10)];break}if(d){var g=Math.round(d.opacity/3*10)/10;t?i.style.opacity=g.toString():(i.style.opacity="",o.highlightAnimation(i,l,e.tooltipBase.tooltipModule.duration,g,!1,e))}}}))}else sf.base.isNullOrUndefined(s)||s.setAttribute("opacity",(t?e.userInteractionBase.theme.indexOf("Fluent2")>-1?i.series.opacity/2:i.series.opacity/1.25:i.series.opacity).toString());else s.setAttribute("fill",t&&"transparent"!==e.highlightColor?e.highlightColor:i.series.interior)},highlightPoints:function(e){for(var t=0;t<e.tooltipBase.currentPoints.length;t++){var i=t>=0&&t<e.tooltipBase.currentPoints.length?e.tooltipBase.currentPoints[parseInt(t.toString(),10)]:void 0,o="Polar"!==i.series.type&&"Radar"!==i.series.type?i.series.type:i.series.drawType;!this.isRectSeries(o)&&!e.tooltipBase.enableHighlight||"Series"!==i.series.category||e.selectedDataIndexes.length>0||e.highlightDataIndexes.length>0||this.highlightPoint(e,!0,i)}},animateStrokeWidth:function(e,t,i,o){var s=e;if(s.animationFrame&&cancelAnimationFrame(s.animationFrame),i>=t)s.setAttribute("stroke-width",i.toString());else{var r=t,n=(t-i)/(o/16);s.animationFrame=requestAnimationFrame((function e(){(r-=n)<=i?(s.setAttribute("stroke-width",i.toString()),s.animationFrame=null):(s.setAttribute("stroke-width",r.toString()),s.animationFrame=requestAnimationFrame(e))}))}},setEnableHighlight:function(e,t){window.sfBlazor.getCompInstance(t).tooltipBase.enableHighlight=e},updatePreviousPoint:function(e,t){t.length>0&&(e.tooltipBase.currentPoints=e.tooltipBase.currentPoints.concat(t)),e.tooltipBase.previousPoints=[],e.tooltipBase.previousPoints=e.tooltipBase.previousPoints.concat(e.tooltipBase.currentPoints)},fadeOut:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||!sf.base.isNullOrUndefined(t)&&sf.base.isNullOrUndefined(t.tooltip)||(this.removeTooltipCommentElement(t),t.tooltipBase.valueX=0,t.tooltipBase.valueY=0,t.tooltipBase.currentPoints=[],this.isHighlightRemoved||(this.removeHighlight(t),this.isHighlightRemoved=!0),this.removeMarker(t),t.tooltipBase.previousPoints=[],t.tooltip.fadeOut())},removeTooltipCommentElement:function(e){var t=e.tooltip.element?e.tooltip.element.id:null,i=t?document.getElementById(t):null;if(i&&!e.isRemoveCommentElement&&i.childNodes.length>1){for(var o=i.childNodes,s=[],r=0;r<o.length;r++)(o[parseInt(r.toString(),10)].nodeName.match("#comment")||o[parseInt(r.toString(),10)].nodeName.match("#text"))&&s.push(o[parseInt(r.toString(),10)]);for(var n=0,a=s;n<a.length;n++){var l=a[n];sf.base.remove(l),e.isRemoveCommentElement=!0}}},isSeriesAxisZoomed:function(e){var t=!1;return 1===e.x_Axis.zoomFactor&&1===e.y_Axis.zoomFactor&&0===e.y_Axis.zoomPosition&&0===e.x_Axis.zoomPosition||(t=!0),t},getParentElementBoundsById:function(e){var t=document.getElementById(e);if(t){var i=document.getElementById(e+"_svg");i&&(i.style.display="none");var o=document.getElementById(e+"_tooltip_data");o&&(o.style.display="none"),t.style.width="100%",t.style.height="100%";var s=t.getBoundingClientRect(),r=s.width||t.clientWidth||t.offsetWidth,n=s.height||t.clientHeight||t.offsetHeight;return i&&(i.style.display=""),o&&(o.style.display="block"),{width:r,height:n,left:s.left,top:s.top,right:s.right,bottom:s.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getElementBoundsById:function(e,t){void 0===t&&(t=!0),t&&(this.id=e);var i=document.getElementById(e);if(i){var o=i.getBoundingClientRect();return{width:i.clientWidth||i.offsetWidth,height:i.clientHeight||i.offsetHeight,left:o.left,top:o.top,right:o.right,bottom:o.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getRefreshElementBoundsById:function(e){var t=document.getElementById(e);if(t){for(var i=document.getElementsByClassName("e-chart"),o=i.length,s=0;s<o;s++){if((l=i[parseInt(s.toString(),10)]).id.indexOf("_stockChart_")<0)l.querySelector("[id*=_svg]").style.display="none"}t.style.width="100%",t.style.height="100%";var r=t.getBoundingClientRect(),n=r.width||t.clientWidth||t.offsetWidth,a=r.height||t.clientHeight||t.offsetHeight;for(s=0;s<o;s++){var l;if((l=i[parseInt(s.toString(),10)]).id.indexOf("_stockChart_")<0)l.querySelector("[id*=_svg]").style.display=""}return{width:n,height:a,left:r.left,top:r.top,right:r.right,bottom:r.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getBrowserDeviceInfo:function(){return{browserName:sf.base.Browser.info.name,isPointer:sf.base.Browser.isPointer,isDevice:sf.base.Browser.isDevice,isTouch:sf.base.Browser.isTouch,isIos:sf.base.Browser.isIos||sf.base.Browser.isIos7}},setZoomingCipPath:function(e,t,i){var o=document.getElementById(e),s=document.getElementById(t);o&&o.setAttribute("clip-path",i),s&&o.setAttribute("clip-path",i)},setZoomingElementAttributes:function(e,t,i,o,s,r,n,a){"Indicator"===t&&i&&i.parentElement&&i.parentElement.setAttribute("transform",e),i&&i.setAttribute("transform",e),o&&o.setAttribute("transform",e),s&&s.setAttribute("transform",e),r&&r.setAttribute("visibility","hidden"),n&&n.setAttribute("visibility","hidden"),a&&(a.style.visibility="hidden")},measureBreakText:function(e,t,i,o,s,r,n){var a={color:i,size:t,fontFamily:o,fontWeight:s,fontStyle:r,opacity:parseInt(n,10)};return sf.svgbase.measureText(e,a)},getAllCharacters:function(){for(var e=[],t=33;t<591;t++)e.push(String.fromCharCode(t));return e},measureText:function(e,t,i,o){var s=document.getElementById("sfchartmeasuretext");return null===s&&(s=sf.base.createElement("text",{id:"sfchartmeasuretext"}),document.body.appendChild(s))," "===e&&(e="&nbsp;"),s.innerHTML=e,s.style.position="fixed",s.style.setProperty("font-size","100px","important"),s.style.fontWeight=t,s.style.fontStyle=i,s.style.fontFamily=o,s.style.visibility="hidden",s.style.top="-100",s.style.left="0",s.style.whiteSpace="nowrap",s.style.lineHeight="normal",{Width:s.clientWidth,Height:s.clientHeight}},getCharCollectionSize:function(e){return o(this,void 0,void 0,(function(){var t,i,o,r,n,a,l,h,d,c,u,m,g,p,f;return s(this,(function(s){switch(s.label){case 0:for(t=[],i=this.getAllCharacters(),o=[],r={},h=0;h<e.length;h++)(n=e[h].split("_"))&&n.length>2&&(m=n[2],Object.prototype.hasOwnProperty.call(r,m)||(r[m]=!0,o.push(m)));a=0,l=o,s.label=1;case 1:return a<l.length?(m=l[a],[4,document.fonts.load("1em "+m)]):[3,4];case 2:s.sent(),s.label=3;case 3:return a++,[3,1];case 4:for(h=0;h<e.length;h++)for(d=e[h].split("_"),c=d[0],u=d[1],m=d[2],g=0;g<i.length;g++)p=i[g],f=this.measureText(p,c,u,m).Width,t.push(f.toString());return[2,JSON.stringify(t)]}}))}))},getCharSizeByFontKeys:function(e){for(var t,i={},o=e.length,s=[],r=0;r<o;r++)s=e[parseInt(r.toString(),10)].split("_"),t=this.measureText(s[0],s[1],s[2],s[3]),i[e[parseInt(r.toString(),10)]]={X:t.Width,Y:t.Height};return JSON.stringify(i)},getElementRect:function(e){var t=document.getElementById(e),i=t.getBoundingClientRect();return sf.base.remove(t),{Left:i.left,Right:i.right,Top:i.top,Bottom:i.bottom,Width:i.width,Height:i.height}},getElement:function(e){return document.getElementById(e)},drawTrackBall:function(e,t,i,o,s,r){var n=this.getElement(e);if(n){for(var a=document.createElementNS("http://www.w3.org/2000/svg",i),l=Object.keys(t),h="",d=0;d<l.length;d++)h="strokeWidth"===l[parseInt(d.toString(),10)]?"stroke-width":"strokeDashArray"===l[parseInt(d.toString(),10)]?"stroke-dashArray":"direction"===l[parseInt(d.toString(),10)]?"d":l[parseInt(d.toString(),10)],a.setAttribute(h,t[l[parseInt(d.toString(),10)]]);a.setAttribute("class",o),a.setAttribute("clip-path",s),a.setAttribute("transform",r),n.appendChild(a)}},removeHighLightedMarker:function(e){for(var t=document.getElementsByClassName(e.markerExplodeBase.trackBallClass),i=0;i<t.length;)-1!==t[parseInt(i.toString(),10)].id.indexOf(e.id)?sf.base.remove(t[parseInt(i.toString(),10)]):i++},setAttribute:function(e,t,i){var o=this.getElement(e);o&&o.setAttribute(t,i)},createTooltip:function(e,t,i,o,s){var r=document.getElementById(e),n="top:"+((window.scrollY||0)+i).toString()+"px;left:"+o.toString()+"px;color:black !important; background:#FFFFFF !important; position:absolute;border:1px solid #707070;font-size:"+s+";border-radius:2px; z-index:10";r?(r.setAttribute("innerHTML","&nbsp;"+t+"&nbsp;"),r.setAttribute("styles",n)):(r=sf.base.createElement("div",{id:e,innerHTML:"&nbsp;"+t+"&nbsp;",styles:n}),document.body.appendChild(r))},removeElement:function(e){if(!e)return null;var t=this.getElement(e);t&&sf.base.remove(t)},applySelection:function(e,t){var i,o=document.getElementById(e);if(o&&o.childNodes)for(var s=1,r=(i=o.childNodes).length;s<r;s++)i[parseInt(s.toString(),10)]&&"rect"!==i[parseInt(s.toString(),10)].tagName&&i[parseInt(s.toString(),10)].setAttribute&&i[parseInt(s.toString(),10)].setAttribute("fill",t)},getAndSetTextContent:function(e,t,i){var o=document.getElementById(e);if(o){if(t)return o.textContent;o.textContent=i}return null},doProgressiveAnimation:function(e,t,i,o,s,r,n,a){var l,h=this.getElement(t),d=this.getElement(e),c=new sf.base.Animation({}),u=d.getTotalLength();d.setAttribute("visibility","hidden"),c.animate(d,{duration:i+o,delay:o,progress:function(e){h.setAttribute("visibility","visible"),e.timeStamp>=e.delay&&(d.setAttribute("visibility","visible"),l=Math.abs(Math.round((e.timeStamp-e.delay)*u/i)),d.setAttribute("stroke-dasharray",l+","+u))},end:function(){d.setAttribute("stroke-dasharray",s),n&&r&&n.forEach((function(e){e.style.visibility="visible"})),a&&r&&a.forEach((function(e){e.style.visibility="visible"}))}})},linear:function(e,t,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+t},doLinearAnimation:function(e,t,i,o,s,r,n,a){var l,h,d,c,u,m,g,p=this,f=this.getElement(t),b=new sf.base.Animation({}),v=this.linear,B=+f.getAttribute("height"),S=+f.getAttribute("width"),x=+f.getAttribute("x"),I=s?+f.getAttribute("height")+ +f.getAttribute("y"):+f.getAttribute("y");sf.base.isNullOrUndefined(e)||(u=this.getElement(e.markerClipPathId),m=+u.getAttribute("height"),g=+u.getAttribute("width"),d=+u.getAttribute("x"),c=s?+u.getAttribute("height")+ +u.getAttribute("y"):+u.getAttribute("y")),b.animate(f,{duration:i+o,delay:o,progress:function(e){e.timeStamp>=e.delay&&(f.setAttribute("visibility","visible"),s?(l=v(e.timeStamp-e.delay,0,B,i),f.setAttribute("transform","translate("+x+" "+I+") scale(1,"+l/B+") translate("+-x+" "+-I+")"),u&&(u.setAttribute("visibility","visible"),h=v(e.timeStamp-e.delay,0,m,i),u.setAttribute("transform","translate("+d+" "+c+") scale(1,"+h/m+") translate("+-d+" "+-c+")"))):(l=v(e.timeStamp-e.delay,0,S,i),f.setAttribute("transform","translate("+x+" "+I+") scale("+l/S+", 1) translate("+-x+" "+-I+")"),u&&(u.setAttribute("visibility","visible"),h=v(e.timeStamp-e.delay,0,g,i),u.setAttribute("transform","translate("+d+" "+c+") scale("+h/g+", 1) translate("+-d+" "+-c+")"))))},end:function(){f.setAttribute("transform","translate(0,0)"),u&&u.setAttribute("transform","translate(0,0)"),n&&r&&n.forEach((function(e){e.style.visibility="visible"})),a&&r&&a.forEach((function(e){e.style.visibility="visible"})),p.doStackLabelAnimation(o)}})},doStackLabelAnimation:function(e){var t=this;document.querySelectorAll('[id*="_StackLabelCollection"]').forEach((function(i){if(i){var o=i.querySelectorAll('rect[id*="_StackLabel_"]'),s=i.querySelectorAll('text[id*="_StackLabel_"]');o.forEach((function(i){t.animateStackLabelElement(i,e)})),s.forEach((function(i){t.animateStackLabelElement(i,e)})),i.style.visibility="visible"}}))},animateStackLabelElement:function(e,t){if(e){var i,o,s=0,r="rect"===e.tagName.toLowerCase(),n=parseFloat(e.getAttribute("x")||"0"),a=parseFloat(e.getAttribute("y")||"0"),l=parseFloat(e.getAttribute("width")||"0"),h=parseFloat(e.getAttribute("height")||"0");i=r?n+l/2:n,o=r?a+h/2:a,e.setAttribute("visibility","hidden"),new sf.base.Animation({}).animate(e,{duration:200,delay:t,progress:function(t){t.timeStamp>=t.delay&&(e.setAttribute("visibility","visible"),s=(t.timeStamp-t.delay)/t.duration,e.setAttribute("transform","translate("+i+" "+o+") scale("+s+") translate("+-i+" "+-o+")"))},end:function(){e.setAttribute("visibility","visible"),e.removeAttribute("transform")}})}},filterCommentElement:function(e){var t=this.getElement(e);if(!t)return null;for(var i=t.childNodes,o=[],s=0;s<i.length;s++)i[parseInt(s.toString(),10)].nodeName.match("#comment")||o.push(i[parseInt(s.toString(),10)]);return o},doInitialAnimation:function(e,t){for(var i=document.querySelectorAll('[id*="_Annotation_"]:not([id*="_Annotation_Collections"])'),o=document.querySelectorAll('[id*="LastDataLabelGroup"]:not([id*="LastDataLabelCollection"])'),s=0;s<e.length;s++){switch(e[parseInt(s.toString(),10)].type){case"Rect":for(var r=this.getElement(e[parseInt(s.toString(),10)].clipPathId),n=this.filterCommentElement(e[parseInt(s.toString(),10)].elementId),a=0;a<e[parseInt(s.toString(),10)].pointIndex.length;a++)this.doRectAnimation(n[e[parseInt(s.toString(),10)].pointIndex[parseInt(a.toString(),10)]],r,e[parseInt(s.toString(),10)].duration,e[parseInt(s.toString(),10)].delay,e[parseInt(s.toString(),10)].pointX[parseInt(a.toString(),10)],e[parseInt(s.toString(),10)].pointY[parseInt(a.toString(),10)],e[parseInt(s.toString(),10)].pointWidth[parseInt(a.toString(),10)],e[parseInt(s.toString(),10)].pointHeight[parseInt(a.toString(),10)],e[parseInt(s.toString(),10)].isInvertedAxis,s===t,i,o);break;case"Progressive":this.doProgressiveAnimation(e[parseInt(s.toString(),10)].elementId,e[parseInt(s.toString(),10)].clipPathId,e[parseInt(s.toString(),10)].duration,e[parseInt(s.toString(),10)].delay,e[parseInt(s.toString(),10)].strokeDashArray,s===t,i,o);break;case"Linear":this.doLinearAnimation(e[parseInt(s.toString(),10)].markerInfo,e[parseInt(s.toString(),10)].elementId,e[parseInt(s.toString(),10)].duration,e[parseInt(s.toString(),10)].delay,e[parseInt(s.toString(),10)].isInvertedAxis,s===t,i,o);break;case"Marker":var l=this.getElement(e[parseInt(s.toString(),10)].clipPathId),h=this.filterCommentElement(e[parseInt(s.toString(),10)].elementId);for(a=0;a<e[parseInt(s.toString(),10)].pointIndex.length;a++)this.doMarkerAnimate(h[e[parseInt(s.toString(),10)].pointIndex[parseInt(a.toString(),10)]],l,e[parseInt(s.toString(),10)].duration,e[parseInt(s.toString(),10)].delay,e[parseInt(s.toString(),10)].pointX[parseInt(a.toString(),10)],e[parseInt(s.toString(),10)].pointY[parseInt(a.toString(),10)],s===t,i,o);break;case"PolarRadar":var d=this.getElement(e[parseInt(s.toString(),10)].clipPathId),c=this.filterCommentElement(e[parseInt(s.toString(),10)].elementId);for(a=0;a<c.length;a++)this.doPolarRadarAnimation(c[parseInt(a.toString(),10)],d,e[parseInt(s.toString(),10)].duration,e[parseInt(s.toString(),10)].delay,e[parseInt(s.toString(),10)].pointX[0],e[parseInt(s.toString(),10)].pointY[0],s===t,i,o)}if("Linear"!==e[parseInt(s.toString(),10)].type&&!sf.base.isNullOrUndefined(e[parseInt(s.toString(),10)].markerInfo))for(l=this.getElement(e[parseInt(s.toString(),10)].markerInfo.markerClipPathId),h=this.filterCommentElement(e[parseInt(s.toString(),10)].markerInfo.markerElementId),a=0;a<e[parseInt(s.toString(),10)].markerInfo.pointIndex.length;a++)this.doMarkerAnimate(h[e[parseInt(s.toString(),10)].markerInfo.pointIndex[parseInt(a.toString(),10)]],l,200,e[parseInt(s.toString(),10)].duration+e[parseInt(s.toString(),10)].delay,e[parseInt(s.toString(),10)].markerInfo.pointX[parseInt(a.toString(),10)],e[parseInt(s.toString(),10)].markerInfo.pointY[parseInt(a.toString(),10)]),e[parseInt(s.toString(),10)].markerInfo.lowPointIndex.length>0&&this.doMarkerAnimate(h[e[parseInt(s.toString(),10)].markerInfo.lowPointIndex[parseInt(a.toString(),10)]],l,200,e[parseInt(s.toString(),10)].duration+e[parseInt(s.toString(),10)].delay,e[parseInt(s.toString(),10)].markerInfo.lowPointX[parseInt(a.toString(),10)],e[parseInt(s.toString(),10)].markerInfo.lowPointY[parseInt(a.toString(),10)]);if(!sf.base.isNullOrUndefined(e[parseInt(s.toString(),10)].dataLabelInfo))if(0===e[parseInt(s.toString(),10)].dataLabelInfo.templateId.length)this.doDataLabelAnimation(e[parseInt(s.toString(),10)].dataLabelInfo.shapeGroupId,e[parseInt(s.toString(),10)].dataLabelInfo.textGroupId,"",e[parseInt(s.toString(),10)].clipPathId,200,e[parseInt(s.toString(),10)].duration+e[parseInt(s.toString(),10)].delay);else for(a=0;a<e[parseInt(s.toString(),10)].dataLabelInfo.templateId.length;a++)this.doDataLabelAnimation("","",e[parseInt(s.toString(),10)].dataLabelInfo.templateId[parseInt(a.toString(),10)],"",200,e[parseInt(s.toString(),10)].duration+e[parseInt(s.toString(),10)].delay);sf.base.isNullOrUndefined(e[parseInt(s.toString(),10)].errorBarInfo)||this.doErrorBarAnimation(e[parseInt(s.toString(),10)].errorBarInfo.errorBarElementId,e[parseInt(s.toString(),10)].errorBarInfo.errorBarClipPathId,e[parseInt(s.toString(),10)].duration+e[parseInt(s.toString(),10)].delay,e[parseInt(s.toString(),10)].isInvertedAxis)}},doDynamicAnimation:function(e,t,i,o){for(var s=0;s<e.length;s++)sf.base.isNullOrUndefined(e[parseInt(s.toString(),10)].previousDir)||""===e[parseInt(s.toString(),10)].previousDir||sf.base.isNullOrUndefined(e[parseInt(s.toString(),10)].currentDir)||""===e[parseInt(s.toString(),10)].currentDir||this.pathAnimation(e[parseInt(s.toString(),10)].id,e[parseInt(s.toString(),10)].currentDir,!0,e[parseInt(s.toString(),10)].previousDir,300);for(var r=0;r<t.length;r++)this.animateRectElement(t[parseInt(r.toString(),10)].id,0,300,t[parseInt(r.toString(),10)].currentRect,t[parseInt(r.toString(),10)].previousRect);for(var n=0;n<i.length;n++)this.animateRedrawElement(i[parseInt(n.toString(),10)].id,300,i[parseInt(n.toString(),10)].preLocationX,i[parseInt(n.toString(),10)].preLocationY,i[parseInt(n.toString(),10)].curLocationX,i[parseInt(n.toString(),10)].curLocationY,i[parseInt(n.toString(),10)].x,i[parseInt(n.toString(),10)].y);for(var a=0;a<o.length;a++)this.doAnimateLastDataLabel(o[parseInt(a.toString(),10)].id,o[parseInt(a.toString(),10)].previousTransform,o[parseInt(a.toString(),10)].currentX,o[parseInt(a.toString(),10)].currentY,o[parseInt(a.toString(),10)].duration)},doRectAnimation:function(e,t,i,o,s,r,n,a,l,h,d,c){var u,m=this,g=this.linear;sf.base.isNullOrUndefined(e)||(e.setAttribute("visibility","hidden"),new sf.base.Animation({}).animate(e,{duration:i,delay:o,progress:function(i){t.setAttribute("visibility","visible"),i.timeStamp>=i.delay&&(e.setAttribute("visibility","visible"),l?(n=n||1,u=g(i.timeStamp-i.delay,0,n,i.duration),e.setAttribute("transform","translate("+s+" "+r+") scale("+u/n+", 1) translate("+-s+" "+-r+")")):(a=a||1,u=g(i.timeStamp-i.delay,0,a,i.duration),e.setAttribute("transform","translate("+s+" "+r+") scale(1,"+u/a+") translate("+-s+" "+-r+")")))},end:function(){e.setAttribute("transform","translate(0,0)"),d&&h&&d.forEach((function(e){e.style.visibility="visible"})),c&&h&&c.forEach((function(e){e.style.visibility="visible"})),m.doStackLabelAnimation(o)}}))},doMarkerAnimate:function(e,t,i,o,s,r,n,a,l){void 0===n&&(n=!1);var h=0;e&&(e.setAttribute("visibility","hidden"),new sf.base.Animation({}).animate(e,{duration:i,delay:o,progress:function(i){t.setAttribute("visibility","visible"),i.timeStamp>i.delay&&(e.setAttribute("visibility","visible"),h=(i.timeStamp-i.delay)/i.duration,e.setAttribute("transform","translate("+s+" "+r+") scale("+h+") translate("+-s+" "+-r+")"))},end:function(){e.setAttribute("visibility","");var t=e.parentElement.parentElement;t&&-1===t.id.indexOf("_DataLabelCollection")&&e.removeAttribute("transform"),a&&n&&a.forEach((function(e){e.style.visibility="visible"})),l&&n&&l.forEach((function(e){e.style.visibility="visible"}))}}))},doPolarRadarAnimation:function(e,t,i,o,s,r,n,a,l){var h=0;e.setAttribute("visibility","hidden"),new sf.base.Animation({}).animate(e,{duration:i,delay:o,progress:function(i){t.setAttribute("visibility","visible"),i.timeStamp>i.delay&&(e.setAttribute("visibility","visible"),h=(i.timeStamp-i.delay)/i.duration,e.setAttribute("transform","translate("+s+" "+r+") scale("+h+") translate("+-s+" "+-r+")"))},end:function(){e.setAttribute("visibility","visible"),e.removeAttribute("transform"),a&&n&&a.forEach((function(e){e.style.visibility="visible"})),l&&n&&l.forEach((function(e){e.style.visibility="visible"}))}})},templateAnimate:function(e,t,i,o,s,r){new sf.base.Animation({}).animate(e,{duration:i,delay:t,name:o,progress:function(e){r&&r.setAttribute("visibility","visible"),e.element.style.visibility="visible"},end:function(e){s?sf.base.remove(e.element):e.element.style.visibility="visible"}})},doDataLabelAnimation:function(e,t,i,o,s,r){for(var n,a,l,h=this.filterCommentElement(e),d=this.filterCommentElement(t),c=this.getElement(o),u=this.getElement(i),m=u?1:d.length,g=0;g<m;g++)u?(u.style.visibility="hidden",this.templateAnimate(u,r,s,"ZoomIn")):(n=+(l=d[parseInt(g.toString(),10)]).getAttribute("x")+ +l.getAttribute("width")/2,a=+l.getAttribute("y")+ +l.getAttribute("height")/2,this.doMarkerAnimate(d[parseInt(g.toString(),10)],c,s,r,n,a),h[parseInt(g.toString(),10)]&&(n=+(l=h[parseInt(g.toString(),10)]).getAttribute("x")+ +l.getAttribute("width")/2,a=+l.getAttribute("y")+ +l.getAttribute("height")/2,this.doMarkerAnimate(h[parseInt(g.toString(),10)],c,s,r,n,a)))},doAnimateLastDataLabel:function(e,t,i,o,s){var r=this,n=this.getElement(e);if(sf.base.isNullOrUndefined(n))return null;var a=t.split(/[(),\s]+/),l=parseFloat(a[1])||0,h=parseFloat(a[2])||0,d=null!=s?s:500;new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:d,progress:function(e){var t="translate("+r.linear(e.timeStamp,l,i-l,e.duration)+","+r.linear(e.timeStamp,h,o-h,e.duration)+")";n.setAttribute("transform",t)},end:function(){var e="translate("+i+","+o+")";n.setAttribute("transform",e)}})},pathAnimation:function(e,t,i,o,s){var r=this,n=this.getElement(e);if(!i||sf.base.isNullOrUndefined(n))return null;var a=300;s&&(a=s);var l,h,d,c=o||n.getAttribute("d"),u=c.split(/(?=[LMCZAQ])/),m=t.split(/(?=[LMCZAQ])/),g=[],p=[];n.setAttribute("d",c),new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:a,progress:function(e){l="",u.map((function(t,i){if(g=t.split(" "),p=m[parseInt(i.toString(),10)]?m[parseInt(i.toString(),10)].split(" "):g,"Z"===g[0]?l+="Z ":l+=g[0]+" "+r.linear(e.timeStamp,+g[1],+p[1]-+g[1],e.duration)+" "+r.linear(e.timeStamp,+g[2],+p[2]-+g[2],e.duration)+" ","C"===g[0]||"Q"===g[0])for(h=3,d="Q"===g[0]?4:6;h<d;)l+=r.linear(e.timeStamp,+g[parseInt(h.toString(),10)],+p[parseInt(h.toString(),10)]-+g[parseInt(h.toString(),10)],e.duration)+" "+r.linear(e.timeStamp,+g[++h],+p[parseInt(h.toString(),10)]-+g[parseInt(h.toString(),10)],e.duration)+" ",++h;"A"===g[0]&&(l+="0 0 1 "+r.linear(e.timeStamp,+g[6],+p[6]-+g[6],e.duration)+" "+r.linear(e.timeStamp,+g[7],+p[7]-+g[7],e.duration)+" ")})),n.setAttribute("d",l)},end:function(){n.setAttribute("d",t)}})},getPreviousDirection:function(e){var t=this.getElement(e);return t?t.getAttribute("d"):null},getPreviousLocation:function(e,t){var i=this.getElement(e);return{X:i?+i.getAttribute(t+"x"):0,Y:i?+i.getAttribute(t+"y"):0}},animateRectElement:function(e,t,i,o,s){var r=this,n=function(t){e.setAttribute("x",t.x+""),e.setAttribute("y",t.y+""),e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")};new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:i,delay:t,progress:function(e){n(new sf.svgbase.Rect(r.linear(e.timeStamp,s.x,o.x-s.x,e.duration),r.linear(e.timeStamp,s.y,o.y-s.y,e.duration),r.linear(e.timeStamp,s.width,o.width-s.width,e.duration),r.linear(e.timeStamp,s.height,o.height-s.height,e.duration)))},end:function(){n(o)}})},animateRedrawElement:function(e,t,i,o,s,r,n,a){var l=this;void 0===n&&(n="x"),void 0===a&&(a="y");var h=this.getElement(e);if(!h)return null;var d="DIV"===h.tagName,c=function(e,t){d?(h.style[""+n]=e+"px",h.style[""+a]=t+"px"):(h.setAttribute(n,e+""),h.setAttribute(a,t+""))};c(i,o),new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:t,progress:function(e){c(l.linear(e.timeStamp,i,s-i,e.duration),l.linear(e.timeStamp,o,r-o,e.duration))},end:function(){c(s,r)}})},appendChildElement:function(e,t,i,o,s,r,n,a,l,h,d,c){void 0===o&&(o=!1),void 0===s&&(s="x"),void 0===r&&(r="y"),void 0===l&&(l=!1),void 0===h&&(h=!1),void 0===d&&(d=null);var u=e.querySelector("#"+t.id)||this.getElement(t.id),m=t,g=c||300;if(i&&o&&u)if(n=n||("DIV"===u.tagName?new sf.svgbase.TooltipLocation(+u.style[""+s].split("px")[0],+u.style[""+r].split("px")[0]):new sf.svgbase.TooltipLocation(+u.getAttribute(s),+u.getAttribute(r))),""===a||sf.base.isNullOrUndefined(a))if(h&&d)this.animateRectElement(m,0,g,new sf.svgbase.Rect(+u.getAttribute("x"),+u.getAttribute("y"),+u.getAttribute("width"),+u.getAttribute("height")),d);else{var p="DIV"===m.tagName?new sf.svgbase.TooltipLocation(+m.style[""+s].split("px")[0],+m.style[""+r].split("px")[0]):new sf.svgbase.TooltipLocation(+m.getAttribute(s),+m.getAttribute(r));this.animateRedrawElement(m,g,n,p,s,r)}else this.pathAnimation(t,t.getAttribute("d"),i,a,g);else i&&o&&!u&&l&&this.templateAnimate(m,0,600,"FadeIn")},processAppendChild:function(e,t,i,o,s,r,n,a,l,h,d,c,u,m,g,p){void 0===h&&(h=!1),void 0===d&&(d="x"),void 0===c&&(c="y"),void 0===m&&(m=!1),void 0===g&&(g=!1);var f=this.getElement(e),b=this.getElement(t),v=new sf.svgbase.TooltipLocation(i,o),B=new sf.svgbase.Rect(s,r,n,a);this.appendChildElement(f,b,l,h,d,c,v,u,m,g,B,p)},createStyleElement:function(e,t){document.body.appendChild(sf.base.createElement("style",{id:e,innerHTML:t}))},isLassoId:function(e,t){var i=document.elementFromPoint(e,t);return i?i.id:""},doErrorBarAnimation:function(e,t,i,o){var s=this.filterCommentElement(e),r=this.getElement(t);if(!s)return null;for(var n=1;n<s.length;)s[parseInt(n.toString(),10)].style.visibility="hidden",this.templateAnimate(s[parseInt(n.toString(),10)],i,350,o?"SlideLeftIn":"SlideBottomIn",!1,r),n++},getTemplateSize:function(e){var t=this.getElement(e);return t?{width:t.offsetWidth,height:t.offsetHeight}:null},resizeBound:{},resize:{},chartResize:function(e){var t=this;return this.isResized=!0,this.tooltipModule&&(B.removeTooltip(100,this),B.removeCrosshair(this,100)),this.tooltipModule=null,this.crosshair=null,this.markerExploded=!1,this.resize&&clearTimeout(this.resize),this.isDisposed||(this.resize=setTimeout((function(){for(var i,o,s,r=e.length,n={},a=0;a<r;a++)i=e[parseInt(a.toString(),10)].dotnetref,(o=e[parseInt(a.toString(),10)].id).indexOf("_stockChart_")<0&&document.getElementById(o+"_svg")&&((s=document.getElementById(o+"_svg")).style.display="none");for(a=0;a<r;a++)i=e[parseInt(a.toString(),10)].dotnetref,(o=e[parseInt(a.toString(),10)].id).indexOf("_stockChart_")<0&&document.getElementById(o)&&(s=document.getElementById(o),n[""+o]={Dotnetref:i,Width:s.clientWidth||s.offsetWidth,Height:s.clientHeight||s.offsetHeight});for(var l in n)n[""+l]&&(i=n[""+l].Dotnetref,(s=document.getElementById(l+"_svg")).style.display="",i.invokeMethodAsync("OnChartResize",JSON.stringify({Width:n[""+l].Width,Height:n[""+l].Height})));clearTimeout(t.resize)}),500)),!1},getDatalabelTemplateSize:function(e){this.setDatalabelAnnotationCollections(this.id);for(var t,i=[],o=e.length,s=0;s<o;s++)t=this.getElementBoundsById(e[parseInt(s.toString(),10)],!1),i.push({X:t.width,Y:t.height});return JSON.stringify(i)},getAxisLabelTemplatesSize:function(e){this.setDatalabelAnnotationCollections(this.id);for(var t,i=[],o=e.length,s=0;s<o;s++){var r=e[s],n=document.getElementById(r);if(n&&n.parentNode){var a=n.getBoundingClientRect();t={width:a.width,height:a.height},i.push({Width:t.width,Height:t.height})}else i.push({Width:0,Height:0})}return JSON.stringify(i)},setSvgDimensions:function(e,t,i,o,s){if(e.setAttribute("width",t),e.setAttribute("height",i),o&&!s){var r=e.parentElement.getAttribute("class");r&&-1===r.indexOf("e-chart-focused")?r+=" e-chart-focused":r||(r="e-chart-focused"),e.parentElement.setAttribute("class",r+" e-chart-focused")}this.setDatalabelAnnotationCollections(e.id.replace("_svg",""))},setDatalabelAnnotationCollections:function(e){var t=e.replace("_stockChart_chart",""),i=document.getElementById(e.replace("_stockChart_chart","")+"_svg").getBoundingClientRect(),o=document.getElementById(e).getBoundingClientRect(),s="position: relative; left: "+Math.max(i.left-o.left,0)+"px; top: "+Math.max(i.top-o.top,0)+"px;",r=document.querySelectorAll('[id*="_DataLabelCollections"]'),n=document.querySelectorAll('[id="'+t+'_Annotation_Collections"]'),a=document.querySelectorAll('[id*="_AxisLabelTemplate_Collections"]');r&&r.length>0&&r.forEach((function(e){e.setAttribute("style",s)})),n&&n.length>0&&n.forEach((function(e){e.setAttribute("style",s)})),a&&a.length>0&&a.forEach((function(e){e.setAttribute("style",s)}))},setKeyboardFocusStyle:function(e,t){if(!document.getElementById(this.id+"_Keyboard_ChartFocus")){var i=document.createElement("style");i.setAttribute("id",this.id+"_Keyboard_ChartFocus"),i.innerText=".e-chart-focused:focus, path[class*=_ej2_chart_selection_series]:focus,path[id*=_Point_]:focus, text[id*=_ChartTitle]:focus {outline: none } .e-chart-focused:focus-visible, path[class*=_ej2_chart_selection_series]:focus-visible,path[id*=_Point_]:focus-visible, text[id*=_ChartTitle]:focus-visible {outline: "+e+"; outline-offset: "+t+"px;}",document.body.appendChild(i)}},findDOMElement:function(e){return document.getElementById(e)},calculateSelectedElements:function(e,t){if(!sf.base.isNullOrUndefined(e.target)){var i=e.target,o=window.sfBlazor.getCompInstance(t);if(i=this.findDOMElement(this.findDOMElementFromDataLabel(i.id,o)),!("None"===o.selectionMode&&"None"===o.highlightMode||!sf.base.isNullOrUndefined(i)&&-1===i.id.indexOf(o.element.id+"_"))){if("mousemove"===e.type||"pointermove"===e.type){if(sf.base.isNullOrUndefined(i)&&i.id.indexOf("Trackball")>-1&&(i=this.findDOMElement(i.id.split("_Trackball")[0])),i.hasAttribute("class")&&(i.getAttribute("class").indexOf("highlight")>-1||i.getAttribute("class").indexOf("selection")>-1))return}else if("click"===e.type&&!sf.base.isNullOrUndefined(i)&&i.id.indexOf("legend")>-1&&!o.toggleVisibility&&"Series"!==o.selectionMode)return;if(this.isAlreadySelected(e,o),!sf.base.isNullOrUndefined(i)&&i.id.indexOf("_Series_")>-1){var s=void 0;if(i.id.indexOf("_Trackball_1")>-1)s=this.findDOMElement(i.id.split("_Trackball_")[0]+"_Symbol"),s=sf.base.isNullOrUndefined(s)?this.findDOMElement(i.id.split("_Trackball_")[0]):s;else if(i.id.indexOf("_Trackball_0")>-1||i.id.indexOf("_ErrorBarGroup_")>-1||i.id.indexOf("_ErrorBarCap_")>-1)return null;this.performSelection(this.indexFinder(i.id),o,s||i)}}}},generateStyle:function(e,t){var i,o=sf.base.isNullOrUndefined(this.findDOMElement(e))?null:this.findDOMElement(e).getAttribute("data-point");if(sf.base.isNullOrUndefined(this.findDOMElement(e))||(e.indexOf("SeriesGroup")>-1||e.indexOf("SymbolGroup")>-1)&&(o=(i=document.getElementById(e).querySelectorAll("path,ellipse")).length>0?i[0].getAttribute("data-point"):null),!o)return"undefined";var s=o.split(",");return s[3]?(t.styleId.indexOf("selection")>1&&"None"!==t.selectionMode&&(t.unSelected=s[7]||t.unSelected),t.styleId.indexOf("highlight")>0&&("None"!==t.highlightMode||t.enableHighlight)&&(t.unSelected=s[5]||t.unSelected),s[6]||t.styleId+"_series"+s[4]):"undefined"},findDOMElementFromDataLabel:function(e,t){if(e.indexOf("Text")>-1&&e.indexOf("Series")>-1){var i=e.split("_Text_")[0];return this.isRectSeries(t.seriesTypes[e.split("_Series_")[1].split("_")[0]])||"Bubble"===t.seriesTypes[0]||"Scatter"===t.seriesTypes[0]?i:i.slice(0,i.length)+"_Symbol "}return e},indexFinder:function(e){var t=["NaN","NaN"];return e.indexOf("_Point_")>-1?(t=e.split("_Series_")[1].split("_Point_"))[1].indexOf("Text")>-1&&(t[1]=t[1].split("_Text_")[0]):e.indexOf("_shape_")>-1&&!e.indexOf("_legend_")?(t=e.split("_shape_"))[0]=t[1]:e.indexOf("_text_")>-1&&!e.indexOf("_legend_")?(t=e.split("_text_"),e.indexOf("datalabel")>-1?t[0]=t[0].split("_Series_")[1]:t[0]=t[1]):!(e.indexOf("Series")>-1)||e.indexOf("points")>-1||e.indexOf("_legend_")||(t[0]=e.split("_Series_")[1].split("_")[0]),new n(parseInt(t[0],10),parseInt(t[1],10))},addOrRemoveIndex:function(e,t,i,o){for(var s=0;s<e.length;s++)this.toEquals(e[parseInt(s.toString(),10)],t,i.isSeriesMode,i)&&(e.splice(s,1),s--);o&&e.push(t)},toEquals:function(e,t,i,o){return(e.series===t.series||"Cluster"===o.currentMode&&!i)&&(i||e.point===t.point)},removeSvgClass:function(e,t){var i=sf.base.isNullOrUndefined(e)||sf.base.isNullOrUndefined(e.getAttribute("class"))?"":e.getAttribute("class");i.indexOf(t)>-1&&e.setAttribute("class",i.replace(t,""))},getSelectionClass:function(e,t){return this.generateStyle(e,t)},removeStyles:function(e,t){for(var i=0,o=e;i<o.length;i++){var s=o[i];if(!sf.base.isNullOrUndefined(s)){var r=s,n=s.id,a=this.findDOMElement(r.id).getAttribute("data-point"),l=a?a.split(","):[];if(r.id.indexOf("_chart_legend_shape_")>-1&&(n=t.element.id+"SeriesGroup"+t.currentSeriesIndex),this.removeSvgClass(s,this.getSelectionClass(n,t)),"None"===t.highlightPattern&&""!==t.highlightColor&&!sf.base.isNullOrUndefined(t.highlightColor))if(s.id.indexOf("Group")>0)for(var h=0;h<s.children.length;h++)s.children[parseInt(h.toString(),10)].setAttribute("fill",l[2]);else s.setAttribute("fill",l[2])}}},findTrackballElements:function(e,t,i){var o,s;t=t.trim();for(var r=0;r<e.length;r++)if(!sf.base.isNullOrUndefined(e[parseInt(r.toString(),10)])&&(o=sf.base.isNullOrUndefined(e[parseInt(r.toString(),10)].parentNode)?[]:[].slice.call(e[0].parentNode.querySelectorAll("."+t))).length>0){s=[];for(var n=0;n<o.length;n++)o[parseInt(n.toString(),10)].id.indexOf("Trackball")>-1&&s.push(o[parseInt(n.toString(),10)]);this.removeStyles(s,i)}},blurEffect:function(e,t,i){void 0===i&&(i=!1);for(var o=this.checkVisibility(t.highlightDataIndexes,t)||this.checkVisibility(t.selectedDataIndexes,t),s=document.getElementById(t.element.id+"SeriesCollection").querySelectorAll('[id*="SeriesGroup"]'),r=0;r<s.length;r++){var n=parseInt(s[parseInt(r.toString(),10)].id.split("SeriesGroup")[1],10);this.checkSelectionElements(this.findDOMElement(t.element.id+"SeriesGroup"+n),this.generateStyle(t.element.id+"SeriesGroup"+n,t),o,i,n,t),sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SymbolGroup"+n))||this.checkSelectionElements(this.findDOMElement(t.element.id+"SymbolGroup"+n),this.generateStyle(t.element.id+"SymbolGroup"+n,t),o,i,n,t),!sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"TextGroup"+n))&&i&&this.checkSelectionElements(this.findDOMElement(t.element.id+"TextGroup"+n),this.generateStyle(t.element.id+"TextGroup"+n,t),o,i,n,t),!sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"ShapeGroup"+n))&&i&&this.checkSelectionElements(this.findDOMElement(t.element.id+"ShapeGroup"+n),this.generateStyle(t.element.id+"ShapeGroup"+n,t),o,i,n,t)}},checkVisibility:function(e,t){if(!e)return!1;for(var i=!1,o=[],s=0,r=e;s<r.length;s++){var n=r[s];-1===o.indexOf(n.series)&&o.push(n.series)}for(var a=0,l=o;a<l.length;a++){n=l[a];var h=document.getElementById(t.element.id+"SeriesGroup"+n),d=t.seriesTypes[parseInt(n.toString(),10)].indexOf("Stacking")>-1?!sf.base.isNullOrUndefined(h)&&!sf.base.isNullOrUndefined(h.getAttribute("data-point"))&&"True"===h.getAttribute("data-point").split(/(?![^(]*\)),/)[8]:!sf.base.isNullOrUndefined(h);if(!sf.base.isNullOrUndefined(h)&&d){i=!0;break}}return i},findElements:function(e,t,i,o,s){return void 0===o&&(o=""),e.isSeriesMode?this.getSeriesElements(i.series.toString(),e):"Cluster"===e.currentMode?this.getClusterElements(e,i):this.findDOMElementByIndex(e,i,o,s)},removeMultiSelectElements:function(e,t,i){for(var o,s=0;s<t.length;s++)o=e.seriesTypes[t[parseInt(s.toString(),10)].series],!sf.base.isNullOrUndefined(o)&&(e.isSeriesMode&&!this.toEquals(t[parseInt(s.toString(),10)],i,e.isSeriesMode,e)||"Cluster"===e.currentMode&&!this.toEquals(t[parseInt(s.toString(),10)],i,!1,e)||!e.isSeriesMode&&this.toEquals(t[parseInt(s.toString(),10)],i,!0,e)&&!this.toEquals(t[parseInt(s.toString(),10)],i,!1,e))&&(this.removeStyles(this.findElements(e,o,t[parseInt(s.toString(),10)],"",!1),e),e.element.id+"SymbolGroup"+t[parseInt(s.toString(),10)].series&&this.removeStyles(this.findElements(e,o,t[parseInt(s.toString(),10)],"",!0),e),t.splice(s,1),s--)},checkSelectionElements:function(e,t,i,o,s,r){void 0===o&&(o=!1);var n,a,l=[];t=t.trim(),e.id.indexOf("Series")>-1&&(this.pointIdRequired(r.seriesTypes[parseInt(s.toString(),10)])?(l=r.isSeriesMode?[e]:e.querySelectorAll('[id*="_Series"]'),"Histogram"===r.seriesTypes[parseInt(s.toString(),10)]&&l.push(this.findDOMElement(r.element.id+"_Series_"+s+"_NDLine")),"Waterfall"===r.seriesTypes[parseInt(s.toString(),10)]&&l.push(this.findDOMElement(r.element.id+"_Series_"+s+"_Connector")),"BoxAndWhisker"===r.seriesTypes[parseInt(s.toString(),10)]&&(l=this.findDOMElement(r.element.id+"SymbolGroup"+s).querySelectorAll("path,ellipse"))):l=r.isSeriesMode?[e]:e.querySelectorAll('[id*="_Series"]')),("None"!==r.selectionMode||"None"!==r.highlightMode||r.enableHighlight)&&(l=e.querySelectorAll('[id*="_Series"]'));for(var h=e,d=this.isRectSeries(r.seriesTypes[parseInt(s.toString(),10)])?!sf.base.isNullOrUndefined(r.element.id+"TextGroup"+s)&&o?this.findDOMElement(r.element.id+"_Series_"+s+"_Point_"+s):null:this.findDOMElement(r.element.id+"_Series_"+s),c=0;c<l.length;c++){if(n=l[parseInt(c.toString(),10)].getAttribute("class")||"",a=sf.base.isNullOrUndefined(d)?"":d.getAttribute("class")?d.getAttribute("class"):"",("None"!==r.selectionMode||"None"!==r.highlightMode||r.enableHighlight)&&(t=!sf.base.isNullOrUndefined(n)&&(n.indexOf("selection")>0||n.indexOf("highlight")>0)?n:t,t=!sf.base.isNullOrUndefined(n)&&(a.indexOf("selection")>0||a.indexOf("highlight")>0)?a:t),sf.base.isNullOrUndefined(n)||sf.base.isNullOrUndefined(a)||-1!==n.indexOf(t)||-1!==a.indexOf(t)||!i){if(h=l[parseInt(c.toString(),10)],this.removeSvgClass(l[parseInt(c.toString(),10)],r.unSelected),this.removeSvgClass(d,r.unSelected),r.tooltipBase.enableHighlight&&o)l[parseInt(c.toString(),10)].style.opacity=""}else this.addSvgClass(l[parseInt(c.toString(),10)],r.unSelected);l[parseInt(c.toString(),10)].id.indexOf("Trackball")>0&&h.classList[0]===t&&(this.removeSvgClass(l[parseInt(c.toString(),10)],r.unSelected),this.removeSvgClass(d,r.unSelected),this.addSvgClass(l[parseInt(c.toString(),10)],t))}if(e.id.indexOf("Symbol")>-1){var u=t.trim().split(/\s+/).map((function(e){return"."+e})).join(""),m=e.querySelectorAll(u);if(m.length>0&&m[0].getAttribute("class")===t){var g=this.findDOMElement(r.element.id+"_Series_"+e.id[e.id.length-1]);(g&&g.hasAttribute("class")?g.getAttribute("class"):"").indexOf(r.unSelected)>-1&&this.removeSvgClass(g,r.unSelected)}}var p,f=this.findDOMElement(e.id).getAttribute("data-point");if((e.id.indexOf("SeriesGroup")>-1||e.id.indexOf("SymbolGroup")>-1)&&(f=(p=document.getElementById(e.id).querySelectorAll("path,ellipse")).length>0?p[0].getAttribute("data-point"):null),f){var b=f.split(","),v=this.findDOMElement(r.id+"_chart_legend_shape_"+s);v&&(v.hasAttribute("class")&&(this.removeSvgClass(v,v.getAttribute("class")),sf.base.isNullOrUndefined(r.highlightColor&&""!==r.highlightColor)||(v.setAttribute("stroke",b[2]),"None"===r.highlightPattern&&v.setAttribute("fill",b[2]))),n=h.getAttribute("class")||"",a=h.parentNode.getAttribute("class")||"",-1===n.indexOf(t)&&-1===a.indexOf(t)&&i?(this.addSvgClass(v,r.unSelected),this.removeSvgClass(v,t),""===r.highlightColor||sf.base.isNullOrUndefined(r.highlightColor)||(v.setAttribute("stroke",b[2]),"None"===r.highlightPattern&&v.setAttribute("fill",b[2]))):(this.removeSvgClass(v,r.unSelected),sf.base.isNullOrUndefined(r.highlightColor)||""===r.highlightColor||(v.setAttribute("stroke",b[2]),"None"===r.highlightPattern&&v.setAttribute("fill",b[2])),"e-chart-focused"===n.trim()&&(n=""),""===n&&""===a||"EJ2-Trackball"===n.trim()?this.removeSvgClass(v,t):(this.addSvgClass(v,t),t.indexOf("highlight")>0&&""!==r.highlightColor&&!sf.base.isNullOrUndefined(r.highlightColor)&&(v.setAttribute("stroke",r.highlightColor),r.styleId.indexOf("highlight")>0&&"None"===r.highlightPattern&&v.setAttribute("fill",r.highlightColor)))),o&&a.indexOf(t)>-1&&this.addSvgClass(v,t))}},addSvgClass:function(e,t){var i=e.getAttribute("class")||"";-1===(i+=""!==i?" ":"").indexOf(t)&&e.setAttribute("class",i+t)},isRectSeries:function(e){return"Column"===e||"StackingColumn"===e||"StackingColumn100"===e||"Bar"===e||"StackingBar"===e||"StackingBar100"===e||"RangeColumn"===e||"Histogram"===e||"BoxAndWhisker"===e||"Waterfall"===e||"Pareto"===e||"RangeArea"===e||"SplineRangeArea"===e||"RangeStepArea"===e||"Hilo"===e||"HiloOpenClose"===e||"Candle"===e},pointIdRequired:function(e){return!(!this.isRectSeries(e)&&"Bubble"!==e&&"Scatter"!==e)},getSeriesElements:function(e,t,i){var o;void 0===i&&(i=!1);var s=[],r=!sf.base.isNullOrUndefined(document.getElementById(t.element.id+"SymbolGroup"+e))&&"Scatter"!==t.seriesTypes[parseInt(e.toString(),10)]&&"Bubble"!==t.seriesTypes[parseInt(e.toString(),10)]&&!this.isRectSeries(t.seriesTypes[parseInt(e.toString(),10)]);r?(o=this.findDOMElement(t.element.id+"SymbolGroup"+e).querySelectorAll("#"+t.element.id+"SymbolGroup"+e+" path"),s=this.addSeriesElements(s,o),sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SymbolGroup"+e).querySelectorAll("#"+t.element.id+"SymbolGroup"+e+" ellipse"))||(o=this.findDOMElement(t.element.id+"SymbolGroup"+e).querySelectorAll("#"+t.element.id+"SymbolGroup"+e+" ellipse"),s=this.addSeriesElements(s,o)),s=i?this.addTextAndShapeGroups(s,t,e):s):sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SeriesGroup"+e))||(o=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" path"),s=this.addSeriesElements(s,o),sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" ellipse"))||(o=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" ellipse"),s=this.addSeriesElements(s,o)),s=i?this.addTextAndShapeGroups(s,t,e):s);var n=document.getElementById(t.element.id+"SymbolGroup"+e);if(n&&this.isRectSeries(t.seriesTypes[parseInt(e.toString(),10)])){o=n.querySelectorAll("path"),s=this.addSeriesElements(s,o);var a=n.querySelectorAll("ellipse");a.length>0&&(s=this.addSeriesElements(s,a))}if((t.seriesTypes[parseInt(e.toString(),10)].indexOf("Area")>-1||t.seriesTypes[parseInt(e.toString(),10)].toLowerCase().indexOf("line")>-1)&&(r?(o=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" path"),s.push.apply(s,this.addSeriesElements(s,o))):sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SeriesGroup"+e))||(o=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" path"),s=this.addSeriesElements(s,o)),s=i?this.addTextAndShapeGroups(s,t,e):s),"Histogram"===t.seriesTypes[parseInt(e.toString(),10)]){var l=this.findDOMElement(t.element.id+"_Series_"+e+"_NDLine");s.push(l),s=i?this.addTextAndShapeGroups(s,t,e):s}return"Polar"!==t.seriesTypes[parseInt(e.toString(),10)]&&"Radar"!==t.seriesTypes[parseInt(e.toString(),10)]||"Scatter"!==t.drawType[parseInt(e.toString(),10)]||sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SeriesGroup"+e))||(o=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" path"),s=this.addSeriesElements(s,o),sf.base.isNullOrUndefined(this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" ellipse"))||(o=this.findDOMElement(t.element.id+"SeriesGroup"+e).querySelectorAll("#"+t.element.id+"SeriesGroup"+e+" ellipse"),s=this.addSeriesElements(s,o)),s=i?this.addTextAndShapeGroups(s,t,e):s),s},addSeriesElements:function(e,t){for(var i=0;i<t.length;i++){var o=document.getElementById(t[parseInt(i.toString(),10)].id);sf.base.isNullOrUndefined(o)||e.push(o),e=e.filter((function(e,t,i){return t===i.indexOf(e)}))}return e},addTextAndShapeGroups:function(e,t,i){var o=document.getElementById(t.element.id+"TextGroup"+i);sf.base.isNullOrUndefined(o)||e.push(o);var s=document.getElementById(t.element.id+"ShapeGroup"+i);return sf.base.isNullOrUndefined(s)||e.push(s),e},findDOMElementByIndex:function(e,t,i,o){void 0===i&&(i="");var s=e.element.id+"_Series_"+t.series+"_Point_"+t.point,r=e.seriesTypes[""+t.series];return s=!this.isRectSeries(r)&&"Scatter"!==r&&"Bubble"!==r&&o?s+"_Symbol"+i:s,"BoxAndWhisker"===r&&(s+="_BoxPath"),[this.findDOMElement(s),"RangeArea"!==r&&"SplineRangeArea"!==r||!o?null:this.findDOMElement(s+"1")]},applyStyles:function(e,t){for(var i=0,o=e;i<o.length;i++){var s=o[i];if(s&&(this.removeSvgClass(s,t.unSelected),this.addSvgClass(s,this.getSelectionClass(s.id,t)),t.styleId.indexOf("highlight")>0&&""!==t.highlightColor&&!sf.base.isNullOrUndefined(t.highlightColor)&&"None"===t.highlightPattern))if(s.id.indexOf("Group")>0)for(var r=0;r<s.children.length;r++)s.children[parseInt(r.toString(),10)].setAttribute("fill",t.highlightColor);else s.setAttribute("fill",t.highlightColor)}},getClusterElements:function(e,t){for(var i,o,s,r,a=[],l=document.getElementById(e.element.id+"SeriesCollection").querySelectorAll('[id*="SeriesGroup"]'),h=0;h<l.length;h++){s=l[parseInt(h.toString(),10)].querySelectorAll("#"+l[parseInt(h.toString(),10)].id+" path"),r=Array.prototype.slice.call(s);for(var d=0;d<r.length;d++){var c=r[parseInt(h.toString(),10)].getAttribute("data-point").split(",");t=new n(+c[4],t.point),this.isRectSeries(c[3])&&a.push(this.findDOMElementByIndex(e,t)[0]),a.push(this.findDOMElementByIndex(e,t,"","True"===c[9])[0]),i=this.generateStyle(r[parseInt(h.toString(),10)].id,e),o=document.querySelectorAll("."+i),this.findTrackballElements(o,i);var u="True"===c[9]&&this.isRectSeries(c[3])?2:1;!e.allowMultiSelection&&o.length>0&&o[0].id!==a[a.length-u].id&&this.removeSelection(e,t.series,o,i,!0)}}return a},clusterSelection:function(e,t){this.selection(e,t,this.getClusterElements(e,new n(t.series,t.point)))},removeSelection:function(e,t,i,o,s,r){var a;if(i.length>0){for(var l=[],h=0;h<i.length;h++)l.push(i[parseInt(h.toString(),10)]);this.removeStyles(l,e),e.isSeriesMode=!0,this.addOrRemoveIndex(e.selectedDataIndexes,new n(t,NaN),e);for(var d=0;d<i.length;d++)if(a=i[parseInt(d.toString(),10)].id,o=this.generateStyle(a,e),document.querySelectorAll("."+o).length>0){for(var c=0,u=l;c<u.length;c++){var m=u[c];this.checkSelectionElements(m,o,!0,!0,t,e)}s=!1;break}s&&(e.isSeriesMode="Series"===e.selectionMode,this.blurEffect(a,e,r))}},isAlreadySelected:function(e,t){var i=e.target,o=!!i&&i.id.indexOf("legend")>-1;if("click"!==e.type||o&&(!o||t.toggleVisibility)?("mousemove"===e.type||"pointermove"===e.type||"click"===e.type&&o&&t.enableHighlight)&&(t.currentMode=t.highlightMode,t.highlightDataIndexes=[],t.styleId=t.element.id+"_ej2_chart_highlight"):(t.currentMode=t.selectionMode,t.styleId=t.element.id+"_ej2_chart_selection"),("None"!==t.highlightMode||t.enableHighlight)&&"None"===t.selectionMode&&"click"===e.type&&(!o||o&&!t.enableHighlight))return!1;if(("None"!==t.highlightMode||t.enableHighlight)&&0!==t.previousSelectedEle.length&&!sf.base.isNullOrUndefined(t.previousSelectedEle[0])){t.previousSelectedEle.filter((function(e){return!sf.base.isNullOrUndefined(e)}));var s=sf.base.isNullOrUndefined(i)?"":i.parentNode.id,r=void 0;!sf.base.isNullOrUndefined(i)&&i.parentNode&&(r=s.indexOf("Point")>0||s.indexOf("Symbol")>0);for(var n=0;n<t.previousSelectedEle.length;n++)if(t.previousSelectedEle[parseInt(n.toString(),10)].hasAttribute("class"))if(t.previousSelectedEle[parseInt(n.toString(),10)].getAttribute("class").indexOf("highlight")>-1&&(r||"click"===e.type)){if(t.previousSelectedEle[parseInt(n.toString(),10)].removeAttribute("class"),""!==t.highlightColor&&!sf.base.isNullOrUndefined(t.highlightColor)&&"None"===t.highlightPattern)if(t.previousSelectedEle[parseInt(n.toString(),10)].id.indexOf("Group")>0)for(var a=0;a<t.previousSelectedEle[parseInt(n.toString(),10)].children.length;a++){var l=t.previousSelectedEle[parseInt(n.toString(),10)].children[parseInt(a.toString(),10)];l.setAttribute("fill",l.getAttribute("data-point").split(",")[2])}else t.previousSelectedEle[parseInt(n.toString(),10)].setAttribute("fill",t.previousSelectedEle[parseInt(n.toString(),10)].getAttribute("data-point").split(",")[2]);this.addOrRemoveIndex(t.highlightDataIndexes,this.indexFinder(t.previousSelectedEle[parseInt(n.toString(),10)].id),t)}else!r&&t.previousSelectedEle[parseInt(n.toString(),10)].getAttribute("class").indexOf("highlight")>-1&&this.performSelection(this.indexFinder(t.previousSelectedEle[parseInt(n.toString(),10)].id),t,t.previousSelectedEle[parseInt(n.toString(),10)])}return!0},performSelection:function(e,t,i){if(t.isSeriesMode="Series"===t.currentMode,"BoxAndWhisker"===t.seriesTypes[e.series]&&i&&i.id===t.element.id+"_Series_"+e.series+"_Point_"+e.point+"_BoxPath"&&(i=i.parentNode),"Area"===t.seriesTypes[e.series]&&("Point"===t.currentMode||"Cluster"===t.currentMode)&&i&&i.id===t.element.id+"_Series_"+e.series){var o=this.generateStyle(i.id,t),s=document.querySelectorAll("."+o);sf.base.isNullOrUndefined(s)||(this.findTrackballElements(s,o),this.blurEffect(i.id,t,"True"===i.getAttribute("data-point").split(",")[8]))}switch(t.currentMode){case"Series":this.removeHighlightELements(t),this.selection(t,e,this.getSeriesElements(e.series.toString(),t)),this.selectionComplete(t,e,t.selectionMode),this.blurEffect(sf.base.isNullOrUndefined(i)?"":i.id,t);break;case"Point":if(this.removeHighlightELements(t),!isNaN(e.point)&&i){var r=[],n=i.id.indexOf("_Symbol")>-1;r.push(i),!n||"Column"!==t.seriesTypes[e.series]&&"Bar"!==t.seriesTypes[e.series]||r.push(this.getElement(i.id.replace("_Symbol",""))),this.selection(t,e,r),this.selectionComplete(t,e,t.selectionMode),this.blurEffect(i.id,t)}break;case"Cluster":this.removeHighlightELements(t),isNaN(e.point)||(this.clusterSelection(t,e),this.selectionComplete(t,e,t.selectionMode),this.blurEffect(i.id,t))}},removeHighlightELements:function(e){document.querySelectorAll('[id^="'+e.id+'_Series_"]').forEach((function(e){e.style.opacity=""}))},selection:function(e,t,i){if(i=i.filter((function(e){return!sf.base.isNullOrUndefined(e)})),"Lasso"!==e.currentMode&&(e.allowMultiSelection||-1!==e.currentMode.indexOf("Drag")||-1!==e.styleId.indexOf("highlight")||"None"===e.selectionMode||this.removeMultiSelectElements(e,e.selectedDataIndexes,t,i)),!sf.base.isNullOrUndefined(i[0])){this.isRectSeries(e.seriesTypes[t.series])&&"Histogram"!==e.seriesTypes[t.series]&&i[0].id&&(document.getElementById(i[0].id+"_Symbol")?i.push(this.findDOMElement(i[0].id+"_Symbol")):-1!==i[0].id.indexOf("SeriesGroup")&&document.getElementById(i[0].id.replace("SeriesGroup","SymbolGroup"))&&i.push(this.findDOMElement(i[0].id.replace("SeriesGroup","SymbolGroup"))));var o=void 0,s=i[0]&&(i[0].getAttribute("class")||""),r=i[0].parentNode&&(i[0].parentNode.getAttribute("class")||"");""!==s&&"Cluster"!==e.currentMode&&this.findTrackballElements(i,s),i[0]&&s.indexOf(this.getSelectionClass(i[0].id,e))>-1?this.removeStyles(i,e):i[0].parentNode&&r.indexOf(this.getSelectionClass(i[0].id,e))>-1?this.removeStyles([i[0].parentNode],e):(e.previousSelectedEle="None"!==e.highlightMode||e.enableHighlight?i:[],this.applyStyles(i,e),o=!0),e.styleId.indexOf("highlight")>0&&("None"!==e.highlightMode||e.enableHighlight)?this.addOrRemoveIndex(e.highlightDataIndexes,t,e,o):this.addOrRemoveIndex(e.selectedDataIndexes,t,e,o)}},resetPreviousHighlightIndex:function(e){e.previousHighlightedIndex=-1},isTargetChanged:function(e,t){var i=!1,o=!1;return-1===t.previousHighlightedIndex&&(i=!0),t.previousHighlightedIndex===e&&(o=!0),t.previousHighlightedIndex=e,!o||i},legendSelection:function(e,t){var i,o,s,r=e.target.id,a=window.sfBlazor.getCompInstance(t),l=[a.id+"_chart_legend_text_",a.id+"_chart_legend_shape_marker_",a.id+"_chart_legend_shape_",a.id+"_chart_legend_g_"],h="None";if(!this.isDragSelection&&-1!==r.indexOf("legend")&&-1===r.indexOf("legend_page")&&!a.isTouch){for(var d=0;d<l.length;d++)if(!r.indexOf(l[parseInt(d.toString(),10)])){o=parseInt(r.split(l[parseInt(d.toString(),10)])[1],10);break}if(a.currentSeriesIndex=o,s=r.indexOf("text")<=0?B.findDOMElement(r):null,"mousemove"===e.type||"click"===e.type&&a.enableHighlight){if(r.indexOf("text")&&(s=B.findDOMElement(r.replace("text","shape"))),s.hasAttribute("class")&&!a.enableHighlight&&a.styleId.indexOf("highlight")>0&&("None"!==a.highlightMode||a.enableHighlight)&&a.styleId.indexOf("selection")>1&&"None"!==a.selectionMode)return;"None"===(h=a.highlightMode)&&a.enableHighlight&&(h="Series"),a.tooltipBase&&a.tooltipBase.enableHighlight&&!this.isHighlightRemoved&&(this.removeHighlight(a),this.isHighlightRemoved=!0)}var c=this.isAlreadySelected(e,a),u=this.findDOMElement(a.element.id+"SeriesGroup"+o),m=a.seriesTypes[parseInt(o.toString(),10)].indexOf("Stacking")>-1?!sf.base.isNullOrUndefined(u)&&!sf.base.isNullOrUndefined(u.getAttribute("data-point"))&&"True"===u.getAttribute("data-point").split(/(?![^(]*\)),/)[8]:!sf.base.isNullOrUndefined(u);if(c&&!sf.base.isNullOrUndefined(u)&&m)if(this.seriesStyle=this.generateStyle(a.element.id+"SeriesGroup"+o,a),i=document.querySelectorAll("."+this.seriesStyle),this.isSeriesMode="Series"===h,this.isBlurEffectNeeded=!0,i.length>0)this.removeSelection(a,o,i,this.seriesStyle,this.isBlurEffectNeeded,!0);else{for(var g=document.getElementById(a.element.id+"SeriesCollection").querySelectorAll('[id*="SeriesGroup"]'),p=0;p<g.length;p++){var f=g[parseInt(p.toString(),10)].id.indexOf("TrendLineSeriesGroup")>-1?+g[parseInt(p.toString(),10)].id.split("TrendLineSeriesGroup")[1]:+g[parseInt(p.toString(),10)].id.split("SeriesGroup")[1];a.allowMultiSelection||f===o||(this.seriesStyle=this.generateStyle(g[parseInt(p.toString(),10)].id,a),i=document.querySelectorAll("."+this.seriesStyle),this.removeSelection(a,o,i,this.seriesStyle,this.isBlurEffectNeeded))}var b=this.getSeriesElements(o.toString(),a,!0);for(d=0;d<b.length;d++)this.checkSelectionElements(b[parseInt(d.toString(),10)],this.seriesStyle,!1,!0,o,a);a.isSeriesMode=!0;var v=new n(o,0);this.selection(a,v,b),this.isSeriesMode="Series"===this.selectionMode,this.blurEffect(a.element.id,a,!0),a.isLegendHighlighting=!0,a.prevHighlightedSeriesIndex=o}else sf.base.isNullOrUndefined(s)||!(r.indexOf("legend")>-1)||m||a.enableHighlight&&a.disabledLegendIndexes.indexOf(o)>-1||this.resetPreviousHighlightIndex(a),!sf.base.isNullOrUndefined(s)&&"None"===a.highlightMode&&r.indexOf("legend")>-1&&(a.isLegendHighlighting=!1,a.prevHighlightedSeriesIndex=-1,this.removeSelectionStyles(a.dataId))}},selectionComplete:function(e,t,i){var o,s,r,n,a,l,h,d,c,u,m=[],g=this.getSeriesElements(t.series.toString(),e);if("Cluster"===i){for(var p=0;p<g.length;p++)if(c=this.findDOMElement(g[parseInt(p.toString(),10)].id).getAttribute("data-point").split(",")[3],u=this.findDOMElement(g[parseInt(p.toString(),10)].id).getAttribute("data-point").split(",")[11],r=+this.findDOMElement(g[parseInt(p.toString(),10)].id).getAttribute("data-point").split(",")[10],"visible"===this.findDOMElement(g[parseInt(p.toString(),10)].id).getAttribute("visibility"))for(var f=0;f<e.selectedDataIndexes.length;f++)n=e.allowMultiSelection?e.selectedDataIndexes[parseInt(f.toString(),10)].point:t.point,a=+this.findDOMElement(g[parseInt(p.toString(),10)].id).getAttribute("data-point").split(",")[4],o=+this.findDOMElement(g[parseInt(p.toString(),10)].id).getAttribute("data-point").split(",")[0],s=+this.findDOMElement(g[parseInt(p.toString(),10)].id).getAttribute("data-point").split(",")[1],isNaN(n)||(h="RangeArea"!==c&&"SplineRangeArea"!==c?s:r,d=o),"Category"===e.primaryXAxis?d=o.toLocaleString():"DateTime"===e.primaryXAxis&&(d=new Date(o)),"Indicator"!==u&&m.push({x:d,y:h,seriesIndex:a,pointIndex:n}),"RangeArea"!==c&&"SplineRangeArea"!==c||m.push({x:d,y:r,seriesIndex:a,pointIndex:n})}else if("Series"===i)if(e.allowMultiSelection)for(p=0;p<e.selectedDataIndexes.length;p++)a=e.selectedDataIndexes[parseInt(p.toString(),10)].series,m.push({seriesIndex:a});else a=e.selectedDataIndexes.length>0?e.selectedDataIndexes[0].series:0,m.push({seriesIndex:a});else if("Point"===i)for(p=0;p<e.selectedDataIndexes.length;p++){var b=e.selectedDataIndexes[parseInt(p.toString(),10)];n=b.point,a=b.series,l=this.findElementId(e,b),o=+this.findDOMElement(l).getAttribute("data-point").split(",")[0],s=+this.findDOMElement(l).getAttribute("data-point").split(",")[1],r=+this.findDOMElement(l).getAttribute("data-point").split(",")[10],isNaN(n)||(d=o,h="RangeArea"!==c&&"SplineRangeArea"!==c?s:r,"Category"===e.primaryXAxis?d=o.toLocaleString():"DateTime"===e.primaryXAxis&&(d=new Date(o)),m.push({x:d,y:h,seriesIndex:a,pointIndex:n}))}e.dotnetref.invokeMethodAsync("OnSelectionChange",m)},storeToggledLegendIndexes:function(e,t,i){for(var o,s=0,r=[this.id+"_chart_legend_text_",this.id+"_chart_legend_shape_marker_",this.id+"_chart_legend_shape_",this.id+"_chart_legend_g_"];s<r.length;s++){var n=r[s];if("string"==typeof e.id&&-1!==e.id.indexOf(n)){var a=e.id.split(n);if(a.length>1){o=parseInt(a[1],10);break}}}void 0!==o&&(-1!==t.disabledLegendIndexes.indexOf(o)?(t.currentToggledBackLegendIndex=o,t.currentLegendClickEvent=i):(t.currentToggledBackLegendIndex=-1,t.currentLegendClickEvent=null,t.disabledLegendIndexes.push(o)))},performLegendClickHighlight:function(e){var t=window.sfBlazor.getCompInstance(e);t.disabledLegendIndexes.length>0&&-1!==t.currentToggledBackLegendIndex&&(this.legendSelection(t.currentLegendClickEvent,e),t.disabledLegendIndexes.splice(t.disabledLegendIndexes.indexOf(t.currentToggledBackLegendIndex),1),t.currentToggledBackLegendIndex=-1,t.currentLegendClickEvent=null)},addTouchPointer:function(e,t,i){if(i.length>0)e=i;else if(0===(e=e.length>0?e:[]).length)e.push({pageX:t.mouseX,pageY:t.mouseY,pointerId:t.pointerId});else for(var o=0;o<e.length;o++)e[parseInt(o.toString(),10)].pointerId===t.pointerId?e[parseInt(o.toString(),10)]={pageX:t.mouseX,pageY:t.mouseY,pointerId:t.pointerId}:e.push({pageX:t.mouseX,pageY:t.mouseY,pointerId:t.pointerId});return e},onZoomingMouseMove:function(e,t){if(!(t&&t.zoomBase&&t.zoomBase.isSkipZooming)){var i=[];"touchmove"===e.type&&(i=e.touches),t.zoomBase.isChartDrag&&(t.zoomBase.zoomSettings.isOnZoomStartCalled&&(t.dotnetref.invokeMethodAsync("TriggerZoomingEvents","OnZoomStart",!t.zoomBase.zoomingModule.isZoomStart),t.zoomBase.zoomingModule.isZoomStart=!1),t.isTouch&&(t.zoomBase.zoomingModule.touchMoveList=this.addTouchPointer(t.zoomBase.zoomingModule.touchMoveList,e,i),t.zoomBase.zoomSettings.enablePinchZooming&&t.zoomBase.zoomingModule.touchMoveList.length>1&&t.zoomBase.zoomingModule.touchStartList.length>1&&this.performPinchZooming(t)),this.renderZooming(e,t,t.isTouch),t.isTouch&&t.zoomBase.isDoubleTap&&(t.selectionMode.indexOf("Drag")>-1||t.selectionMode.indexOf("Lasso")>-1)&&(t.zoomBase.isDoubleTap=!1))}},onZoomingMouseEnd:function(e,t){if(!(t&&t.zoomBase&&t.zoomBase.isSkipZooming)){t.zoomBase.isChartDrag=!1;var i=!(e.target.indexOf(t.element.id+"_ZoomOut")>-1)||e.target.indexOf(t.element.id+"_ZoomIn")>-1;(t.zoomBase.isChartDrag||i)&&(this.clearSelectionRect(t.element.id+"_ZoomArea"),this.performZoomRedraw(t),t.zoomBase.zoomSettings.isOnZoomEndCalled&&!t.zoomToolkitBase.isReset&&t.zoomBase.zoomingModule.zoomAxes.length>0&&t.dotnetref.invokeMethodAsync("TriggerZoomingEvents","OnZoomEnd",!1),t.zoomBase.zoomingModule.isZoomStart=!0),t.isTouch&&(t.zoomBase.isDoubleTap&&sf.svgbase.withInAreaBounds(t.mouseX,t.mouseY,t.userInteractionBase.axisClipRect)&&1===t.zoomBase.zoomingModule.touchStartList.length&&t.zoomBase.zoomingModule.isZoomed&&(this.zoomToolkitReset(t),t.zoomBase.zoomingModule.isZoomStart=!0),t.zoomBase.zoomingModule.touchStartList=[],t.zoomBase.isDoubleTap=!1),t.userInteractionBase.disableTrackTooltip=!1,t.zoomToolkitBase.isReset=!1,t.zoomBase.zoomingModule.zoomAxes=[]}},onZoomingMouseDown:function(e,t,i,o){if(!(o&&o.zoomBase&&o.zoomBase.isSkipZooming)){var s=e.target,r=sf.base.Browser.isDevice?20:30,n=document.getElementById(o.element.id.replace("_stockChart_chart","")+"_svg").getBoundingClientRect(),a=document.getElementById(o.element.id).getBoundingClientRect();o.zoomBase.mouseDownX=o.zoomBase.previousMouseMoveX=t-a.left-Math.max(n.left-a.left,0),o.zoomBase.mouseDownY=o.zoomBase.previousMouseMoveY=i-a.top-Math.max(n.top-a.top,0),o.isTouch&&(o.zoomBase.isDoubleTap=(new Date).getTime()<o.zoomBase.threshold&&-1===s.id.indexOf(o.element.id+"_Zooming")&&(o.zoomBase.mouseDownX-r>=o.mouseX||o.zoomBase.mouseDownX+r>=o.mouseX)&&(o.zoomBase.mouseDownY-r>=o.mouseY||o.zoomBase.mouseDownY+r>=o.mouseY)&&(o.mouseX-r>=o.zoomBase.mouseDownX||o.mouseX+r>=o.zoomBase.mouseDownX)&&(o.mouseY-r>=o.zoomBase.mouseDownY||o.mouseY+r>=o.zoomBase.mouseDownY)),this.zoomingMouseDownHandler(o.getEventArgs(e,o.id),o)}},zoomingMouseDownHandler:function(e,t){e.target.indexOf(t.element.id+"_Zooming")>-1||e.target.indexOf(t.element.id+"_scrollBar")>-1||!(t.zoomBase.zoomSettings.enablePinchZooming||t.zoomBase.zoomSettings.enableSelectionZooming||t.zoomBase.zoomingModule.isPanning)||!sf.svgbase.withInAreaBounds(t.zoomBase.previousMouseMoveX,t.zoomBase.previousMouseMoveY,t.userInteractionBase.axisClipRect)||(t.zoomBase.isChartDrag=!0),t.isTouch&&(t.zoomBase.zoomingModule.touchStartList=this.addTouchPointer(t.zoomBase.zoomingModule.touchStartList,e,e.touches))},zoomingMouseWheelHandler:function(e,t){var i=e.target;t.zoomBase.zoomSettings&&t.zoomBase.zoomSettings.enableMouseWheelZooming&&sf.svgbase.withInAreaBounds(t.mouseX,t.mouseY,t.userInteractionBase.axisClipRect)&&!(i.id.indexOf("scrollbar")>-1)&&this.performMouseWheelZooming(e,t.mouseX,t.mouseY,t,t.userInteractionBase.axes),this.isMouseWheelScroll(i.id)&&(t.scrollbarBase.isScrollWheel=!t.scrollbarBase.isScrollWheel||t.scrollbarBase.isScrollWheel,this.performMouseWheelScrolling(e,t.mouseX,t.mouseY,t,t.userInteractionBase.axes))},renderZooming:function(e,t,i){this.calculateZoomAxesRange(t),!t.zoomBase.zoomSettings.enableSelectionZooming||t.userInteractionBase.isStockChart&&t.zoomBase.zoomSettings.enablePan||i&&(!t.zoomBase.isDoubleTap||1!==t.zoomBase.zoomingModule.touchStartList.length)||t.zoomBase.zoomingModule.isPanning&&!t.zoomBase.isDoubleTap?t.zoomBase.zoomingModule.isPanning&&!t.zoomBase.zoomingModule.isZooming&&t.zoomBase.isChartDrag&&(!i||i&&1===t.zoomBase.zoomingModule.touchStartList.length)&&(t.zoomBase.zoomingModule.pinchTarget=i?e.target:null,this.doPan(t,t.zoomBase.axisCollections)):(t.zoomBase.zoomingModule.isPanning=!!t.zoomBase.zoomingModule.isDevice||t.zoomBase.zoomingModule.isPanning,t.zoomBase.zoomingModule.performedUI=t.zoomBase.zoomingModule.isZooming=!0,this.drawZoomingRectangle(t))},calculateZoomAxesRange:function(e){for(var t,i,o=0;o<e.zoomBase.axisCollections.length;o++){var s=e.zoomBase.axisCollections[o];i=s.visibleRange,e.zoomBase.zoomingModule.zoomAxes.length>o&&e.zoomBase.zoomingModule.zoomAxes[o]&&!e.zoomBase.delayRedraw?(e.zoomBase.zoomingModule.zoomAxes[o].min=i.start,e.zoomBase.zoomingModule.zoomAxes[o].delta=i.delta):(t={actualMin:s.actualRange.start,actualDelta:s.actualRange.delta,min:i.start,delta:i.delta},e.zoomBase.zoomingModule.zoomAxes[o]=t)}},drawZoomingRectangle:function(e){var t=e.userInteractionBase.axisClipRect,i=new a(e.zoomBase.previousMouseMoveX,e.zoomBase.previousMouseMoveY),o=new a(e.mouseX,e.mouseY),s=this.getElement(e.element.id+"_svg"),r=e.zoomBase.zoomingModule.zoomingRect=this.getRectLocation(i,o,t);if(r.width>0&&r.height>0){e.zoomBase.zoomingModule.isZoomed=!0,e.userInteractionBase.disableTrackTooltip=!0,this.setAttribute(e.userInteractionBase.isStockChart?e.element.id:s.id,"cursor","crosshair"),"X"===e.zoomBase.zoomingModule.zooming.mode?(r.height=t.height,r.y=t.y):"Y"===e.zoomBase.zoomingModule.zooming.mode&&(r.width=t.width,r.x=t.x),this.removeTooltipCrosshairOnZoom(e);var n=this.getElement(e.element.id+e.zoomBase.zoomToolkitId);if(n&&(n.style.visibility="hidden"),s)s.appendChild(e.userInteractionBase.svgRenderer.drawRectangle(new g(e.element.id+"_ZoomArea",e.zoomBase.zoomingModule.zooming.themeStyleSelectionRectFill,{color:e.zoomBase.zoomingModule.zooming.themeStyleSelectionRectStroke,width:1},1,r,0,0,"","3")));else document.getElementById(e.element.id).appendChild(e.userInteractionBase.svgRenderer.drawRectangle(new g(e.element.id+"_ZoomArea",e.zoomBase.zoomingModule.zooming.themeStyleSelectionRectFill,{color:e.zoomBase.zoomingModule.zooming.themeStyleSelectionRectStroke,width:1},1,r,0,0,"","3")))}},getRectLocation:function(e,t,i){var o=t.x<i.x?i.x:t.x>i.x+i.width?i.x+i.width:t.x,s=t.y<i.y?i.y:t.y>i.y+i.height?i.y+i.height:t.y;return new sf.svgbase.Rect(o>e.x?e.x:o,s>e.y?e.y:s,Math.abs(o-e.x),Math.abs(s-e.y))},getVisibleRangeModel:function(e,t){return{min:e.start,max:e.end,interval:t,delta:e.delta}},minMax:function(e,t,i){return isFinite(e)?e>i?i:e<t?t:e:0},doPan:function(e,t,i,o){if(void 0===i&&(i=0),void 0===o&&(o=0),e.userInteractionBase.startMove&&e.crosshairBase.crosshair&&e.crosshairBase.crosshair.enable)e.userInteractionBase.disableTrackTooltip=!1;else{this.removeTooltipCrosshairOnZoom(e),e.isChartPanning=!0,e.zoomBase.zoomingModule.isZoomed=!0,e.zoomBase.zoomingModule.offset=e.zoomBase.delayRedraw?e.zoomBase.zoomingModule.offset:e.userInteractionBase.axisClipRect,e.zoomBase.delayRedraw=e.userInteractionBase.disableTrackTooltip=!0;for(var s,r,n,a=[],l=[],h=[],d=[],c=0,u=t;c<u.length;c++){var m=u[c];s=m.zoomFactor,r=m.zoomPosition,n=Math.max(1/this.minMax(s,0,1),1),r="Horizontal"===m.orientation?this.minMax(m.zoomPosition+(0!==i?i:e.zoomBase.previousMouseMoveX-e.mouseX)/m.rect.w/n,0,1-m.zoomFactor):this.minMax(m.zoomPosition-(0!==o?o:e.zoomBase.previousMouseMoveY-e.mouseY)/m.rect.h/n,0,1-m.zoomFactor),m.isZoomingScrollBar&&(m.isScrollUI=!1),a.push({axisName:m.name,zoomFactor:s,zoomPosition:r,axisRange:this.getVisibleRangeModel(m.visibleRange,m.visibleInterval)})}var g={name:"OnZooming",axisCollection:a};if(e.zoomBase.zoomingEventArgs=g,!g.cancel){for(var p=function(e){t.filter((function(t){t.name===e.axisName&&(l.push(t.name),h.push(e.zoomFactor),d.push(e.zoomPosition),t.zoomFactor=e.zoomFactor,t.zoomPosition=e.zoomPosition)}))},f=0,b=a;f<b.length;f++){p(b[f])}this.performDeferredZoom(e,l,h,d)}}},doZoom:function(e,t,i){var o=e.zoomBase.zoomingModule.zoomingRect;e.zoomBase.zoomingModule.isPanning=e.zoomBase.zoomSettings.enablePan||e.zoomBase.zoomingModule.isPanning;for(var s,r,n=[],a=0,l=t;a<l.length;a++){var h=l[a];s=h.zoomFactor,r=h.zoomPosition,"Horizontal"===h.orientation&&"Y"!==e.zoomBase.zoomingModule.zooming.mode?(r+=Math.abs((o.x-i.x)/i.width)*h.zoomFactor,s*=o.width/i.width):"Vertical"===h.orientation&&"X"!==e.zoomBase.zoomingModule.zooming.mode&&(r+=(1-Math.abs((o.height+(o.y-i.y))/i.height))*h.zoomFactor,s*=o.height/i.height),n.push({axisName:h.name,zoomFactor:s<.001?h.zoomFactor:s,zoomPosition:s<.001?h.zoomPosition:r,axisRange:this.getVisibleRangeModel(h.visibleRange,h.visibleInterval)})}var d={name:"OnZooming",axisCollection:n};if(e.zoomBase.zoomingEventArgs=d,!d.cancel){for(var c=function(e){t.filter((function(t){t.name===e.axisName&&(t.zoomFactor=e.zoomFactor,t.zoomPosition=e.zoomPosition)}))},u=0,m=n;u<m.length;u++){c(m[u])}e.zoomBase.zoomingModule.zoomingRect=new sf.svgbase.Rect(0,0,0,0),this.performZoomRedraw(e)}},performZoomRedraw:function(e,t){if(void 0===t&&(t=!1),e.zoomBase.zoomingModule.isZoomed){if(e.zoomBase.zoomingModule.zoomingRect.width>0&&e.zoomBase.zoomingModule.zoomingRect.height>0)e.zoomBase.zoomingModule.performedUI=!0,this.doZoom(e,e.userInteractionBase.axes,e.userInteractionBase.axisClipRect),e.zoomBase.isDoubleTap=!1,this.setAttribute(e.element.id+"_svg","cursor","auto");else if(e.userInteractionBase.disableTrackTooltip){e.userInteractionBase.disableTrackTooltip=e.zoomBase.delayRedraw=!1;var i={isZoomed:e.zoomBase.zoomingModule.isZoomed,isPanning:e.zoomBase.zoomingModule.isPanning,isDoubleTap:e.zoomBase.isDoubleTap,isWheelZoom:e.zoomBase.zoomingModule.isWheelZoom,performedUI:e.zoomBase.zoomingModule.performedUI,delayRedraw:e.zoomBase.delayRedraw,isChartDrag:e.zoomBase.isChartDrag,isChartPanning:e.isChartPanning};e.dotnetref.invokeMethodAsync("ZoomingComplete",e.zoomBase.zoomingEventArgs,i),t&&this.focusTarget(e.element.id)}e.isChartPanning=!1}},clearSelectionRect:function(e){var t=document.getElementById(e);t&&(t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("width","0"),t.setAttribute("height","0"))},isMouseWheelScroll:function(e){return-1!==e.indexOf("scrollBarThumb_")||-1!==e.indexOf("scrollBarBackRect_")||-1!==e.indexOf("scrollBar_leftCircle_")||-1!==e.indexOf("scrollBar_rightCircle_")||-1!==e.indexOf("scrollBar_gripCircle_")||-1!==e.indexOf("scrollBar_leftArrow_")||-1!==e.indexOf("scrollBar_rightArrow_")||-1!==e.indexOf("scrollBar_gripCircle")},getAxisName:function(e,t){for(var o=function(i){if("string"==typeof e&&-1!==e.indexOf(i)){var o=t.filter((function(e){return e.name===i}));return{value:o.length>0?o[0].name:null}}},s=0,r=t.map((function(e){return e.name}));s<r.length;s++){var n=o(r[s]);if("object"===i(n))return n.value}return null},calculateDelta:function(e,t,i,o){for(var s=0;s<t.axes.length;s++)e.name===t.axes[parseInt(s.toString(),10)].name&&(t.axis=t.axes[parseInt(s.toString(),10)]);var r=t.scrollbarOptions[e.name];r.isVertical="Vertical"===e.orientation;var n=e.isAxisInverse;if(sf.base.isNullOrUndefined(r)||r&&!document.getElementById(r.svgObject.id))return null;var a=B.getScrollEventArgs(o,[i.id,i.id+"_scrollBar_svg"+e.name]);this.mouseX=a.mouseX,this.mouseY=a.mouseY,t.previousXY=r.isVertical&&n?this.mouseY:r.isVertical?r.width-this.mouseY:n?r.width-this.mouseX:this.mouseX;return this.delta=Math.max(-1,Math.min(1,o.wheelDelta||-o.detail)),this.delta>0?t.previousXY=t.previousXY+5:t.previousXY=t.previousXY-5,r},lazyLoadScrollChanged:function(e,t,i,o){var s,r=e.isAxisInverse,n=i.isVertical&&r?i.width-this.mouseY:i.isVertical?this.mouseY:this.mouseX,a=i.zoomPosition,l=i.zoomFactor,h=i.height/2;i.isLazyLoad&&t.isScrollWheel&&i.thumbRectX!==h&&i.thumbRectX+i.thumbRectWidth+h<i.width&&0!==this.delta&&(s=B.calculateLazyRange(t,null,this.delta));var d=s?s.currentRange:null;if(t.isScrollWheel){n=i.isVertical||r?i.width-n:n;var c=i.thumbRectX+(n-t.previousXY);i.svgObject.style.cursor="default",(n>=0||n<=c+i.thumbRectWidth)&&(i.thumbRectX=B.isWithIn(c,t)?c:i.thumbRectX,B.positionThumb(i.thumbRectX,i.thumbRectWidth,t),t.previousXY=n,B.setZoomFactorPosition(t,c,i.thumbRectWidth,!1)),s&&t.isScrollEventCalled&&o.dotnetref.invokeMethodAsync("TriggerScrollEvents",B.getArgs("OnScrollChanged",e.name,a,l,d))}},lazyLoadScrollEnd:function(e,t,i,o){var s;i.startX=i.thumbRectX;var r=i.height/2,n=i.startX+i.thumbRectWidth+r+1,a=r+.5;i.isLazyLoad||(e.zoomFactor=n>=i.width-1&&i.startX-a<=0?1:i.zoomFactor),i.isLazyLoad&&(i.thumbRectX!==r&&i.thumbRectX+i.thumbRectWidth+r<i.width&&0!==this.delta&&(s=B.calculateLazyRange(t,null,this.delta)),s&&t.isScrollEventCalled&&o.dotnetref.invokeMethodAsync("TriggerScrollEvents",B.getArgs("OnScrollEnd",e.name,e.zoomPosition,e.zoomFactor,s.currentRange)),t.isScrollWheel=!1)},performMouseWheelScrolling:function(e,t,i,o,s){o.isWheelScrolling=!0;var r=o.scrollbarBase,n=e.target.id,a=this.getAxisName(n,r.axes),l=s.filter((function(e){return e.name===a}))[0],h=this.calculateDelta(l,r,o,e);this.lazyLoadScrollChanged(l,r,h,o),this.lazyLoadScrollEnd(l,r,h,o)},performMouseWheelZooming:function(e,t,i,o,s){var r="mozilla"!==o.zoomBase.zoomingModule.browser.browserName||o.zoomBase.zoomingModule.browser.isPointer?e.wheelDelta>0?1:-1:-e.detail/3>0?1:-1;o.zoomBase.zoomingModule.isZoomed=!0,this.removeTooltipCrosshairOnZoom(o),this.calculateZoomAxesRange(o),o.userInteractionBase.disableTrackTooltip=!0,o.zoomBase.zoomingModule.performedUI=!0,o.zoomBase.zoomingModule.isPanning=o.zoomBase.zoomSettings.enablePan||o.zoomBase.zoomingModule.isPanning;var n,a,l,h,d=[];o.zoomBase.zoomingModule.isWheelZoom=!0,o.isMouseWheelZoom=!0;for(var c=0,u=s;c<u.length;c++){var m=u[c];l=m.zoomFactor,h=m.zoomPosition,("Vertical"===m.orientation&&"X"!==o.zoomBase.zoomingModule.zooming.mode||"Horizontal"===m.orientation&&"Y"!==o.zoomBase.zoomingModule.zooming.mode)&&(a=Math.max(Math.max(1/this.minMax(m.zoomFactor,0,1),1)+.25*r,1))>=1&&(n=(n="Horizontal"===m.orientation?t/m.rect.w:1-i/m.rect.h)>1?1:n<0?0:n,l=1===a?1:this.minMax(1/a,0,1),h=1===a?0:m.zoomPosition+(m.zoomFactor-l)*n,m.zoomPosition===h&&m.zoomFactor===l||(l=h+l>1?1-h:l)),d.push({axisName:m.name,zoomFactor:l<.001?m.zoomFactor:l,zoomPosition:l<.001?m.zoomPosition:h,axisRange:this.getVisibleRangeModel(m.visibleRange,m.visibleInterval)})}var g={name:"OnZooming",axisCollection:d};if(o.zoomBase.zoomingEventArgs=g,!g.cancel){for(var p=function(e){s.filter((function(t){t.name===e.axisName&&(t.zoomFactor=e.zoomFactor,t.zoomPosition=e.zoomPosition)}))},f=0,b=d;f<b.length;f++){p(b[f])}this.performZoomRedraw(o)}o.zoomBase.zoomingModule.isWheelZoom=!1},performPinchZooming:function(e){if(e.zoomBase.zoomingModule.zoomingRect.width>0&&e.zoomBase.zoomingModule.zoomingRect.height>0||e.userInteractionBase.startMove&&e.crosshairBase.crosshair&&e.crosshairBase.crosshair.enable)return!1;this.calculateZoomAxesRange(e),this.removeTooltipCrosshairOnZoom(e),e.zoomBase.zoomingModule.isZoomed=e.zoomBase.zoomingModule.isPanning=e.zoomBase.zoomingModule.performedUI=!0,e.zoomBase.zoomingModule.offset=!e.zoomBase.delayRedraw||sf.base.isNullOrUndefined(e.zoomBase.zoomingModule.offset)?e.userInteractionBase.axisClipRect:e.zoomBase.zoomingModule.offset,e.zoomBase.delayRedraw=e.userInteractionBase.disableTrackTooltip=!0;var t=e.element.getBoundingClientRect(),i=e.zoomBase.zoomingModule.touchStartList,o=e.zoomBase.zoomingModule.touchMoveList,s=i[0].pageX-t.left,r=i[0].pageY-t.top,n=o[0].pageX-t.left,a=o[0].pageY-t.top,l=i[1].pageX-t.left,h=i[1].pageY-t.top,d=o[1].pageX-t.left,c=o[1].pageY-t.top,u=Math.abs(n-d)/Math.abs(s-l),m=Math.abs(a-c)/Math.abs(r-h),g=(e.zoomBase.zoomingModule.offset.x-n)/u+s,p=(e.zoomBase.zoomingModule.offset.y-a)/m+r,f=n-u*s,b=a-m*r,v=new sf.svgbase.Rect(g,p,e.zoomBase.zoomingModule.offset.width/u,e.zoomBase.zoomingModule.offset.height/m);if(!isNaN(u-u)&&!isNaN(m-m))switch(e.zoomBase.zoomSettings.mode){case"XY":this.setTransform(f,b,u,m,e,!0);break;case"X":this.setTransform(f,0,u,1,e,!0);break;case"Y":this.setTransform(0,b,1,m,e,!0)}return this.calculatePinchZoomFactor(e,v),!0},setTransform:function(e,t,i,o,s,r){var n,a=document.getElementById(s.element.id+"SeriesCollection"),l=document.getElementById(s.element.id+"IndicatorCollection");if(a&&a.setAttribute("clip-path","url(#"+s.element.id+"_ChartAreaClipRect_)"),l&&l.setAttribute("clip-path","url(#"+s.element.id+"_ChartAreaClipRect_)"),!sf.base.isNullOrUndefined(e)&&!sf.base.isNullOrUndefined(t))for(var h=0;h<s.userInteractionBase.visibleSeries.length;h++){var d=s.userInteractionBase.visibleSeries[parseInt(h.toString(),10)],c=s.userInteractionBase.isInverted?d.y_Axis.rect.x:d.x_Axis.rect.x,u=s.userInteractionBase.isInverted?d.x_Axis.rect.y:d.y_Axis.rect.y;if(n="translate("+(e+(r?i*c:c))+","+(t+(r?o*u:u))+")",n=i||o?n+" scale("+i+" "+o+")":n,d.visible){var m=this.getElement(s.element.id+"SeriesGroup"+d.index),g=this.getElement(s.element.id+"IndicatorGroup"+d.index),p=this.getElement(s.element.id+"ErrorBarGroup"+d.index),f=this.getElement(s.element.id+"SymbolGroup"+d.index),b=this.getElement(s.element.id+"TextGroup"+d.index),v=this.getElement(s.element.id+"ShapeGroup"+d.index);"Indicator"===d.category&&g?g.setAttribute("transform",n):m&&m.setAttribute("transform",n);var B=this.getElement(s.element.id+"_Series_"+d.index+"_DataLabelCollections");p&&p.setAttribute("transform",n),f&&f.setAttribute("transform",n),b&&(b.setAttribute("visibility","hidden"),v.setAttribute("visibility","hidden")),B&&(B.style.visibility="hidden")}}},performDeferredZoom:function(e,t,i,o){var s,r;if(e.zoomBase.zoomSettings.enableDeferredZooming){switch(s=e.mouseX-e.zoomBase.mouseDownX,r=e.mouseY-e.zoomBase.mouseDownY,e.zoomBase.zoomSettings.mode){case"X":r=0;break;case"Y":s=0}this.setTransform(s,r,0,0,e,!1)}else e.dotnetref.invokeMethodAsync("ChartPan",t,i,o);e.zoomBase.previousMouseMoveX=e.mouseX,e.zoomBase.previousMouseMoveY=e.mouseY},calculatePinchZoomFactor:function(e,t){for(var i,o,s,r,n,a,l=e.zoomBase.zoomingModule.zooming.mode,h=[],d=0;d<e.userInteractionBase.axes.length;d++){var c=e.userInteractionBase.axes[parseInt(d.toString(),10)];if(n=c.zoomFactor,a=c.zoomPosition,"Horizontal"===c.orientation&&"Y"!==l||"Vertical"===c.orientation&&"X"!==l){"Horizontal"===c.orientation?(i=(s=t.x-e.zoomBase.zoomingModule.offset.x)/(r=c.rect.w/e.zoomBase.zoomingModule.zoomAxes[parseInt(d.toString(),10)].delta)+e.zoomBase.zoomingModule.zoomAxes[parseInt(d.toString(),10)].min,o=(s=t.x+t.width-e.zoomBase.zoomingModule.offset.x)/r+e.zoomBase.zoomingModule.zoomAxes[parseInt(d.toString(),10)].min):(s=t.y-e.zoomBase.zoomingModule.offset.y,r=c.rect.h/e.zoomBase.zoomingModule.zoomAxes[parseInt(d.toString(),10)].delta,i=(-1*s+c.rect.h)/r+e.zoomBase.zoomingModule.zoomAxes[parseInt(d.toString(),10)].min,o=(-1*(s=t.y+t.height-e.zoomBase.zoomingModule.offset.y)+c.rect.h)/r+e.zoomBase.zoomingModule.zoomAxes[parseInt(d.toString(),10)].min);var u=Math.min(i,o),m=Math.max(i,o),g=(u-e.zoomBase.zoomingModule.zoomAxes[parseInt(d.toString(),10)].actualMin)/e.zoomBase.zoomingModule.zoomAxes[parseInt(d.toString(),10)].actualDelta,p=(m-u)/e.zoomBase.zoomingModule.zoomAxes[parseInt(d.toString(),10)].actualDelta;a=g<0?0:g,n=p>1?1:p<.03?.03:p}h.push({axisName:c.name,zoomFactor:n,zoomPosition:a,axisRange:this.getVisibleRangeModel(c.visibleRange,c.visibleInterval)})}var f={name:"OnZooming",axisCollection:h};if(e.zoomBase.zoomingEventArgs=f,!f.cancel)for(var b=function(t){e.userInteractionBase.axes.filter((function(e){e.name===t.axisName&&(e.zoomFactor=t.zoomFactor,e.zoomPosition=t.zoomPosition)}))},v=0,B=h;v<B.length;v++){b(B[v])}},mouseCancelHandler:function(e){e.zoomBase.zoomingModule&&e.zoomBase.zoomingModule.isZoomed&&(this.clearSelectionRect(e.element.id+"_ZoomArea"),this.performZoomRedraw(e),e.zoomBase.zoomingModule.isPanning&&e.zoomBase.isChartDrag&&(e.zoomBase.zoomingModule.isPanning=e.zoomBase.isChartDrag=!1),e.zoomBase.zoomSettings.isOnZoomEndCalled&&!e.zoomToolkitBase.isReset&&e.zoomBase.zoomingModule.zoomAxes.length>0&&e.dotnetref.invokeMethodAsync("TriggerZoomingEvents","OnZoomEnd",!1)),e.zoomBase.zoomingModule.pinchTarget=null,e.zoomBase.zoomingModule.touchStartList=[],e.zoomBase.zoomingModule.touchMoveList=[]},createClipRect:function(e){var t={id:e.element.id+"_ChartAreaClipRect_",x:e.userInteractionBase.axisClipRect.x,y:e.userInteractionBase.axisClipRect.y,width:e.userInteractionBase.axisClipRect.width,height:e.userInteractionBase.axisClipRect.height,fill:"transparent","stroke-width":1,stroke:"Gray"},i=e.userInteractionBase.svgRenderer.drawClipPath(t),o=this.getElement(e.element.id+"SeriesCollection");o&&o.appendChild(i)},updateClipRect:function(e,t){if(t.userInteractionBase.visibleSeries.length>0)for(var i=0;i<t.userInteractionBase.visibleSeries.length;i++){var o=t.userInteractionBase.visibleSeries[parseInt(i.toString(),10)];if(o.visible&&"Indicator"===o.category){var s=document.querySelector("[id*=_Indicator_"+o.index+"_"+o.name.replace(/^\/|\/$/g,"")+"_]"),r="translate("+o.clipRect.x.toString()+","+o.clipRect.y.toString()+")";s&&s.parentElement&&s.parentElement.setAttribute("transform",r)}}if(e){var n=t.userInteractionBase.axisClipRect;e.setAttribute("x",n.x.toString()),e.setAttribute("y",n.y.toString()),e.setAttribute("width",n.width.toString()),e.setAttribute("height",n.height.toString()),e.parentNode.parentNode.parentNode.appendChild(e.parentNode.parentNode)}},isAxisZoomed:function(e){for(var t=!1,i=0,o=e;i<o.length;i++){var s=o[i];1===s.zoomFactor&&0===s.zoomPosition||(t=!0)}return t},applyZoomingToolkit:function(e){this.getElement(e.element.id+e.zoomBase.zoomToolkitId)?this.isAxisZoomed(e.userInteractionBase.axes)?(e.zoomBase.zoomingModule.isZoomed=!0,e.zoomBase.zoomingModule.isPanning&&this.zoomToolkitPan(e)):(e.zoomBase.zoomingModule.isZoomed=e.zoomBase.zoomingModule.isPanning=!1,this.setAttribute(e.element.id+"_svg","cursor","auto")):e.zoomBase&&e.zoomBase.zoomingModule&&(e.zoomBase.zoomingModule.isPanning=this.isAxisZoomed(e.userInteractionBase.axes)&&e.zoomBase.zoomSettings.enablePan,this.setAttribute(e.element.id+"_svg","cursor",e.zoomBase.zoomingModule.isPanning?"pointer":"auto"))},zoomToolkitZoom:function(e){e.zoomBase.zoomingModule.isPanning=!1;this.setAttribute(e.element.id+"_svg","cursor","auto"),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomIn,"opacity","1"),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomOut,"opacity","Always"!==e.zoomBase.zoomSettings.toolbarDisplayMode||e.zoomBase.zoomingModule.isZoomed||e.zoomToolkitBase.isFluent2HighContrast?"1":"0.2"),this.applySelection(e.element.id+e.zoomBase.zoomToolkitZoom,e.zoomToolkitBase.selectionColor),e.zoomToolkitBase.isFluent2HighContrast?(this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomOut+"_2","fill",e.zoomBase.zoomingModule.isZoomed?e.zoomToolkitBase.selectionColor:e.zoomToolkitBase.unSelectedFill),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomIn+"_2","fill",e.zoomToolkitBase.selectionColor),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomOut+"_3","fill",e.zoomBase.zoomingModule.isZoomed?e.zoomToolkitBase.selectionColor:e.zoomToolkitBase.unSelectedFill),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomIn+"_3","fill",e.zoomToolkitBase.selectionColor),this.applySelection(e.element.id+e.zoomBase.zoomToolkitPan,e.zoomBase.zoomingModule.isZoomed?"#737373":e.zoomToolkitBase.unSelectedFill)):this.applySelection(e.element.id+e.zoomBase.zoomToolkitPan,e.zoomToolkitBase.selectionColor),e.zoomToolkitBase.selectedId&&this.setAttribute(e.zoomToolkitBase.selectedId,"fill","transparent"),e.zoomToolkitBase.selectedId=e.element.id+e.zoomBase.zoomToolkitZoom+"_1",this.setAttribute(e.zoomToolkitBase.selectedId,"fill",e.zoomToolkitBase.iconRectSelectionFill)},zoomToolkitPan:function(e){if(e.zoomBase.zoomingModule.isZoomed){e.zoomBase.zoomingModule.isPanning=!("Always"===e.zoomBase.zoomSettings.toolbarDisplayMode)||e.zoomBase.zoomingModule.isZoomed,this.setAttribute(e.element.id+"_svg","cursor","pointer");e.zoomToolkitBase.isFluent2HighContrast?(this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomIn,"opacity","1"),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomOut,"opacity","1"),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomOut+"_2","fill",e.zoomToolkitBase.unSelectedFill),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomIn+"_2","fill",e.zoomToolkitBase.unSelectedFill),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomOut+"_3","fill",e.zoomToolkitBase.unSelectedFill),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomIn+"_3","fill",e.zoomToolkitBase.unSelectedFill)):(this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomIn,"opacity","Always"!==e.zoomBase.zoomSettings.toolbarDisplayMode||e.zoomBase.zoomingModule.isZoomed?"0.2":"1"),this.setAttribute(e.element.id+e.zoomBase.zoomToolkitZoomOut,"opacity","0.2")),this.applySelection(e.element.id+e.zoomBase.zoomToolkitZoom,e.zoomToolkitBase.selectionColor),this.applySelection(e.element.id+e.zoomBase.zoomToolkitPan,e.zoomToolkitBase.selectionColor),e.zoomToolkitBase.selectedId&&this.setAttribute(e.zoomToolkitBase.selectedId,"fill","transparent"),e.zoomToolkitBase.selectedId=e.element.id+e.zoomBase.zoomToolkitPan+"_1",this.setAttribute(e.zoomToolkitBase.selectedId,"fill",e.zoomToolkitBase.iconRectSelectionFill)}},zoomToolkitZoomIn:function(e,t){e.zoomBase.zoomingModule.isZoomed=!0,e.zoomToolkitBase.selectedId=e.element.id+e.zoomBase.zoomToolkitZoom+"_1",this.zoomInOutCalculation(1,e,t)},zoomToolkitZoomOut:function(e,t){this.zoomInOutCalculation(-1,e,t)},zoomToolkitReset:function(e){var t=this;e.clearToolkitReset&&clearTimeout(e.clearToolkitReset),e.clearToolkitReset=setTimeout((function(){for(var i=[],o=0,s=e.userInteractionBase.axes;o<s.length;o++){var r=s[o];r.zoomFactor=1,r.zoomPosition=0,i.push({axisName:r.name,zoomFactor:r.zoomFactor,zoomPosition:r.zoomPosition,axisRange:t.getVisibleRangeModel(r.visibleRange,r.visibleInterval)})}var n={name:"OnZoomEnd",axisCollection:i};if(!n.cancel){e.zoomToolkitBase.isReset=!0,t.removeTooltipCrosshairOnZoom(e),t.zoomToolkitSetDeferredZoom(e,n),t.zoomToolkitRemoveTooltip(e);var a=document.getElementById(e.element.id+"SeriesCollection"),l=document.getElementById(e.element.id+"IndicatorCollection");if(a&&a.hasAttribute("clip-path")&&a.removeAttribute("clip-path"),l&&l.hasAttribute("clip-path")&&l.removeAttribute("clip-path"),!e.zoomBase.zoomingModule.isDevice&&"Always"!==e.zoomBase.zoomSettings.toolbarDisplayMode){var h=t.getElement(e.element.id+e.zoomBase.zoomToolkitId);h&&(h.style.visibility="hidden")}}}),100)},removeTooltipCrosshairOnZoom:function(e){var t=this.getElement(e.element.id+"_tooltip_svg"),i=this.getElement(e.element.id+"_UserInteraction"),o=this.getElement(e.element.id+"_crosshair_axis");if(t&&t.remove(),this.removeMarker(e),i&&"0"!==i.getAttribute("opacity")&&(i.setAttribute("opacity","0"),o))for(;o.firstChild;)o.removeChild(o.firstChild);e.tooltipBase.valueX=null,e.tooltipBase.valueY=null,e.tooltipBase.currentPoints=[],e.tooltipBase.previousPoints=[],e.markerExplodeBase.markerPreviousPoints=[]},zoomInOutCalculation:function(e,t,i){if(!t.zoomBase.zoomingModule.isPanning&&("0.2"!==i||"Always"===t.zoomBase.zoomSettings.toolbarDisplayMode)){t.zoomBase.zoomSettings.isOnZoomStartCalled&&(t.dotnetref.invokeMethodAsync("TriggerZoomingEvents","OnZoomStart",!1),t.zoomBase.zoomingModule.isZoomStart=!1);var o=t.zoomBase.zoomingModule.zooming.mode,s=void 0,r=void 0,n=void 0;t.userInteractionBase.disableTrackTooltip=t.zoomBase.delayRedraw=!0;for(var a=[],l=0,h=t.userInteractionBase.axes;l<h.length;l++){var d=h[l];"Horizontal"===d.orientation&&"Y"!==o||"Vertical"===d.orientation&&"X"!==o?(r=1===(s=Math.max(Math.max(1/this.minMax(d.zoomFactor,0,1),1)+.25*e,1))?1:this.minMax(1/s,0,1),n=1===s?0:d.zoomPosition+.5*(d.zoomFactor-r),d.zoomPosition===n&&d.zoomFactor===r||(r=n+r>1?1-n:r),a.push({axisName:d.name,zoomFactor:r,zoomPosition:n,axisRange:this.getVisibleRangeModel(d.visibleRange,d.visibleInterval)})):a.push({axisName:d.name,zoomFactor:d.zoomFactor,zoomPosition:d.zoomPosition,axisRange:this.getVisibleRangeModel(d.visibleRange,d.visibleInterval)})}var c={name:"OnZooming",axisCollection:a};if(t.zoomBase.zoomingEventArgs=c,!c.cancel)for(var u=function(e){t.userInteractionBase.axes.filter((function(t){t.name===e.axisName&&(t.zoomFactor=e.zoomFactor,t.zoomPosition=e.zoomPosition)}))},m=0,g=a;m<g.length;m++){u(g[m])}}},zoomToolkitRemoveTooltip:function(e){var t=e.zoomToolkitBase.hoverId;if(t){var i=t.replace("_1","").replace("_2","").replace("_3",""),o=document.getElementById(i+"_2"),s=document.getElementById(i+"_3");(e.zoomToolkitBase.isFluent2HighContrast&&!sf.base.isNullOrUndefined(o)&&o.getAttribute("fill")!==e.zoomToolkitBase.unSelectedFill||!sf.base.isNullOrUndefined(s)&&s.getAttribute("fill")!==e.zoomToolkitBase.unSelectedFill||!e.zoomToolkitBase.isFluent2HighContrast)&&(this.setAttribute(t,"fill",e.zoomBase.zoomingModule.isPanning?t.indexOf("_Pan_")>-1?e.zoomToolkitBase.iconRectSelectionFill:"transparent":t.indexOf("_Zoom_")>-1&&e.zoomBase.zoomingModule.isZoomed?e.zoomToolkitBase.iconRectSelectionFill:"transparent"),this.setAttribute(t.replace("_1","_2"),"fill",e.zoomBase.zoomingModule.isPanning?t.indexOf("_Pan_")>-1?e.zoomToolkitBase.selectionColor:"Tailwind3"===e.userInteractionBase.theme?"#212529":e.zoomToolkitBase.fillColor:t.indexOf("_Zoom_")>-1?e.zoomToolkitBase.selectionColor:e.zoomToolkitBase.fillColor),this.setAttribute(t.replace("_1","_3"),"fill",e.zoomBase.zoomingModule.isPanning?"Tailwind3"===e.userInteractionBase.theme?"#212529":e.zoomToolkitBase.fillColor:t.indexOf("_Zoom_")>-1?e.zoomToolkitBase.selectionColor:e.zoomToolkitBase.fillColor)),e.dotnetref.invokeMethodAsync("SetSelectedIcon",t,!1)}this.removeElement(e.zoomBase.chartZoomTip)},zoomToolkitShowTooltip:function(e,t,i,o){this.zoomToolkitRemoveTooltip(e);var s=o.clientX-(sf.svgbase.measureText(i,{size:"10px",fontWeight:"Normal",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+5),r=t+"_1",n=document.getElementById(t+"_2"),a=document.getElementById(t+"_3"),l=document.getElementById(t);(e.zoomToolkitBase.isFluent2HighContrast&&!sf.base.isNullOrUndefined(n)&&n.getAttribute("fill")!==e.zoomToolkitBase.unSelectedFill||!sf.base.isNullOrUndefined(a)&&a.getAttribute("fill")!==e.zoomToolkitBase.unSelectedFill||!e.zoomToolkitBase.isFluent2HighContrast)&&(e.zoomToolkitBase.hoverId=r,this.setAttribute(r,"fill",e.zoomToolkitBase.iconRectOverFill),this.setAttribute(t+"_2","fill",e.zoomToolkitBase.selectionColor),this.setAttribute(t+"_3","fill",e.zoomToolkitBase.selectionColor)),sf.base.isNullOrUndefined(l)||"1"!==l.getAttribute("opacity")||l.getAttribute("fill")===e.zoomToolkitBase.unSelectedFill?document.getElementById(t).setAttribute("cursor","auto"):document.getElementById(t).setAttribute("cursor","pointer"),e.isTouch||this.createTooltip(e.zoomBase.chartZoomTip,i,o.clientY+10,s,"10px"),e.dotnetref.invokeMethodAsync("SetSelectedIcon",t,!0)},zoomToolkitSetDeferredZoom:function(e,t){e.userInteractionBase.disableTrackTooltip=!1,e.zoomBase.zoomingModule.isZoomed=e.zoomBase.zoomingModule.isPanning=e.zoomBase.isChartDrag=e.zoomBase.delayRedraw=!1,e.zoomBase.zoomingModule.touchMoveList=e.zoomBase.zoomingModule.touchStartList=[],e.zoomBase.zoomingModule.pinchTarget=null,e.dotnetref.invokeMethodAsync("ZoomToolkitSetDeferredZoom",t)},zoomToolkitTooltip:function(e,t,i){var o,s=e.zoomBase;if(t.indexOf(s.zoomToolkitZoom)>-1&&!(t.indexOf(s.zoomToolkitZoomIn)>-1||t.indexOf(s.zoomToolkitZoomOut)>-1))o=e.element.id+s.zoomToolkitZoom;else if(t.indexOf(s.zoomToolkitZoomIn)>-1)o=e.element.id+s.zoomToolkitZoomIn;else if(t.indexOf(s.zoomToolkitZoomOut)>-1)o=e.element.id+s.zoomToolkitZoomOut;else if(t.indexOf(s.zoomToolkitPan)>-1)o=e.element.id+s.zoomToolkitPan;else{if(!(t.indexOf(s.zoomToolkitReset)>-1))return;o=e.element.id+s.zoomToolkitReset}o&&B.zoomToolkitShowTooltip(e,o,this.getElement(o).getAttribute("data-text"),i)},zoomToolkitMouseDown:function(e,t){var i=e.zoomBase;if(t.id.indexOf(i.zoomToolkitZoom)>-1&&!(t.id.indexOf(i.zoomToolkitZoomIn)>-1||t.id.indexOf(i.zoomToolkitZoomOut)>-1))this.zoomToolkitZoom(e);else if(t.id.indexOf(i.zoomToolkitZoomIn)>-1)this.zoomToolkitZoomIn(e,t.getAttribute("opacity"));else if(t.id.indexOf(i.zoomToolkitZoomOut)>-1)this.zoomToolkitZoomOut(e,t.getAttribute("opacity"));else if(t.id.indexOf(i.zoomToolkitPan)>-1)this.zoomToolkitPan(e);else{if(!(t.id.indexOf(i.zoomToolkitReset)>-1||this.withInZoomToolkitRect(e,i,t)))return;this.zoomToolkitReset(e)}},withInZoomToolkitRect:function(e,t,i){var o=!1;return t.zoomingModule&&t.zoomingModule.browser.isDevice&&i.closest("#"+e.element.id+t.zoomToolkitId)&&(o=!0),o},setScrollbarOptions:function(e,t){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i)||(i.scrollbarBase=i.scrollbarBase?i.scrollbarBase:{},i.scrollbarBase.isResize=t.isResize,i.scrollbarBase.axes=t.axes,i.scrollbarBase.scrollbarThemeStyle=t.scrollbarThemeStyle,i.scrollbarBase.chartAreaType=t.chartAreaType,i.scrollbarBase.isScrollExist=t.isScrollExist,i.scrollbarBase.isScrollEventCalled=t.isScrollEventCalled,i.scrollbarBase.chartTitleHeight=t.chartTitleHeight,i.scrollbarBase.chartTitlePosition=t.chartTitlePosition,i.scrollbarBase.chartSubTitleHeight=t.chartSubTitleHeight,i.scrollbarBase.margin=t.margin,i.scrollbarBase.isLegendVisible=t.isLegendVisible,i.scrollbarBase.markerHeight=t.markerHeight,i.scrollbarBase.enablePadding=t.enablePadding,i.scrollbarBase.scrollbarOptions=i.scrollbarBase.scrollbarOptions?i.scrollbarBase.scrollbarOptions:{})},renderScrollbar:function(e,t){var i,o,s,r=window.sfBlazor.getCompInstance(e);r.scrollBarsId=[],r.axes=r.scrollbarBase.axes=t,r.calculateSecondaryOffset(r.element.id),r.scrollbarBase.topScrollBarCount=0,r.scrollbarBase.bottomScrollBarCount=0,r.scrollbarBase.leftScrollBarCount=0,r.scrollbarBase.rightScrollBarCount=0,sf.base.isNullOrUndefined(r.zoomBase.zoomingModule)?o=!1:s=(o=r.zoomBase.zoomingModule).isZoomed?o.isZoomed:this.isAxisZoomed(r.userInteractionBase.axes),r.scrollbarBase.chartId=r.id;for(var n=0;n<r.axes.length;n++){if(i=r.axes[n],r.scrollbarBase.axis=i,!i||i.visible){if("PolarAxes"!==r.scrollbarBase.chartAreaType&&(s&&(i.zoomFactor<1||i.zoomPosition>0)||i.scrollbarSettings.enable&&(i.zoomFactor<=1||i.zoomPosition>=0)))!r.scrollElement&&"PolarAxes"!==r.scrollbarBase.chartAreaType&&i.visible&&(r.scrollElement=document.getElementById(r.id+"_scrollElement")),(o||r.scrollbarBase.isScrollExist&&i.scrollbarSettings.enable)&&this.getDefaults(r,i),this.removeScrollSvg(r,i),this.createScrollSvg(i,r,r.userInteractionBase.svgRenderer),r.isScrollbar=!0,r.scrollbarBase.scrollbarOptions[i.name].svgObject.appendChild(this.renderElements(r,i)),r.scrollElement.appendChild(r.scrollbarBase.scrollbarOptions[i.name].svgObject);else if(this.getElement(r.id+"_scrollElement").childNodes.length>0){var a=document.getElementById(r.id+"_scrollBar_svg"+i.name);a&&(a.style.display="none")}}else this.removeScrollSvg(r,i)}},renderElements:function(e,t){var i=t.isAxisInverse,o=e.scrollbarBase,s=o.scrollbarOptions[t.name],r=e.userInteractionBase.svgRenderer,n=r.createGroup({id:e.id+"scrollBar_"+t.name,transform:"translate("+(s.isVertical&&i?s.height:i?s.width:"0")+","+(s.isVertical&&i?"0":i?s.height:s.isVertical?s.width:"0")+") rotate("+(s.isVertical&&i?"90":s.isVertical?"270":i?"180":"0")+")"}),a=r.createGroup({id:e.id+"scrollBar_backRect_"+t.name}),l=r.createGroup({id:e.id+"scrollBar_thumb_"+t.name,transform:"translate(0,0)"});return this.backRect(o,r,a),this.thumb(o,r,l),o.axis.scrollbarSettings.enableZoom&&(this.renderCircle(o,r,l,e.userInteractionBase.theme),this.arrows(o,r,l)),this.thumbGrip(o,r,l,e.userInteractionBase.theme.indexOf("Fluent2")>-1||e.userInteractionBase.theme.indexOf("Bootstrap5")>-1||e.userInteractionBase.theme.indexOf("Tailwind3")>-1),n.appendChild(a),n.appendChild(l),n},backRect:function(e,t,i){var o=e.scrollbarThemeStyle,s=e.axis.scrollbarSettings.height,r=sf.base.isNullOrUndefined(e.axis.scrollbarSettings.trackColor)||""==e.axis.scrollbarSettings.trackColor?o.backRect:e.axis.scrollbarSettings.trackColor,n=t.drawRectangle(new g(e.chartId+"scrollBarBackRect_"+e.axis.name,r,{width:1,color:r},1,new sf.svgbase.Rect(0,0,e.scrollbarOptions[e.axis.name].width,s),e.axis.scrollbarSettings.trackRadius,e.axis.scrollbarSettings.trackRadius));n.setAttribute("vector-effect","non-scaling-stroke"),i.appendChild(n)},thumb:function(e,t,i){e.scrollbarOptions[e.axis.name].startX=e.scrollbarOptions[e.axis.name].thumbRectX;var o=e.scrollbarThemeStyle,s=e.axis.scrollbarSettings.height,r=sf.base.isNullOrUndefined(e.axis.scrollbarSettings.scrollbarColor)||""==e.axis.scrollbarSettings.scrollbarColor?o.thumb:e.axis.scrollbarSettings.scrollbarColor;e.scrollbarOptions[e.axis.name].slider=t.drawRectangle(new g(e.chartId+"scrollBarThumb_"+e.axis.name,r,{width:1,color:""},1,new sf.svgbase.Rect(e.scrollbarOptions[e.axis.name].thumbRectX,0,e.scrollbarOptions[e.axis.name].thumbRectWidth,s),e.axis.scrollbarSettings.scrollbarRadius,e.axis.scrollbarSettings.scrollbarRadius)),i.appendChild(e.scrollbarOptions[e.axis.name].slider)},renderCircle:function(e,t,i,o){var s=e.scrollbarThemeStyle,r=e.axis.scrollbarSettings.height/2,n=new v(e.chartId+"scrollBar_leftCircle_"+e.axis.name,s.circle,{width:1,color:"Fluent2HighContrast"===o?"#FFFFFF":s.circle},1,e.scrollbarOptions[e.axis.name].thumbRectX,r,r),a=t.createDefs(),l=t.createGroup({id:e.chartId+e.axis.name+"_thumb_shadow"});a.innerText='<filter x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox"id="scrollbar_shadow"><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix></filter>',l.innerText='<use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+e.chartId+"scrollBar_leftCircle_"+e.axis.name+'"></use><use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+e.chartId+"scrollBar_rightCircle_"+e.axis.name+'"></use>',e.scrollbarOptions[e.axis.name].leftCircleEle=t.drawCircle(n),n.id=e.chartId+"scrollBar_rightCircle_"+e.axis.name,n.cx=e.scrollbarOptions[e.axis.name].thumbRectX+e.scrollbarOptions[e.axis.name].thumbRectWidth,e.scrollbarOptions[e.axis.name].rightCircleEle=t.drawCircle(n),i.appendChild(a),i.appendChild(e.scrollbarOptions[e.axis.name].leftCircleEle),i.appendChild(e.scrollbarOptions[e.axis.name].rightCircleEle),i.appendChild(l)},arrows:function(e,t,i){var o=e.scrollbarThemeStyle,s=new sf.svgbase.PathOption(e.chartId+"scrollBar_leftArrow_"+e.axis.name,o.arrow,1,o.arrow,1,"",""),r=e.scrollbarOptions[e.axis.name];r.leftArrowEle=t.drawPath(s),s.id=e.chartId+"scrollBar_rightArrow_"+e.axis.name,r.rightArrowEle=t.drawPath(s),this.setArrowDirection(e);var n=e.axis.scrollbarSettings.height/2,a=n/2,l="M "+(r.thumbRectX-a)+" "+n+" L "+(r.thumbRectX-a+a*Math.sqrt(3))+" "+(n-a)+" L "+(r.thumbRectX-a+a*Math.sqrt(3))+" "+(n+a)+" Z",h="M "+(r.thumbRectX+r.thumbRectWidth+a)+" "+n+" L "+(r.thumbRectX+r.thumbRectWidth+a-a*Math.sqrt(3))+" "+(n-a)+" L "+(r.thumbRectX+r.thumbRectWidth+a-a*Math.sqrt(3))+" "+(n+a)+" Z";r.leftArrowEle.setAttribute("d",l),r.rightArrowEle.setAttribute("d",h),i.appendChild(r.leftArrowEle),i.appendChild(r.rightArrowEle)},setArrowDirection:function(e){var t=e.scrollbarOptions[e.axis.name],i=e.axis.scrollbarSettings.height/2,o=i/2,s="M "+(t.thumbRectX-o)+" "+i+" L "+(t.thumbRectX-o+o*Math.sqrt(3))+" "+(i-o)+" L "+(t.thumbRectX-o+o*Math.sqrt(3))+" "+(i+o)+" Z",r="M "+(t.thumbRectX+t.thumbRectWidth+o)+" "+i+" L "+(t.thumbRectX+t.thumbRectWidth+o-o*Math.sqrt(3))+" "+(i-o)+" L "+(t.thumbRectX+t.thumbRectWidth+o-o*Math.sqrt(3))+" "+(i+o)+" Z";t.leftArrowEle.setAttribute("d",s),t.rightArrowEle.setAttribute("d",r)},thumbGrip:function(e,t,i,o){var s=0,r=0,n=e.scrollbarThemeStyle,a=!sf.base.isNullOrUndefined(e.axis.scrollbarSettings.gripColor)&&e.axis.scrollbarSettings.gripColor?e.axis.scrollbarSettings.gripColor:n.grip,l=new v(e.chartId+"scrollBar_gripCircle0_"+e.axis.name,a,{width:1,color:a},1,0,0,1),h=e.scrollbarOptions[e.axis.name],d=e.axis.scrollbarSettings.height,c=d/2+2.5-.5,u=d/2-2.5-.5;h.gripCircle=t.createGroup({id:e.chartId+"scrollBar_gripCircle_"+e.axis.name,transform:"translate("+(h.thumbRectX+h.thumbRectWidth/2+5*(h.isVertical?1:-1)-(o?h.isVertical?-4:4:0))+","+(h.isVertical?c:u)+") rotate("+(h.isVertical?"180":"0")+")"});for(var m=1;m<=(o?10:6);m++)l.id=e.chartId+"scrollBar_gripCircle"+m+"_"+e.axis.name,l.cx=s,l.cy=r,h.gripCircle.appendChild(t.drawCircle(l)),s=m===(o?5:3)?0:s+5,r=m>=(o?5:3)?5:0;e.axis.scrollbarSettings.height>=12&&i.appendChild(h.gripCircle)},getDefaults:function(e,t){var i=e.scrollbarBase.axis.scrollbarSettings.height/2,o=2*i+10+14;e.scrollbarBase.scrollbarOptions[t.name]||(e.scrollbarBase.scrollbarOptions[t.name]={});var s=e.scrollbarBase.scrollbarOptions[t.name];t.scrollbarSettings.enable&&(s.isLazyLoad=!0,this.getLazyDefaults(e,t)),s.isVertical="Vertical"===t.orientation,s.zoomFactor=s.isLazyLoad?s.zoomFactor:t.zoomFactor,s.zoomPosition=s.isLazyLoad?s.zoomPosition:t.zoomPosition;var r=s.zoomFactor*(s.isVertical?t.rect.h:t.rect.w);r=r>o?r:o,s.scrollX=t.rect.x,s.scrollY=t.rect.y,s.width=s.isVertical?t.rect.h:t.rect.w,s.height=t.scrollbarSettings.height;var n=s.zoomPosition*(s.isVertical?t.rect.h:s.width);n=s.isLazyLoad&&0===n&&s.startX?s.startX:n;var a=s.width-r-i;s.thumbRectX=Math.min(Math.max(n,i),a),s.thumbRectWidth=e.scrollbarBase.isThumbDrag||e.isWheelScrolling?s.thumbRectWidth:r},getLazyDefaults:function(e,t){var i,o,s=t.valueType,r=t.scrollbarSettings,n=t.scrollbarSettings.range,a=t.visibleRange,l=t.scrollbarSettings.pointsLength,h=e.scrollbarBase.scrollbarOptions[t.name];switch(h.valueType=s=sf.base.isNullOrUndefined(r.range.minimum)&&sf.base.isNullOrUndefined(r.range.maximum)||!r.pointsLength?s:"Double",s){case"Double":case"Category":case"Logarithmic":i=n.minimum?n.minimum:l?0:a.start,o=n.maximum?n.maximum:l?l-1:a.end;break;case"DateTime":case"DateTimeCategory":i=n.minimum?Date.parse(n.minimum):a.start,o=n.maximum?Date.parse(n.maximum):a.end}"Category"!==t.valueType&&(i=Math.min(i,a.start),o=Math.max(o,a.end));var d=(a.end-a.start)/(o-i),c=(a.start-i)/(o-i);h.zoomFactor=n.minimum||n.maximum?d:h.zoomFactor?h.zoomFactor:t.maxPointLength/t.scrollbarSettings.pointsLength,h.zoomPosition=n.minimum||n.maximum?c:h.zoomPosition?h.zoomPosition:t.zoomPosition,h.scrollRange={start:i,end:o,delta:"Category"!==t.valueType||n.maximum?o-i:l},h.previousStart=a.start,h.previousEnd=a.end},createScrollSvg:function(e,t,i){var o=e.rect,s="Horizontal"===e.orientation,r=t.scrollbarBase.enablePadding&&s&&("Top"===e.scrollbarSettings.position||"Bottom"===e.scrollbarSettings.position),n=t.scrollbarBase.scrollbarOptions[e.name],a=(e.isAxisOppositePosition&&s?-16:r?t.scrollbarBase.markerHeight:0)+o.y+Math.max(.5,e.axisLineStyleWidth/2)+t.userInteractionBase.secondaryElementOffset.top,l=(e.isAxisOppositePosition&&!s?16:0)+o.x-(n.isVertical?n.height:0)+t.userInteractionBase.secondaryElementOffset.left;s||"Left"!==e.scrollbarSettings.position&&"Right"!==e.scrollbarSettings.position?!s||"Top"!==e.scrollbarSettings.position&&"Bottom"!==e.scrollbarSettings.position||(a=this.calculateScrollbarOffset(n,t)):l=this.calculateScrollbarOffset(n,t);var h=t.scrollbarBase.isThumbDrag&&n.isLazyLoad&&e.scrollbarSettings.height>=12?"-webkit-grabbing":"auto",d=t.element.id+"_scrollBar_svg"+e.name;t.scrollBarsId.push(d),n.svgObject=i.createSvg({id:d,width:n.isVertical?n.height:n.width,height:n.isVertical?n.width:n.height,style:"position: absolute;top: "+a+"px;left: "+l+"px;cursor:"+h+";"})},calculateScrollbarOffset:function(e,t){var i,o=t.scrollbarBase.axis.scrollbarSettings.position,s=t.scrollbarBase.chartTitlePosition,r="Top"===s||"Bottom"===s&&!t.scrollbarBase.isLegendVisible?15:10,n=s===o?t.scrollbarBase.chartTitleHeight+t.scrollbarBase.chartSubTitleHeight+r:0;switch(o){case"Left":i=t.scrollbarBase.margin.left+5+(e.height+5)*t.scrollbarBase.leftScrollBarCount+n,t.scrollbarBase.leftScrollBarCount++;break;case"Right":i=t.userInteractionBase.availableSize.width-((e.height+5)*t.scrollbarBase.rightScrollBarCount+e.height+5+t.scrollbarBase.margin.right+n),t.scrollbarBase.rightScrollBarCount++;break;case"Top":i=t.scrollbarBase.margin.top+5+(e.height+5)*t.scrollbarBase.topScrollBarCount+n,t.scrollbarBase.topScrollBarCount++;break;case"Bottom":i=t.userInteractionBase.availableSize.height-((e.height+5)*t.scrollbarBase.bottomScrollBarCount+e.height+5+t.scrollbarBase.margin.bottom+n),t.scrollbarBase.bottomScrollBarCount++}return i},removeScrollSvg:function(e,t){!sf.base.isNullOrUndefined(e)&&document.getElementById(e.element.id+"_scrollBar_svg"+t.name)&&sf.base.remove(document.getElementById(e.element.id+"_scrollBar_svg"+t.name))},removeTooltipCrosshair:function(){for(var e in window.sfBlazor.instances)if(window.sfBlazor.instances[""+e]){var t=window.sfBlazor.instances[""+e];!sf.base.isNullOrUndefined(t)&&!sf.base.isNullOrUndefined(document.getElementById(t.id))&&-1!==t.dataId.indexOf("sfChart-")&&t.tooltipBase.tooltipModule&&t.crosshairBase.crosshair&&(this.removeTooltip(10,t),this.removeCrosshair(t,10))}},removeScrollbarSvg:function(e,t){for(var i=window.sfBlazor.getCompInstance(e),o=0;o<t.length;o++){var s=t[o];this.removeScrollSvg(i,s)}sf.base.isNullOrUndefined(i)||(i.isScrollbar=!1)}};return B}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor/scripts/syncfusion-blazor-base.min.js`).then(()=>{sfBlazor.loadDependencies('sfchart');})})();