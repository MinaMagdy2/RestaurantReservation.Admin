/*!*  filename: sf-sankey.min.js 
*     version : 31.2.12 
*     Copyright Syncfusion Inc. 2001 - 2025. All rights reserved. 
*     Use of this code is subject to the terms of our license.
*     A copy of the current license can be obtained at any time by e-mailing 
*     licensing@syncfusion.com. Any infringement will be prosecuted under 
*     applicable laws. 
*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"./bundles/sf-sankey.js":function(e,t,n){"use strict";n.r(t);n("./modules/sf-sankey.js")},"./modules/sf-sankey.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.Sankey=function(){"use strict";var e=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{a(i.next(e))}catch(e){o(e)}}function h(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,h)}a((i=i.apply(e,t||[])).next())}))},t=function(e,t){var n,i,s,o,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function h(o){return function(h){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=2&o[0]?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(s=r.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){r=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){r.label=o[1];break}if(6===o[0]&&r.label<s[1]){r.label=s[1],s=o;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(o);break}s[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],i=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,h])}}},n=function(){function e(e,t,n,i){window.sfBlazor=window.sfBlazor,this.isDisposed=!1,this.mouseY=0,this.mouseX=0,this.svgOffsetX=0,this.svgOffsetY=0,this.isTouch=!1,this.eventInterval=80,this.mouseMoveRef=null,this.mouseMoveThreshold=null,this.chartOnMouseClickRef=null,this.mouseLeaveRef=null,this.chartKeyDownRef=null,this.mouseEndRef=null,this.dataId=e,this.id=t,this.svgId=t+"_svg",this.element=n,this.dotnetref=i,window.sfBlazor.setCompInstance(this),this.wireEvents()}return e.prototype.destroySankey=function(){this.unwireEvents()},e.prototype.wireEvents=function(){i.dotnetrefCollection.push({id:this.id,dotnetref:this.dotnetref}),i.resizeBound=i.sankeyResize.bind(this,i.dotnetrefCollection);var e="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(e,i.resizeBound),this.mouseEndRef=this.mouseEnd.bind(this),this.mouseMoveRef=this.mouseMove.bind(this),this.chartOnMouseClickRef=this.chartOnMouseClick.bind(this),this.mouseLeaveRef=this.mouseLeave.bind(this),this.chartKeyDownRef=this.chartKeyDown.bind(this),sf.base.EventHandler.add(this.element,sf.base.Browser.touchEndEvent,this.mouseEndRef),this.element.addEventListener("mousemove",this.mouseMoveRef),this.element.addEventListener("touchmove",this.mouseMoveRef),sf.base.EventHandler.add(this.element,"click",this.chartOnMouseClickRef),sf.base.EventHandler.add(this.element,sf.base.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeaveRef),sf.base.EventHandler.add(this.element,"keydown",this.chartKeyDownRef)},e.prototype.unwireEvents=function(){var e="onorientationchange"in window?"orientationchange":"resize";window.removeEventListener(e,i.resizeBound),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchEndEvent,this.mouseEndRef),this.element.removeEventListener("mousemove",this.mouseMoveRef),this.element.removeEventListener("touchmove",this.mouseMoveRef),sf.base.EventHandler.remove(this.element,"click",this.chartOnMouseClickRef),sf.base.EventHandler.remove(this.element,sf.base.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeaveRef),sf.base.EventHandler.remove(this.element,"keydown",this.chartKeyDownRef)},e.prototype.mouseEnd=function(e){this.dotnetref.invokeMethodAsync("OnMouseEnd",this.getEventArgs(e))},e.prototype.mouseMove=function(e){(null==this.mouseMoveThreshold||(new Date).getTime()-this.mouseMoveThreshold>this.eventInterval)&&(this.mouseMoveThreshold=(new Date).getTime(),this.dotnetref.invokeMethodAsync("OnChartMouseMove",this.getEventArgs(e)))},e.prototype.chartOnMouseClick=function(e){this.dotnetref.invokeMethodAsync("OnChartMouseClick",this.getEventArgs(e))},e.prototype.mouseLeave=function(e){this.dotnetref.invokeMethodAsync("OnChartMouseLeave",this.getEventArgs(e))},e.prototype.chartKeyDown=function(e){this.dotnetref.invokeMethodAsync("OnChartKeyDown",this.getKeyboardEventArgs(e))},e.prototype.getEventArgs=function(e){var t=e.changedTouches?e.changedTouches[0].clientX:e.clientX,n=e.changedTouches?e.changedTouches[0].clientY:e.clientY;return this.setMouseXY(t,n),{type:e.type,clientX:t,clientY:n,mouseX:this.mouseX,mouseY:this.mouseY,target:e.target.id,svgOffsetX:this.svgOffsetX,svgOffsetY:this.svgOffsetY}},e.prototype.getKeyboardEventArgs=function(e){return{type:e.type,key:e.key,keyCode:e.keyCode,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey}},e.prototype.setMouseXY=function(e,t){var n=this.element.id,i=document.getElementById(n+"_svg"),s=document.getElementById(n);if(i&&s){var o=i.getBoundingClientRect(),r=s.getBoundingClientRect(),h=Math.max(o.left-r.left,0),a=Math.max(o.top-r.top,0);this.mouseY=t-r.top-a,this.mouseX=e-r.left-h,this.svgOffsetX=h,this.svgOffsetY=a}},e}(),i={initializeSankey:function(e,t,i){new n(e,t.id,t,i)},dotnetrefCollection:[],destroySankey:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||t.destroySankey()},getSankeyParentSize:function(e){var t=document.getElementById(e);if(t){var n=document.getElementById(e+"_svg");n&&(n.style.display="none"),t.style.width="100%",t.style.height="100%";var i=t.getBoundingClientRect(),s=i.width||t.clientWidth||t.offsetWidth,o=i.height||t.clientHeight||t.offsetHeight;return n&&(n.style.display=""),{width:s,height:o,left:i.left,top:i.top,right:i.right,bottom:i.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getSankeyElementBoundsById:function(e,t){void 0===t&&(t=!0),t&&(this.id=e);var n=document.getElementById(e);if(n){var i=n.getBoundingClientRect();return{width:n.clientWidth||n.offsetWidth,height:n.clientHeight||n.offsetHeight,left:i.left,top:i.top,right:i.right,bottom:i.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getAllCharacters:function(){for(var e=[],t=33;t<591;t++)e.push(String.fromCharCode(t));return e},getSankeyCharCollectionSize:function(n){return e(this,void 0,void 0,(function(){var e,i,s,o,r,h,a,l,u,d,f,c,v,m,y;return t(this,(function(t){switch(t.label){case 0:for(e=[],i=this.getAllCharacters(),s=[],o={},l=0;l<n.length;l++)(r=n[l].split("_"))&&r.length>2&&(c=r[2],Object.prototype.hasOwnProperty.call(o,c)||(o[c]=!0,s.push(c)));h=0,a=s,t.label=1;case 1:return h<a.length?(c=a[h],[4,document.fonts.load("1em "+c)]):[3,4];case 2:t.sent(),t.label=3;case 3:return h++,[3,1];case 4:for(l=0;l<n.length;l++)for(u=n[l].split("_"),d=u[0],f=u[1],c=u[2],v=0;v<i.length;v++)m=i[v],y=this.measureText(m,d,f,c).Width,e.push(y.toString());return[2,JSON.stringify(e)]}}))}))},getSankeyCharSizeByFontKeys:function(e){for(var t,n={},i=e.length,s=[],o=0;o<i;o++)s=e[parseInt(o.toString(),10)].split("_"),t=this.measureText(s[0],s[1],s[2],s[3]),n[e[parseInt(o.toString(),10)]]={X:t.Width,Y:t.Height};return JSON.stringify(n)},measureText:function(e,t,n,i){var s=document.getElementById("sfsankeychartmeasuretext");return null===s&&(s=sf.base.createElement("text",{id:"sfsankeychartmeasuretext"}),document.body.appendChild(s))," "===e&&(e="&nbsp;"),s.innerHTML=e,s.style.position="fixed",s.style.fontSize="100px",s.style.fontWeight=t,s.style.fontStyle=n,s.style.fontFamily=i,s.style.visibility="hidden",s.style.top="-100",s.style.left="0",s.style.whiteSpace="nowrap",s.style.lineHeight="normal",{Width:s.clientWidth,Height:s.clientHeight}},removeClipPathsFromGroups:function(e){var t=document.getElementById(e);if(t)for(var n=t.getElementsByTagName("g"),i=0;i<n.length;i++){var s=n[i];s.hasAttribute("clip-path")&&-1===s.id.indexOf("_legend_collection")&&s.removeAttribute("clip-path")}},sankeyResize:function(e){var t=this;return this.resize&&clearTimeout(this.resize),this.isDisposed||(this.resize=setTimeout((function(){for(var n,i,s,o=e.length,r={},h=0;h<o;h++)n=e[parseInt(h.toString(),10)].dotnetref,i=e[parseInt(h.toString(),10)].id,s=document.getElementById(i+"_svg"),sf.base.isNullOrUndefined(s)||(s.style.display="none");for(h=0;h<o;h++)n=e[parseInt(h.toString(),10)].dotnetref,i=e[parseInt(h.toString(),10)].id,s=document.getElementById(i),sf.base.isNullOrUndefined(s)||(r[""+i]={Dotnetref:n,Width:s.clientWidth||s.offsetWidth,Height:s.clientHeight||s.offsetHeight});for(var a in r)if(r[""+a]){var l=r[""+a].Dotnetref,u=document.getElementById(a+"_svg");sf.base.isNullOrUndefined(u)||(l.invokeMethodAsync("OnSankeyResize",JSON.stringify({Width:r[""+a].Width,Height:r[""+a].Height})),u.style.display="")}clearTimeout(t.resize)}),500)),!1},resizeBound:void 0,resize:void 0};return i}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor/scripts/syncfusion-blazor-base.min.js`).then(()=>{sfBlazor.loadDependencies('sfsankey');})})();